(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624,7795,2298,4211],{90824:function(e,t,n){"use strict";n.d(t,{AA:function(){return A},AK:function(){return d},F1:function(){return I},HD:function(){return m},IV:function(){return U},Kn:function(){return p},Le:function(){return y},P2:function(){return P},RR:function(){return S},Sm:function(){return O},U7:function(){return _},Vp:function(){return c},W6:function(){return b},WE:function(){return j},Wx:function(){return E},Xh:function(){return L},Y8:function(){return M},c4:function(){return R},cn:function(){return G},cx:function(){return w},jL:function(){return C},jv:function(){return F},kJ:function(){return f},mf:function(){return x},o8:function(){return h},pv:function(){return z},vP:function(){return B},xC:function(){return H},zO:function(){return k},zt:function(){return N}});var i,r,o,s="undefined",a=typeof window!==s,l=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],c=1e-7,u={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,t){return e*t/100},vw:function(e,t){return void 0===t&&(t=window.innerWidth),e/100*t},vh:function(e,t){return void 0===t&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return void 0===t&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return void 0===t&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};function d(e,t,n,i){return(e*i+t*n)/(n+i)}function h(e){return typeof e===s}function p(e){return e&&"object"==typeof e}function f(e){return Array.isArray(e)}function m(e){return"string"==typeof e}function x(e){return"function"==typeof e}function g(e,t,n){if(!e.ignore)return null;var i=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(i)}function v(e,t){var n,i=m(t)?{separator:t}:t,r=i.separator,o=void 0===r?",":r,s=i.isSeparateFirst,a=i.isSeparateOnlyOpenClose,c=i.isSeparateOpenClose,u=void 0===c?a:c,d=i.openCloseCharacters,h=void 0===d?l:d,p=RegExp("(\\s*"+o+"\\s*|"+h.map(function(e){var t=e.open,n=e.close;return t===n?t:t+"|"+n}).join("|")+"|\\s+)","g"),f=e.split(p).filter(Boolean),x=f.length,v=[],j=[];function b(){return!!j.length&&(v.push(j.join("")),j=[],!0)}for(var y=0;y<x;++y){var C=function(e){var t=f[e].trim(),i=e,r=D(h,function(e){return e.open===t}),l=D(h,function(e){return e.close===t});if(r){if(-1!==(i=function e(t,n,i,r,o){return g(t,n,i)?i:function(t,n,i,r,o){for(var s,a=i;a<r;++a){var l=function(i){var a=n[i].trim();if(a===t.close&&!g(t,n,i))return{value:i};var l=i,c=D(o,function(e){return e.open===a});if(c&&(l=e(c,n,i,r,o)),-1===l)return s=i,"break";s=i=l}(a);if(a=s,"object"==typeof l)return l.value;if("break"===l)break}return -1}(t,n,i+1,r,o)}(r,f,e,x,h))&&u)return b()&&s?(n=e,"break"):(v.push(f.slice(e,i+1).join("")),e=i,s)?(n=e,"break"):(n=e,"continue")}else if(l&&!g(l,f,e))throw Error("invalid format: "+l.close);else if(((""===o||" "==o)&&(""===t||" "==t)||t===o)&&!a)return(b(),s)?(n=e,"break"):(n=e,"continue");-1===i&&(i=x-1),j.push(f.slice(e,i+1).join("")),n=e=i}(y);if(y=n,"break"===C)break}return j.length&&v.push(j.join("")),v}function j(e){return v(e,"")}function b(e){return v(e,",")}function y(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function C(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],i=t[2];return{prefix:n,unit:t[3],value:parseFloat(i)}}function k(){return Date.now?Date.now():new Date().getTime()}function w(e,t,n){void 0===n&&(n=-1);for(var i=e.length,r=0;r<i;++r)if(t(e[r],r,e))return r;return n}function D(e,t,n){var i=w(e,t);return i>-1?e[i]:n}var _=(i=k(),(r=a&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame))?r.bind(window):function(e){var t=k();return window.setTimeout(function(){e(t-i)},1e3/60)}),E=(o=a&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame))?o.bind(window):function(e){clearTimeout(e)};function S(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in t)t.push(n);return t}function A(e,t){var n=C(e),i=n.value,r=n.unit;if(p(t)){var o=t[r];if(o){if(x(o))return o(i);if(u[r])return u[r](i,o)}}else if("%"===r)return i*t/100;return u[r]?u[r](i):i}function T(e,t,n){return[[P(t[0],c),P(t[0]*e[1]/e[0],c)],[P(t[1]*e[0]/e[1],c),P(t[1],c)]].filter(function(e){return e.every(function(e,i){return n?e<=t[i]:e>=t[i]})})[0]||e}function I(e,t,n,i){if(!i)return e.map(function(e,i){return Math.max(t[i],Math.min(e,n[i]))});var r=e[0],o=e[1],s=T(e,t,!1),a=s[0],l=s[1],c=T(e,n,!0),u=c[0],d=c[1];return r<a||o<l?(r=a,o=l):(r>u||o>d)&&(r=u,o=d),[r,o]}function O(e){for(var t=e.length,n=0,i=t-1;i>=0;--i)n+=e[i];return n}function M(e){for(var t=e.length,n=0,i=t-1;i>=0;--i)n+=e[i];return t?n/t:0}function F(e,t){var n=t[0]-e[0],i=Math.atan2(t[1]-e[1],n);return i>=0?i:i+2*Math.PI}function R(e){var t=[0,1].map(function(t){return M(e.map(function(e){return e[t]}))}),n=F(t,e[0]),i=F(t,e[1]);return n<i&&i-n<Math.PI||n>i&&i-n<-Math.PI?1:-1}function N(e,t){return Math.sqrt(Math.pow((t?t[0]:0)-e[0],2)+Math.pow((t?t[1]:0)-e[1],2))}function P(e,t){return t?Math.round(e/t)*t:e}function L(e,t){return e.forEach(function(n,i){e[i]=P(e[i],t)}),e}function z(e,t){return e.classList?e.classList.contains(t):!!e.className.match(RegExp("(\\s|^)"+t+"(\\s|$)"))}function G(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function U(e,t){if(e.classList)e.classList.remove(t);else{var n=RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function B(e,t,n,i){e.addEventListener(t,n,i)}function H(e,t,n,i){e.removeEventListener(t,n,i)}},25161:function(e,t,n){"use strict";function i(e,t){for(var n=e.length,i=0;i<n;++i)if(t(e[i],i))return!0;return!1}function r(e,t){for(var n=e.length,i=0;i<n;++i)if(t(e[i],i))return e[i];return null}function o(e,t){try{return RegExp(e,"g").exec(t)}catch(e){return null}}function s(e){return e.replace(/_/g,".")}function a(e,t){var n=null,r="-1";return i(e,function(e){var i,a=o("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!!a&&!e.brand&&((n=e,r=a[3]||"-1",e.versionAlias)?r=e.versionAlias:e.versionTest&&(r=((i=o("("+e.versionTest.toLowerCase()+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t))?i[3]:"")||r),r=s(r),!0)}),{preset:n,version:r}}function l(e,t){var n={brand:"",version:"-1"};return i(e,function(e){var i=c(t,e);return!!i&&(n.brand=e.id,n.version=e.versionAlias||i.version,"-1"!==n.version)}),n}function c(e,t){return r(e,function(e){var n=e.brand;return o(""+t.test,n.toLowerCase())})}var u=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],d=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],h=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],p=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],f=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];t.ZP=function(e){return void 0===e&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!!(t&&t.length)}()?function(e){var t=navigator.userAgentData,n=(t.uaList||t.brands).slice(),o=t.mobile||!1,a=n[0],m=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),x={name:a.brand,version:a.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!l(p,n).brand},g={name:"unknown",version:"-1",majorVersion:-1};x.webkit=!x.chromium&&i(h,function(e){return c(n,e)});var v=l(d,n);if(x.chromium=!!v.brand,x.chromiumVersion=v.version,!x.chromium){var j=l(h,n);x.webkit=!!j.brand,x.webkitVersion=j.version}var b=r(f,function(e){return RegExp(""+e.test,"g").exec(m)});g.name=b?b.id:"",e&&(g.version=e.platformVersion);var y=l(u,n);return y.brand&&(x.name=y.brand,x.version=e?e.uaFullVersion:y.version),x.webkit&&(g.name=o?"ios":"mac"),"ios"===g.name&&x.webview&&(x.version="-1"),g.version=s(g.version),x.version=s(x.version),g.majorVersion=parseInt(g.version,10),x.majorVersion=parseInt(x.version,10),{browser:x,os:g,isMobile:o,isHints:!0}}():function(e){var t=function(e){var t=e;if(void 0===t){if("undefined"==typeof navigator||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}(e),n=!!/mobi/g.exec(t),i={name:"unknown",version:"-1",majorVersion:-1,webview:!!a(p,t).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},r={name:"unknown",version:"-1",majorVersion:-1},o=a(u,t),s=o.preset,l=o.version,c=a(f,t),m=c.preset,x=c.version,g=a(d,t);if(i.chromium=!!g.preset,i.chromiumVersion=g.version,!i.chromium){var v=a(h,t);i.webkit=!!v.preset,i.webkitVersion=v.version}return m&&(r.name=m.id,r.version=x,r.majorVersion=parseInt(x,10)),s&&(i.name=s.id,i.version=l,i.webview&&"ios"===r.name&&"safari"!==i.name&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:r,isMobile:n,isHints:!1}}(e)}},75004:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},H:function(){return p}});var i,r=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,i=this.values,r=n.indexOf(e),o=-1===r?n.length:r;n[o]=e,i[o]=t},e}(),o=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),s="function"==typeof Map,a=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}(),l=function(){function e(e,t,n,i,r,o,s,a){this.prevList=e,this.list=t,this.added=n,this.removed=i,this.changed=r,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e,t,n,i,r=(e=this.changedBeforeAdded,t=this.fixed,n=[],i=[],e.forEach(function(e){var t=e[0],r=e[1],o=new a;n[t]=o,i[r]=o}),n.forEach(function(e,t){e.connect(n[t-1])}),e.filter(function(e,n){return!t[n]}).map(function(e,t){var r=e[0],o=e[1];if(r===o)return[0,0];var s=n[r],a=i[o-1],l=s.getIndex();return s.disconnect(),a?s.connect(a,a.next):s.connect(void 0,n[0]),[l,s.getIndex()]})),o=this.changed,s=[];this.cacheOrdered=r.filter(function(e,t){var n=e[0],i=e[1],r=o[t],a=r[0],l=r[1];if(n!==i)return s.push([a,l]),!0}),this.cachePureChanged=s},e}();function c(e,t,n){var i=s?Map:n?o:r,a=n||function(e){return e},c=[],u=[],d=[],h=e.map(a),p=t.map(a),f=new i,m=new i,x=[],g=[],v={},j=[],b=0,y=0;return h.forEach(function(e,t){f.set(e,t)}),p.forEach(function(e,t){m.set(e,t)}),h.forEach(function(e,t){var n=m.get(e);void 0===n?(++y,u.push(t)):v[n]=y}),p.forEach(function(e,t){var n=f.get(e);void 0===n?(c.push(t),++b):(d.push([n,t]),y=v[t]||0,x.push([n-y,t-b]),g.push(t===n),n!==t&&j.push([n,t]))}),u.reverse(),new l(e,t,c,u,j,d,x,g)}var u=function(){function e(e,t){void 0===e&&(e=[]),this.findKeyCallback=t,this.list=[].slice.call(e)}return e.prototype.update=function(e){var t=[].slice.call(e),n=c(this.list,t,this.findKeyCallback);return this.list=t,n},e}(),d=function(e,t){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},h="function"==typeof Map?void 0:(i=0,function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++i)});function p(e,t){return c(e,t,h)}var f=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,h)||this}return!function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(u)},82863:function(e,t,n){"use strict";n.d(t,{FX:function(){return a},Nq:function(){return s},rg:function(){return o}});var i=n(2784);let r=(0,i.createContext)(null);function o({clientId:e,onScriptLoadSuccess:t,onScriptLoadError:n,children:o}){let s=function(e={}){let{onScriptLoadSuccess:t,onScriptLoadError:n}=e,[r,o]=(0,i.useState)(!1),s=(0,i.useRef)(t);s.current=t;let a=(0,i.useRef)(n);return a.current=n,(0,i.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=()=>{var e;o(!0),null===(e=s.current)||void 0===e||e.call(s)},e.onerror=()=>{var e;o(!1),null===(e=a.current)||void 0===e||e.call(a)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),r}({onScriptLoadSuccess:t,onScriptLoadError:n}),a=(0,i.useMemo)(()=>({clientId:e,scriptLoadedSuccessfully:s}),[e,s]);return i.createElement(r.Provider,{value:a},o)}function s({flow:e="implicit",scope:t="",onSuccess:n,onError:o,...s}){let{clientId:a,scriptLoadedSuccessfully:l}=function(){let e=(0,i.useContext)(r);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),c=(0,i.useRef)(),u=(0,i.useRef)(n);u.current=n;let d=(0,i.useRef)(o);d.current=o,(0,i.useEffect)(()=>{var n;if(!l)return;let i="implicit"===e?"initTokenClient":"initCodeClient",r=null===(n=window.google)||void 0===n?void 0:n.accounts.oauth2[i]({client_id:a,scope:`openid profile email ${t}`,callback:e=>{var t,n;if(e.error)return null===(t=d.current)||void 0===t?void 0:t.call(d,e);null===(n=u.current)||void 0===n||n.call(u,e)},...s});c.current=r},[a,l,e,t]);let h=(0,i.useCallback)(e=>c.current.requestAccessToken(e),[]),p=(0,i.useCallback)(()=>c.current.requestCode(),[]);return"implicit"===e?h:p}function a(e,t,...n){return!!window.google&&window.google.accounts.oauth2.hasGrantedAllScopes(e,t,...n)}},50786:function(e,t,n){"use strict";var i=n(23949),r=n(90824),o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._startRect=null,t._startPos=[],t._prevTime=0,t._timer=0,t._prevScrollPos=[0,0],t._isWait=!1,t}!function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e);var n=t.prototype;return n.dragStart=function(e,t){var n=t.container,i=0,r=0,o=0,s=0;if(n===document.body)o=window.innerWidth,s=window.innerHeight;else{var a=n.getBoundingClientRect();i=a.top,r=a.left,o=a.width,s=a.height}this._startPos=[e.clientX,e.clientY],this._startRect={top:i,left:r,width:o,height:s},this._prevScrollPos=this._getScrollPosition([0,0],t)},n.drag=function(e,t){var n=e.clientX,i=e.clientY,r=t.threshold,o=void 0===r?0:r,a=this._startRect,l=this._startPos,c=[0,0];return a.top>i-o?(l[1]>a.top||i<l[1])&&(c[1]=-1):a.top+a.height<i+o&&(l[1]<a.top+a.height||i>l[1])&&(c[1]=1),a.left>n-o?(l[0]>a.left||n<l[0])&&(c[0]=-1):a.left+a.width<n+o&&(l[0]<a.left+a.width||n>l[0])&&(c[0]=1),clearTimeout(this._timer),(!!c[0]||!!c[1])&&this._continueDrag(s(s({},t),{direction:c,inputEvent:e,isDrag:!0}))},n.checkScroll=function(e){var t=this;if(this._isWait)return!1;var n=e.prevScrollPos,i=void 0===n?this._prevScrollPos:n,r=e.direction,o=e.throttleTime,s=void 0===o?0:o,a=e.inputEvent,l=e.isDrag,c=this._getScrollPosition(r||[0,0],e),u=c[0]-i[0],d=c[1]-i[1],h=r||[u?Math.abs(u)/u:0,d?Math.abs(d)/d:0];return this._prevScrollPos=c,(!!u||!!d)&&(this.trigger("move",{offsetX:h[0]?u:0,offsetY:h[1]?d:0,inputEvent:a}),s&&l&&(this._timer=window.setTimeout(function(){t._continueDrag(e)},s)),!0)},n.dragEnd=function(){clearTimeout(this._timer)},n._getScrollPosition=function(e,t){var n=t.container,i=t.getScrollPosition;return(void 0===i?function(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}:i)({container:n,direction:e})},n._continueDrag=function(e){var t=this,n=e.container,i=e.direction,o=e.throttleTime,a=e.useScroll,l=e.isDrag,c=e.inputEvent;if(!l||!this._isWait){var u=(0,r.zO)(),d=Math.max(o+this._prevTime-u,0);if(d>0)return this._timer=window.setTimeout(function(){t._continueDrag(e)},d),!1;this._prevTime=u;var h=this._getScrollPosition(i,e);return this._prevScrollPos=h,l&&(this._isWait=!0),this.trigger("scroll",{container:n,direction:i,inputEvent:c}),this._isWait=!1,a||this.checkScroll(s(s({},e),{prevScrollPos:h,direction:i,inputEvent:c}))}},t}(i.Z);t.Z=a},23949:function(e,t,n){"use strict";var i=n(90824),r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){if((0,i.Kn)(e))for(var n in e)this.on(n,e[n]);else this._addEvent(e,t,{});return this},t.off=function(e,t){if(e){if((0,i.Kn)(e))for(var n in e)this.off(n);else if(t){var r=this._events[e];if(r){var o=(0,i.cx)(r,function(e){return e.listener===t});o>-1&&r.splice(o,1)}}else this._events[e]=[]}else this._events={};return this},t.once=function(e,t){var n=this;return t&&this._addEvent(e,t,{once:!0}),new Promise(function(t){n._addEvent(e,t,{once:!0})})},t.emit=function(e,t){var n=this;void 0===t&&(t={});var i=this._events[e];if(!e||!i)return!0;var r=!1;return t.eventType=e,t.stop=function(){r=!0},t.currentTarget=this,(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i})(i).forEach(function(i){i.listener(t),i.once&&n.off(e,i.listener)}),!r},t.trigger=function(e,t){return void 0===t&&(t={}),this.emit(e,t)},t._addEvent=function(e,t,n){var i=this._events;i[e]=i[e]||[],i[e].push(r({listener:t},n))},e}();t.Z=o},65960:function(e,t,n){"use strict";n.d(t,{C7:function(){return b},Jm:function(){return E},Jp:function(){return k},KF:function(){return u},Kf:function(){return x},P$:function(){return s},PD:function(){return h},Qm:function(){return v},Te:function(){return D},U1:function(){return y},U_:function(){return o},WK:function(){return l},Wi:function(){return _},Xj:function(){return r},YX:function(){return f},a4:function(){return j},h9:function(){return p},mA:function(){return c},mX:function(){return S},ml:function(){return d},pQ:function(){return m},sQ:function(){return w},vc:function(){return a},yR:function(){return g},z2:function(){return C}});var i=n(90824);function r(e,t,n){void 0===n&&(n=Math.sqrt(e.length));for(var i=e.slice(),r=0;r<n;++r)i[r*n+t-1]=0,i[(t-1)*n+r]=0;return i[(t-1)*(n+1)]=1,i}function o(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=D(t),o=0;o<t;++o){var s=t*o+o;if(!(0,i.P2)(n[s],i.Vp)){for(var a=o+1;a<t;++a)if(n[t*o+a]){!function(e,t,n,i,r){for(var o=0;o<r;++o){var s=n+o*r,a=i+o*r,l=e[s],c=t[s];e[s]=e[a],e[a]=l,t[s]=t[a],t[a]=c}}(n,r,o,a,t);break}}if(!(0,i.P2)(n[s],i.Vp))return[];!function(e,t,n,i,r){for(var o=0;o<i;++o){var s=n+o*i;e[s]/=r,t[s]/=r}}(n,r,o,t,n[s]);for(var a=0;a<t;++a){var l=a,c=n[a+o*t];(0,i.P2)(c,i.Vp)&&o!==a&&function(e,t,n,i,r,o){for(var s=0;s<r;++s){var a=n+s*r,l=i+s*r;e[a]+=e[l]*o,t[a]+=t[l]*o}}(n,r,l,o,t,-c)}}return r}function s(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=[],i=e[t*t-1],r=0;r<t-1;++r)n[r]=e[t*(t-1)+r]/i;return n[t-1]=0,n}function a(e,t){for(var n=D(t),i=0;i<t-1;++i)n[t*(t-1)+i]=e[i]||0;return n}function l(e,t){for(var n=e.slice(),i=e.length;i<t-1;++i)n[i]=0;return n[t-1]=1,n}function c(e,t,n){if(void 0===t&&(t=Math.sqrt(e.length)),t===n)return e;for(var i=D(n),r=Math.min(t,n),o=0;o<r-1;++o){for(var s=0;s<r-1;++s)i[o*n+s]=e[o*t+s];i[(o+1)*n-1]=e[(o+1)*t-1],i[(n-1)*n+o]=e[(t-1)*t+o]}return i[n*n-1]=e[t*t-1],i}function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=D(e);return t.forEach(function(t){i=d(i,t,e)}),i}function d(e,t,n){void 0===n&&(n=Math.sqrt(e.length));var i=[],r=e.length/n,o=t.length/r;if(!r)return t;if(!o)return e;for(var s=0;s<n;++s)for(var a=0;a<o;++a){i[a*n+s]=0;for(var l=0;l<r;++l)i[a*n+s]+=e[l*n+s]*t[a*r+l]}return i}function h(e,t){for(var n=Math.min(e.length,t.length),i=e.slice(),r=0;r<n;++r)i[r]=i[r]+t[r];return i}function p(e,t){for(var n=Math.min(e.length,t.length),i=e.slice(),r=0;r<n;++r)i[r]=i[r]-t[r];return i}function f(e,t){return(void 0===t&&(t=6===e.length),t)?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function m(e,t){return(void 0===t&&(t=9===e.length),t)?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function x(e,t,n){void 0===n&&(n=t.length);var i=d(e,t,n),r=i[n-1];return i.map(function(e){return e/r})}function g(e,t){return d(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function v(e,t){return d(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function j(e,t){return d(e,w(t,4))}function b(e,t){var n=t[0],i=void 0===n?1:n,r=t[1],o=void 0===r?1:r,s=t[2];return d(e,[i,0,0,0,0,o,0,0,0,0,void 0===s?1:s,0,0,0,0,1],4)}function y(e,t){return x(w(t,3),l(e,3))}function C(e,t){var n=t[0],i=void 0===n?0:n,r=t[1],o=void 0===r?0:r,s=t[2];return d(e,[1,0,0,0,0,1,0,0,0,0,1,0,i,o,void 0===s?0:s,1],4)}function k(e,t){return d(e,t,4)}function w(e,t){var n=Math.cos(e),i=Math.sin(e),r=D(t);return r[0]=n,r[1]=i,r[t]=-i,r[t+1]=n,r}function D(e){for(var t=e*e,n=[],i=0;i<t;++i)n[i]=i%(e+1)?0:1;return n}function _(e,t){for(var n=D(t),i=Math.min(e.length,t-1),r=0;r<i;++r)n[(t+1)*r]=e[r];return n}function E(e,t){for(var n=D(t),i=Math.min(e.length,t-1),r=0;r<i;++r)n[t*(t-1)+r]=e[r];return n}function S(e,t,n,i,r,s,a,l){var u=e[0],h=e[1],p=t[0],f=t[1],m=n[0],x=n[1],g=i[0],v=i[1],j=r[0],b=r[1],y=s[0],C=s[1],k=a[0],w=a[1],D=l[0],_=l[1],E=o([u,0,p,0,m,0,g,0,h,0,f,0,x,0,v,0,1,0,1,0,1,0,1,0,0,u,0,p,0,m,0,g,0,h,0,f,0,x,0,v,0,1,0,1,0,1,0,1,-j*u,-b*u,-y*p,-C*p,-k*m,-w*m,-D*g,-_*g,-j*h,-b*h,-y*f,-C*f,-k*x,-w*x,-D*v,-_*v],8);if(!E.length)return[];var S=d(E,[j,b,y,C,k,w,D,_],8);return S[8]=1,c(function(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=[],i=0;i<t;++i)for(var r=0;r<t;++r)n[r*t+i]=e[t*i+r];return n}(S),3,4)}},27545:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var i=n(2784),r=n(72779),o=n.n(r),s=n(59309),a=n(63739),l=n(32718),c=n.n(l),u=n(30733),d=n.n(u),h="__react_svg_text_measurement_id",p=d()(function(e,t){try{var n=document.getElementById(h);if(!n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.width="0",i.style.height="0",i.style.position="absolute",i.style.top="-100%",i.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",h),i.appendChild(n),document.body.appendChild(i)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(e){return null}},function(e,t){return e+"_"+JSON.stringify(t)}),f=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function m(e){return"number"==typeof e}function x(e){return"number"==typeof e&&Number.isFinite(e)||"string"==typeof e}var g=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var j={overflow:"visible"};function b(e){var t,n,r,o,s,a,l,u,d,h,b,y,C,k,w,D,_,E,S,A,T,I,O,M,F=e.dx,R=e.dy,N=e.textAnchor,P=e.innerRef,L=e.innerTextRef,z=(e.verticalAnchor,e.angle,e.lineHeight),G=void 0===z?"1em":z,U=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,g)),B=U.x,H=void 0===B?0:B,W=U.fontSize,V=(n=void 0===(t=e.verticalAnchor)?"end":t,o=void 0!==(r=e.scaleToFit)&&r,s=e.angle,a=e.width,u=void 0===(l=e.lineHeight)?"1em":l,h=void 0===(d=e.capHeight)?"0.71em":d,b=e.children,y=e.style,w=void 0===(k=(C=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,f)).x)?0:k,_=void 0===(D=C.y)?0:D,E=!x(w)||!x(_),A=(S=(0,i.useMemo)(function(){return{wordsWithWidth:(null==b?[]:b.toString().split(/(?:(?!\u00A0+)\s+)/)).map(function(e){return{word:e,wordWidth:p(e,y)||0}}),spaceWidth:p("\xa0",y)||0}},[b,y])).wordsWithWidth,T=S.spaceWidth,I=(0,i.useMemo)(function(){return E?[]:a||o?A.reduce(function(e,t){var n=t.word,i=t.wordWidth,r=e[e.length-1];return r&&(null==a||o||(r.width||0)+i+T<a)?(r.words.push(n),r.width=r.width||0,r.width+=i+T):e.push({words:[n],width:i}),e},[]):[{words:null==b?[]:b.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[E,a,o,b,A,T]),O=(0,i.useMemo)(function(){return E?"":"start"===n?c()("calc("+h+")"):"middle"===n?c()("calc("+(I.length-1)/2+" * -"+u+" + ("+h+" / 2))"):c()("calc("+(I.length-1)+" * -"+u+")")},[E,n,h,I.length,u]),M=(0,i.useMemo)(function(){var e=[];if(E)return"";if(m(w)&&m(_)&&m(a)&&o&&I.length>0){var t=I[0].width||1,n="shrink-only"===o?Math.min(a/t,1):a/t,i=w-n*w,r=_-n*_;e.push("matrix("+n+", 0, 0, "+n+", "+i+", "+r+")")}return s&&e.push("rotate("+s+", "+w+", "+_+")"),e.length>0?e.join(" "):""},[E,w,_,a,o,I,s]),{wordsByLines:I,startDy:O,transform:M}),q=V.wordsByLines,Z=V.startDy,K=V.transform;return i.createElement("svg",{ref:P,x:void 0===F?0:F,y:void 0===R?0:R,fontSize:W,style:j},q.length>0?i.createElement("text",v({ref:L,transform:K},U,{textAnchor:void 0===N?"start":N}),q.map(function(e,t){return i.createElement("tspan",{key:t,x:H,dy:0===t?Z:G},e.words.join(" "))})):null)}var y=n(5544);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function k(e){var t=e.hideTicks,n=e.horizontal,r=e.orientation,l=e.tickClassName,c=e.tickComponent,u=e.tickLabelProps,d=e.tickStroke,h=void 0===d?"#222":d,p=e.tickTransform,f=e.ticks,m=e.strokeWidth,x=e.tickLineProps;return f.map(function(e){var d,f=e.value,g=e.index,v=e.from,j=e.to,k=e.formattedValue,w=null!=(d=u[g])?d:{},D=Math.max(10,"number"==typeof w.fontSize&&w.fontSize||0),_=j.y+(n&&r!==y.Z.top?D:0);return i.createElement(s.Z,{key:"visx-tick-"+f+"-"+g,className:o()("visx-axis-tick",l),transform:p},!t&&i.createElement(a.Z,C({from:v,to:j,stroke:h,strokeWidth:m,strokeLinecap:"square"},x)),c?c(C({},w,{x:j.x,y:_,formattedValue:k})):i.createElement(b,C({x:j.x,y:_},w),k))})}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var D={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function _(e){var t=e.axisFromPoint,n=e.axisLineClassName,r=e.axisToPoint,s=e.hideAxisLine,l=e.hideTicks,c=e.horizontal,u=e.label,d=void 0===u?"":u,h=e.labelClassName,p=e.labelOffset,f=e.labelProps,m=void 0===f?D:f,x=e.orientation,g=void 0===x?y.Z.bottom:x,v=e.scale,j=e.stroke,C=e.strokeDasharray,_=e.strokeWidth,E=void 0===_?1:_,S=e.tickClassName,A=e.tickComponent,T=e.tickLineProps,I=e.tickLabelProps,O=void 0===I?function(){return D}:I,M=e.tickLength,F=e.tickStroke,R=e.tickTransform,N=e.ticks,P=e.ticksComponent,L=void 0===P?k:P,z=N.map(function(e){return O(e.value,e.index,N)}),G=Math.max.apply(Math,[10].concat(z.map(function(e){return"number"==typeof e.fontSize?e.fontSize:0})));return i.createElement(i.Fragment,null,L({hideTicks:l,horizontal:c,orientation:g,scale:v,tickClassName:S,tickComponent:A,tickLabelProps:z,tickStroke:void 0===F?"#222":F,tickTransform:R,ticks:N,strokeWidth:E,tickLineProps:T}),!s&&i.createElement(a.Z,{className:o()("visx-axis-line",n),from:t,to:r,stroke:void 0===j?"#222":j,strokeWidth:E,strokeDasharray:C}),d&&i.createElement(b,w({className:o()("visx-axis-label",h)},function(e){var t,n,i,r=e.labelOffset,o=e.labelProps,s=e.orientation,a=e.range,l=e.tickLabelFontSize,c=e.tickLength,u=s===y.Z.left||s===y.Z.top?-1:1;if(s===y.Z.top||s===y.Z.bottom){var d=s===y.Z.bottom&&"number"==typeof o.fontSize?o.fontSize:0;t=(Number(a[0])+Number(a[a.length-1]))/2,n=u*(c+r+l+d)}else t=u*((Number(a[0])+Number(a[a.length-1]))/2),n=-(c+r),i="rotate("+90*u+")";return{x:t,y:n,transform:i}}({labelOffset:void 0===p?14:p,labelProps:m,orientation:g,range:v.range(),tickLabelFontSize:G,tickLength:void 0===M?8:M}),m),d))}function E(e){return null==e?void 0:e.toString()}var S=n(19067);function A(e,t){var n=e.x,i=e.y;return new S.Z(t?{x:n,y:i}:{x:i,y:n})}var T=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function O(e){var t=e.children,n=void 0===t?_:t,r=e.axisClassName,a=e.hideAxisLine,l=e.hideTicks,c=e.hideZero,u=void 0!==c&&c,d=e.left,h=e.numTicks,p=void 0===h?10:h,f=e.orientation,m=void 0===f?y.Z.bottom:f,x=e.rangePadding,g=void 0===x?0:x,v=e.scale,j=e.tickFormat,b=e.tickLength,C=void 0===b?8:b,k=e.tickValues,w=e.top,D=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,T),S=null!=j?j:"tickFormat"in v?v.tickFormat():E,O=m===y.Z.left,M=m===y.Z.top,F=M||m===y.Z.bottom,R=function(e,t){if(void 0===t&&(t="center"),"start"!==t&&"bandwidth"in e){var n=e.bandwidth();return"center"===t&&(n/=2),e.round()&&(n=Math.round(n)),function(t){var i=e(t);return"number"==typeof i?i+n:i}}return e}(v),N=O||M?-1:1,P=v.range(),L=A({x:Number(P[0])+.5-g,y:0},F),z=A({x:Number(P[P.length-1])+.5+g,y:0},F),G=(null!=k?k:"ticks"in v?v.ticks(p):v.domain().filter(function(e,t,n){return null==p||n.length<=p||t%Math.round((n.length-1)/p)==0})).filter(function(e){return!u||0!==e&&"0"!==e}).map(function(e,t){return{value:e,index:t}}),U=G.map(function(e){var t=e.value,n=e.index,i=function(e){if(("function"==typeof e||"object"==typeof e&&e)&&"valueOf"in e){var t=e.valueOf();if("number"==typeof t)return t}return e}(R(t));return{value:t,index:n,from:A({x:i,y:0},F),to:A({x:i,y:C*N},F),formattedValue:S(t,n,G)}});return i.createElement(s.Z,{className:o()("visx-axis",r),top:void 0===w?0:w,left:void 0===d?0:d},n(I({},D,{axisFromPoint:L,axisToPoint:z,hideAxisLine:void 0!==a&&a,hideTicks:void 0!==l&&l,hideZero:u,horizontal:F,numTicks:p,orientation:m,rangePadding:g,scale:v,tickFormat:S,tickLength:C,tickPosition:R,tickSign:N,ticks:U})))}},70258:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(2784),r=n(72779),o=n.n(r),s=n(27545),a=n(5544),l=["axisClassName","labelOffset","tickLabelProps","tickLength"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var u=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};function d(e){var t=e.axisClassName,n=e.labelOffset,r=e.tickLabelProps,d=e.tickLength,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l);return i.createElement(s.Z,c({axisClassName:o()("visx-axis-bottom",t),labelOffset:void 0===n?8:n,orientation:a.Z.bottom,tickLabelProps:void 0===r?u:r,tickLength:void 0===d?8:d},h))}},6802:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(2784),r=n(72779),o=n.n(r),s=n(27545),a=n(5544),l=["axisClassName","labelOffset","tickLabelProps","tickLength"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var u=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};function d(e){var t=e.axisClassName,n=e.labelOffset,r=e.tickLabelProps,d=e.tickLength,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l);return i.createElement(s.Z,c({axisClassName:o()("visx-axis-left",t),labelOffset:void 0===n?36:n,orientation:a.Z.left,tickLabelProps:void 0===r?u:r,tickLength:void 0===d?8:d},h))}},5544:function(e,t){"use strict";t.Z={top:"top",left:"left",right:"right",bottom:"bottom"}},80237:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(19067);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var o={x:0,y:0};function s(e,t){if(!e||!t)return null;var n=function(e){if(!e)return r({},o);if(e&&"changedTouches"in e)return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:r({},o);if(e&&"clientX"in e)return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:r({},o)}(t),s=e&&(e instanceof SVGElement||"ownerSVGElement"in e)?e.ownerSVGElement:e,a=s&&"getScreenCTM"in s?s.getScreenCTM():null;if(s&&"createSVGPoint"in s&&a){var l=s.createSVGPoint();return l.x=n.x,l.y=n.y,l=l.matrixTransform(a.inverse()),new i.Z({x:l.x,y:l.y})}var c=e.getBoundingClientRect();return new i.Z({x:n.x-c.left-e.clientLeft,y:n.y-c.top-e.clientTop})}function a(e,t){if(e&&e instanceof Element&&t)return s(e,t);if(e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)){var n=e.target;if(n)return s(n,e)}return null}},59309:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(13980),r=n.n(i),o=n(2784),s=n(72779),a=n.n(s),l=["top","left","transform","className","children","innerRef"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e){var t=e.top,n=e.left,i=e.transform,r=e.className,s=e.children,u=e.innerRef,d=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l);return o.createElement("g",c({ref:u,className:a()("visx-group",r),transform:i||"translate("+(void 0===n?0:n)+", "+(void 0===t?0:t)+")"},d),s)}u.propTypes={top:r().number,left:r().number,transform:r().string,className:r().string,children:r().node,innerRef:r().oneOfType([r().string,r().func,r().object])}},71602:function(e,t,n){"use strict";n.r(t),n.d(t,{Group:function(){return i.Z}});var i=n(59309)},19067:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}});var r=function(){function e(e){var t=e.x,n=e.y;i(this,"x",0),i(this,"y",0),this.x=void 0===t?0:t,this.y=void 0===n?0:n}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}()},2574:function(e,t,n){"use strict";n.d(t,{Z:function(){return et}});var i,r,o,s=n(13980),a=n.n(s),l=n(54073),c=n.n(l),u=n(2784),d=[],h="ResizeObserver loop completed with undelivered notifications.",p=function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:h}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=h),window.dispatchEvent(e)};(i=r||(r={})).BORDER_BOX="border-box",i.CONTENT_BOX="content-box",i.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var f=function(e){return Object.freeze(e)},m=function(e,t){this.inlineSize=e,this.blockSize=t,f(this)},x=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,f(this)}return e.prototype.toJSON=function(){return{x:this.x,y:this.y,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),g=function(e){return e instanceof SVGElement&&"getBBox"in e},v=function(e){if(g(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var r=e.offsetWidth,o=e.offsetHeight;return!(r||o||e.getClientRects().length)},j=function(e){if(e instanceof Element)return!0;var t,n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},b=function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},y="undefined"!=typeof window?window:{},C=new WeakMap,k=/auto|scroll/,w=/^tb|vertical/,D=/msie|trident/i.test(y.navigator&&y.navigator.userAgent),_=function(e){return parseFloat(e||"0")},E=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new m((n?t:e)||0,(n?e:t)||0)},S=f({devicePixelContentBoxSize:E(),borderBoxSize:E(),contentBoxSize:E(),contentRect:new x(0,0,0,0)}),A=function(e,t){if(void 0===t&&(t=!1),C.has(e)&&!t)return C.get(e);if(v(e))return C.set(e,S),S;var n=getComputedStyle(e),i=g(e)&&e.ownerSVGElement&&e.getBBox(),r=!D&&"border-box"===n.boxSizing,o=w.test(n.writingMode||""),s=!i&&k.test(n.overflowY||""),a=!i&&k.test(n.overflowX||""),l=i?0:_(n.paddingTop),c=i?0:_(n.paddingRight),u=i?0:_(n.paddingBottom),d=i?0:_(n.paddingLeft),h=i?0:_(n.borderTopWidth),p=i?0:_(n.borderRightWidth),m=i?0:_(n.borderBottomWidth),j=i?0:_(n.borderLeftWidth),b=d+c,y=l+u,A=j+p,T=h+m,I=a?e.offsetHeight-T-e.clientHeight:0,O=s?e.offsetWidth-A-e.clientWidth:0,M=i?i.width:_(n.width)-(r?b+A:0)-O,F=i?i.height:_(n.height)-(r?y+T:0)-I,R=M+b+O+A,N=F+y+I+T,P=f({devicePixelContentBoxSize:E(Math.round(M*devicePixelRatio),Math.round(F*devicePixelRatio),o),borderBoxSize:E(R,N,o),contentBoxSize:E(M,F,o),contentRect:new x(d,l,M,F)});return C.set(e,P),P},T=function(e,t,n){var i=A(e,n),o=i.borderBoxSize,s=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return a;case r.BORDER_BOX:return o;default:return s}},I=function(e){var t=A(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=f([t.borderBoxSize]),this.contentBoxSize=f([t.contentBoxSize]),this.devicePixelContentBoxSize=f([t.devicePixelContentBoxSize])},O=function(e){if(v(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},M=function(){var e=1/0,t=[];d.forEach(function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach(function(t){var n=new I(t.target),r=O(t.target);i.push(n),t.lastReportedSize=T(t.target,t.observedBox),r<e&&(e=r)}),t.push(function(){n.callback.call(n.observer,i,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0;n<t.length;n++)(0,t[n])();return e},F=function(e){d.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(O(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},R=function(){var e=0;for(F(0);d.some(function(e){return e.activeTargets.length>0});)F(e=M());return d.some(function(e){return e.skippedTargets.length>0})&&p(),e>0},N=[],P=function(e){if(!o){var t=0,n=document.createTextNode("");new MutationObserver(function(){return N.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),o=function(){n.textContent=""+(t?t--:t++)}}N.push(e),o()},L=function(e){P(function(){requestAnimationFrame(e)})},z=0,G={attributes:!0,characterData:!0,childList:!0,subtree:!0},U=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],B=function(e){return void 0===e&&(e=0),Date.now()+e},H=!1,W=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!H){H=!0;var n=B(e);L(function(){var i=!1;try{i=R()}finally{if(H=!1,e=n-B(),!z)return;i?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,G)};document.body?t():y.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),U.forEach(function(t){return y.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),U.forEach(function(t){return y.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),V=function(e){!z&&e>0&&W.start(),(z+=e)||W.stop()},q=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=T(this.target,this.observedBox,!0);return g(e=this.target)||b(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Z=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},K=new WeakMap,Y=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return -1},X=function(){function e(){}return e.connect=function(e,t){var n=new Z(e,t);K.set(e,n)},e.observe=function(e,t,n){var i=K.get(e),r=0===i.observationTargets.length;0>Y(i.observationTargets,t)&&(r&&d.push(i),i.observationTargets.push(new q(t,n&&n.box)),V(1),W.schedule())},e.unobserve=function(e,t){var n=K.get(e),i=Y(n.observationTargets,t),r=1===n.observationTargets.length;i>=0&&(r&&d.splice(d.indexOf(n),1),n.observationTargets.splice(i,1),V(-1))},e.disconnect=function(e){var t=this,n=K.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),$=function(){function e(e){if(0==arguments.length)throw TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");X.connect(this,e)}return e.prototype.observe=function(e,t){if(0==arguments.length)throw TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!j(e))throw TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");X.observe(this,e,t)},e.prototype.unobserve=function(e){if(0==arguments.length)throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!j(e))throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");X.unobserve(this,e)},e.prototype.disconnect=function(){X.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),J=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall"];function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ee=[];function et(e){var t=e.className,n=e.children,i=e.debounceTime,r=void 0===i?300:i,o=e.ignoreDimensions,s=void 0===o?ee:o,a=e.parentSizeStyles,l=e.enableDebounceLeadingCall,d=void 0===l||l,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,J),p=(0,u.useRef)(null),f=(0,u.useRef)(0),m=(0,u.useState)({width:0,height:0,top:0,left:0}),x=m[0],g=m[1],v=(0,u.useMemo)(function(){var e=Array.isArray(s)?s:[s];return c()(function(t){g(function(n){return Object.keys(n).filter(function(e){return n[e]!==t[e]}).every(function(t){return e.includes(t)})?n:t})},r,{leading:d})},[r,d,s]);return(0,u.useEffect)(function(){var e=new $(function(e){void 0===e&&(e=[]),e.forEach(function(e){var t=e.contentRect,n=t.left,i=t.top,r=t.width,o=t.height;f.current=window.requestAnimationFrame(function(){v({width:r,height:o,top:i,left:n})})})});return p.current&&e.observe(p.current),function(){window.cancelAnimationFrame(f.current),e.disconnect(),null!=v&&v.cancel&&v.cancel()}},[v]),u.createElement("div",Q({style:void 0===a?{width:"100%",height:"100%"}:a,ref:p,className:t},h),n(Q({},x,{ref:p.current,resize:v})))}et.propTypes={className:a().string,debounceTime:a().number,enableDebounceLeadingCall:a().bool,ignoreDimensions:a().oneOfType([a().any,a().arrayOf(a().any)]),children:a().func.isRequired}},72108:function(e,t,n){"use strict";function i(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function o(){}n.d(t,{Z:function(){return eQ}});var s="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,u=RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=RegExp("^rgba\\("+[s,s,s,a]+"\\)$"),p=RegExp("^rgba\\("+[l,l,l,a]+"\\)$"),f=RegExp("^hsl\\("+[a,l,l]+"\\)$"),m=RegExp("^hsla\\("+[a,l,l,a]+"\\)$"),x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function j(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?b(t):3===n?new w(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?y(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?y(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=u.exec(e))?new w(t[1],t[2],t[3],1):(t=d.exec(e))?new w(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?y(t[1],t[2],t[3],t[4]):(t=p.exec(e))?y(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?S(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?S(t[1],t[2]/100,t[3]/100,t[4]):x.hasOwnProperty(e)?b(x[e]):"transparent"===e?new w(NaN,NaN,NaN,0):null}function b(e){return new w(e>>16&255,e>>8&255,255&e,1)}function y(e,t,n,i){return i<=0&&(e=t=n=NaN),new w(e,t,n,i)}function C(e){return(e instanceof o||(e=j(e)),e)?(e=e.rgb(),new w(e.r,e.g,e.b,e.opacity)):new w}function k(e,t,n,i){return 1==arguments.length?C(e):new w(e,t,n,null==i?1:i)}function w(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function D(){return"#"+E(this.r)+E(this.g)+E(this.b)}function _(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function E(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function S(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new I(e,t,n,i)}function A(e){if(e instanceof I)return new I(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=j(e)),!e)return new I;if(e instanceof I)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),a=NaN,l=s-r,c=(s+r)/2;return l?(a=t===s?(n-i)/l+(n<i)*6:n===s?(i-t)/l+2:(t-n)/l+4,l/=c<.5?s+r:2-s-r,a*=60):l=c>0&&c<1?0:a,new I(a,l,c,e.opacity)}function T(e,t,n,i){return 1==arguments.length?A(e):new I(e,t,n,null==i?1:i)}function I(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function O(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}i(o,j,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return A(this).formatHsl()},formatRgb:v,toString:v}),i(w,k,r(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D,formatHex:D,formatRgb:_,toString:_})),i(I,T,r(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new I(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new I(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new w(O(e>=240?e-240:e+120,r,i),O(e,r,i),O(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var M=Math.PI/180,F=180/Math.PI,R=4/29,N=6/29,P=3*(6/29)*(6/29),L=6/29*(6/29)*(6/29);function z(e){if(e instanceof U)return new U(e.l,e.a,e.b,e.opacity);if(e instanceof Z)return K(e);e instanceof w||(e=C(e));var t,n,i=V(e.r),r=V(e.g),o=V(e.b),s=B((.2225045*i+.7168786*r+.0606169*o)/1);return i===r&&r===o?t=n=s:(t=B((.4360747*i+.3850649*r+.1430804*o)/.96422),n=B((.0139322*i+.0971045*r+.7141733*o)/.82521)),new U(116*s-16,500*(t-s),200*(s-n),e.opacity)}function G(e,t,n,i){return 1==arguments.length?z(e):new U(e,t,n,null==i?1:i)}function U(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function B(e){return e>L?Math.pow(e,1/3):e/P+R}function H(e){return e>N?e*e*e:P*(e-R)}function W(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function V(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function q(e,t,n,i){return 1==arguments.length?function(e){if(e instanceof Z)return new Z(e.h,e.c,e.l,e.opacity);if(e instanceof U||(e=z(e)),0===e.a&&0===e.b)return new Z(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*F;return new Z(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Z(e,t,n,null==i?1:i)}function Z(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function K(e){if(isNaN(e.h))return new U(e.l,0,0,e.opacity);var t=e.h*M;return new U(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Y(e){return function(){return e}}function X(e,t){return function(n){return e+n*t}}function $(e,t){var n=t-e;return n?X(e,n>180||n<-180?n-360*Math.round(n/360):n):Y(isNaN(e)?t:e)}function J(e,t){var n=t-e;return n?X(e,n):Y(isNaN(e)?t:e)}function Q(e){return function(t,n){var i=e((t=q(t)).h,(n=q(n)).h),r=J(t.c,n.c),o=J(t.l,n.l),s=J(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=r(e),t.l=o(e),t.opacity=s(e),t+""}}}i(U,G,r(o,{brighter:function(e){return new U(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new U(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*H(t),e=1*H(e),n=.82521*H(n),new w(W(3.1338561*t-1.6168667*e-.4906146*n),W(-.9787684*t+1.9161415*e+.033454*n),W(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),i(Z,q,r(o,{brighter:function(e){return new Z(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Z(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return K(this).rgb()}}));var ee=Q($),et=Q(J);function en(e){return function(t,n){var i=e((t=T(t)).h,(n=T(n)).h),r=J(t.s,n.s),o=J(t.l,n.l),s=J(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=o(e),t.opacity=s(e),t+""}}}var ei=en($),er=en(J),eo=-1.78277*.29227-.1347134789;function es(e,t,n,i){return 1==arguments.length?function(e){if(e instanceof ea)return new ea(e.h,e.s,e.l,e.opacity);e instanceof w||(e=C(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(eo*i+-1.7884503806*t-3.5172982438*n)/(eo+-1.7884503806-3.5172982438),o=i-r,s=-((1.97294*(n-r)- -.29227*o)/.90649),a=Math.sqrt(s*s+o*o)/(1.97294*r*(1-r)),l=a?Math.atan2(s,o)*F-120:NaN;return new ea(l<0?l+360:l,a,r,e.opacity)}(e):new ea(e,t,n,null==i?1:i)}function ea(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function el(e){return function t(n){function i(t,i){var r=e((t=es(t)).h,(i=es(i)).h),o=J(t.s,i.s),s=J(t.l,i.l),a=J(t.opacity,i.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,i.gamma=t,i}(1)}i(ea,es,r(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new ea(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ea(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*M,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new w(255*(t+n*(-.14861*i+1.78277*r)),255*(t+n*(-.29227*i+-.90649*r)),255*(t+n*(1.97294*i)),this.opacity)}}));var ec=el($),eu=el(J);function ed(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}var eh=function e(t){var n,i=1==(n=+(n=t))?J:function(e,t){var i,r,o;return t-e?(i=e,r=t,i=Math.pow(i,o=n),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):Y(isNaN(e)?t:e)};function r(e,t){var n=i((e=k(e)).r,(t=k(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=J(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function ep(e){return function(t){var n,i,r=t.length,o=Array(r),s=Array(r),a=Array(r);for(n=0;n<r;++n)i=k(t[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=e(o),s=e(s),a=e(a),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=a(e),i+""}}}ep(function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],s=i>0?e[i-1]:2*r-o,a=i<t-1?e[i+2]:2*o-r;return ed((n-i/t)*t,s,r,o,a)}}),ep(function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],a=e[(i+2)%t];return ed((n-i/t)*t,r,o,s,a)}});var ef={lab:function(e,t){var n=J((e=G(e)).l,(t=G(t)).l),i=J(e.a,t.a),r=J(e.b,t.b),o=J(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}},hcl:ee,"hcl-long":et,hsl:ei,"hsl-long":er,cubehelix:ec,"cubehelix-long":eu,rgb:eh},em=new Date,ex=new Date;function eg(e,t,n,i){function r(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i)||!(o>0))return a;do a.push(s=new Date(+n)),t(n,o),e(n);while(s<n&&n<i);return a},r.filter=function(n){return eg(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,i){if(e>=e){if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}})},n&&(r.count=function(t,i){return em.setTime(+t),ex.setTime(+i),e(em),e(ex),Math.floor(n(em,ex))},r.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}let ev=864e5,ej=7*ev;var eb=eg(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/ev,e=>e.getDate()-1);eb.range;var ey=eg(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()});ey.range;var eC=eg(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()});eC.range;var ek=eg(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});ek.range;var ew=eg(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});function eD(e){return eg(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/ej})}ew.range;var e_=eD(0),eE=eD(1),eS=eD(2),eA=eD(3),eT=eD(4),eI=eD(5),eO=eD(6);e_.range,eE.range,eS.range,eA.range,eT.range,eI.range,eO.range;var eM=eg(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});eM.every=function(e){return isFinite(e=Math.floor(e))&&e>0?eg(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},eM.range;var eF=eg(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/ev},function(e){return e.getUTCDate()-1});eF.range;var eR=eg(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});eR.range;var eN=eg(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()});eN.range;var eP=eg(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});function eL(e){return eg(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/ej})}eP.range;var ez=eL(0),eG=eL(1),eU=eL(2),eB=eL(3),eH=eL(4),eW=eL(5),eV=eL(6);ez.range,eG.range,eU.range,eB.range,eH.range,eW.range,eV.range;var eq=eg(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});eq.every=function(e){return isFinite(e=Math.floor(e))&&e>0?eg(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},eq.range;var eZ=new Date(Date.UTC(2020,1,2,3,4,5)),eK={day:eb,hour:ey,minute:eC,month:ek,second:ew,week:e_,year:eM},eY={day:eF,hour:eR,minute:eN,month:eP,second:ew,week:ez,year:eq};function eX(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var e$=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],eJ={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&void 0!==t.nice&&"nice"in e){var n=t.nice;if("boolean"==typeof n)n&&e.nice();else if("number"==typeof n)e.nice(n);else{var i="2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(eZ);if("string"==typeof n)e.nice(i?eY[n]:eK[n]);else{var r=n.interval,o=n.step,s=(i?eY[r]:eK[r]).every(o);null!=s&&e.nice(s)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),i=n[0],r=n[1],o=r<i,s=o?[r,i]:[i,r],a=[Math.min(0,s[0]),Math.max(0,s[1])];e.domain(o?a.reverse():a)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&void 0!==t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return ef[e]}var t=e.type,n=e.gamma,i=ef[t];return void 0===n?i:i.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&void 0!==t.round&&(t.round&&"interpolate"in t&&void 0!==t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(eX))},align:function(e,t){"align"in e&&"align"in t&&void 0!==t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&void 0!==t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&void 0!==t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&void 0!==t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&void 0!==t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&void 0!==t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&void 0!==t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&void 0!==t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&void 0!==t.unknown&&e.unknown(t.unknown)}};function eQ(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Set(t),r=e$.filter(function(e){return i.has(e)});return function(e,t){return void 0!==t&&r.forEach(function(n){eJ[n](e,t)}),e}}},92638:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(22274);let r=Symbol("implicit");var o=(0,n(72108).Z)("domain","range","reverse","align","padding","round");function s(e){return o(function e(){var t,n,o=(function e(){var t=new Map,n=[],o=[],s=r;function a(e){var i=e+"",a=t.get(i);if(!a){if(s!==r)return s;t.set(i,a=n.push(e))}return o[(a-1)%o.length]}return a.domain=function(e){if(!arguments.length)return n.slice();for(let i of(n=[],t=new Map,e)){let e=i+"";t.has(e)||t.set(e,n.push(i))}return a},a.range=function(e){return arguments.length?(o=Array.from(e),a):o.slice()},a.unknown=function(e){return arguments.length?(s=e,a):s},a.copy=function(){return e(n,o).unknown(s)},i.o.apply(a,arguments),a})().unknown(void 0),s=o.domain,a=o.range,l=0,c=1,u=!1,d=0,h=0,p=.5;function f(){var e=s().length,i=c<l,r=i?c:l,o=i?l:c;t=(o-r)/Math.max(1,e-d+2*h),u&&(t=Math.floor(t)),r+=(o-r-t*(e-d))*p,n=t*(1-d),u&&(r=Math.round(r),n=Math.round(n));var f=(function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=Array(r);++i<r;)o[i]=e+i*n;return o})(e).map(function(e){return r+t*e});return a(i?f.reverse():f)}return delete o.unknown,o.domain=function(e){return arguments.length?(s(e),f()):s()},o.range=function(e){return arguments.length?([l,c]=e,l=+l,c=+c,f()):[l,c]},o.rangeRound=function(e){return[l,c]=e,l=+l,c=+c,u=!0,f()},o.bandwidth=function(){return n},o.step=function(){return t},o.round=function(e){return arguments.length?(u=!!e,f()):u},o.padding=function(e){return arguments.length?(d=Math.min(1,h=+e),f()):d},o.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),f()):d},o.paddingOuter=function(e){return arguments.length?(h=+e,f()):h},o.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),f()):p},o.copy=function(){return e(s(),[l,c]).round(u).paddingInner(d).paddingOuter(h).align(p)},i.o.apply(f(),arguments)}(),e)}},33951:function(e,t,n){"use strict";n.d(t,{Z:function(){return ex}});var i,r,o,s,a=Math.sqrt(50),l=Math.sqrt(10),c=Math.sqrt(2);function u(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=a?10:o>=l?5:o>=c?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=a?10:o>=l?5:o>=c?2:1)}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h(e){let t=e,n=e;function i(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){let o=i+r>>>1;0>n(e[o],t)?i=o+1:r=o}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=(t,n)=>d(e(t),n)),{left:i,center:function(e,n,r,o){null==r&&(r=0),null==o&&(o=e.length);let s=i(e,n,r,o-1);return s>r&&t(e[s-1],n)>-t(e[s],n)?s-1:s},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){let o=i+r>>>1;n(e[o],t)>0?r=o:i=o+1}return i}}}let p=h(d),f=p.right;function m(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function x(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function g(){}p.left,h(function(e){return null===e?NaN:+e}).center;var v="\\s*([+-]?\\d+)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y=/^#([0-9a-f]{3,8})$/,C=RegExp("^rgb\\("+[v,v,v]+"\\)$"),k=RegExp("^rgb\\("+[b,b,b]+"\\)$"),w=RegExp("^rgba\\("+[v,v,v,j]+"\\)$"),D=RegExp("^rgba\\("+[b,b,b,j]+"\\)$"),_=RegExp("^hsl\\("+[j,b,b]+"\\)$"),E=RegExp("^hsla\\("+[j,b,b,j]+"\\)$"),S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function A(){return this.rgb().formatHex()}function T(){return this.rgb().formatRgb()}function I(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?O(t):3===n?new R(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?M(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?M(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=C.exec(e))?new R(t[1],t[2],t[3],1):(t=k.exec(e))?new R(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=w.exec(e))?M(t[1],t[2],t[3],t[4]):(t=D.exec(e))?M(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_.exec(e))?z(t[1],t[2]/100,t[3]/100,1):(t=E.exec(e))?z(t[1],t[2]/100,t[3]/100,t[4]):S.hasOwnProperty(e)?O(S[e]):"transparent"===e?new R(NaN,NaN,NaN,0):null}function O(e){return new R(e>>16&255,e>>8&255,255&e,1)}function M(e,t,n,i){return i<=0&&(e=t=n=NaN),new R(e,t,n,i)}function F(e,t,n,i){var r;return 1==arguments.length?((r=e)instanceof g||(r=I(r)),r)?(r=r.rgb(),new R(r.r,r.g,r.b,r.opacity)):new R:new R(e,t,n,null==i?1:i)}function R(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function N(){return"#"+L(this.r)+L(this.g)+L(this.b)}function P(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function L(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function z(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new U(e,t,n,i)}function G(e){if(e instanceof U)return new U(e.h,e.s,e.l,e.opacity);if(e instanceof g||(e=I(e)),!e)return new U;if(e instanceof U)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+(n<i)*6:n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new U(s,a,l,e.opacity)}function U(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function B(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function H(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}m(g,I,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:A,formatHex:A,formatHsl:function(){return G(this).formatHsl()},formatRgb:T,toString:T}),m(R,F,x(g,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new R(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new R(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N,formatHex:N,formatRgb:P,toString:P})),m(U,function(e,t,n,i){return 1==arguments.length?G(e):new U(e,t,n,null==i?1:i)},x(g,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new U(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new U(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new R(B(e>=240?e-240:e+120,r,i),B(e,r,i),B(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var W=e=>()=>e;function V(e,t){var n=t-e;return n?function(t){return e+t*n}:W(isNaN(e)?t:e)}var q=function e(t){var n,i=1==(n=+(n=t))?V:function(e,t){var i,r,o;return t-e?(i=e,r=t,i=Math.pow(i,o=n),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):W(isNaN(e)?t:e)};function r(e,t){var n=i((e=F(e)).r,(t=F(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=V(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Z(e){return function(t){var n,i,r=t.length,o=Array(r),s=Array(r),a=Array(r);for(n=0;n<r;++n)i=F(t[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=e(o),s=e(s),a=e(a),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=a(e),i+""}}}function K(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}Z(function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],s=i>0?e[i-1]:2*r-o,a=i<t-1?e[i+2]:2*o-r;return H((n-i/t)*t,s,r,o,a)}}),Z(function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],a=e[(i+2)%t];return H((n-i/t)*t,r,o,s,a)}});var Y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X=RegExp(Y.source,"g");function $(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function J(e){return+e}var Q=[0,1];function ee(e){return e}function et(e,t){var n;return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function en(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=et(r,i),o=n(s,o)):(i=et(i,r),o=n(o,s)),function(e){return o(i(e))}}function ei(e,t,n){var i=Math.min(e.length,t.length)-1,r=Array(i),o=Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=et(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=f(e,t,1,i)-1;return o[n](r[n](t))}}var er=n(22274),eo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function es(e){var t;if(!(t=eo.exec(e)))throw Error("invalid format: "+e);return new ea({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ea(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function el(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function ec(e){return(e=el(Math.abs(e)))?e[1]:NaN}function eu(e,t){var n=el(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+Array(r-i.length+2).join("0")}es.prototype=ea.prototype,ea.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ed={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eu(100*e,t),r:eu,s:function(e,t){var n=el(e,t);if(!n)return e+"";var r=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+Array(1-s).join("0")+el(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eh(e){return e}var ep=Array.prototype.map,ef=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];o=(r=function(e){var t,n,r,o=void 0===e.grouping||void 0===e.thousands?eh:(t=ep.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?eh:(r=ep.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),u=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function p(e){var t=(e=es(e)).fill,n=e.align,r=e.sign,p=e.symbol,f=e.zero,m=e.width,x=e.comma,g=e.precision,v=e.trim,j=e.type;"n"===j?(x=!0,j="g"):ed[j]||(void 0===g&&(g=12),v=!0,j="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===p?s:"#"===p&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",y="$"===p?a:/[%p]/.test(j)?u:"",C=ed[j],k=/[defgprs%]/.test(j);function w(e){var s,a,u,p=b,w=y;if("c"===j)w=C(e)+w,e="";else{var D=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:C(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),D&&0==+e&&"+"!==r&&(D=!1),p=(D?"("===r?r:d:"-"===r||"("===r?"":r)+p,w=("s"===j?ef[8+i/3]:"")+w+(D&&"("===r?")":""),k){for(s=-1,a=e.length;++s<a;)if(48>(u=e.charCodeAt(s))||u>57){w=(46===u?l+e.slice(s+1):e.slice(s))+w,e=e.slice(0,s);break}}}x&&!f&&(e=o(e,1/0));var _=p.length+e.length+w.length,E=_<m?Array(m-_+1).join(t):"";switch(x&&f&&(e=o(E+e,E.length?m-w.length:1/0),E=""),n){case"<":e=p+e+w+E;break;case"=":e=p+E+e+w;break;case"^":e=E.slice(0,_=E.length>>1)+p+e+w+E.slice(_);break;default:e=E+p+e+w}return c(e)}return g=void 0===g?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),w.toString=function(){return e+""},w}return{format:p,formatPrefix:function(e,t){var n=p(((e=es(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(ec(t)/3))),r=Math.pow(10,-i),o=ef[8+i/3];return function(e){return n(r*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,s=r.formatPrefix;var em=(0,n(72108).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function ex(e){return em(function e(){var t,n=(function(){var e,t,n,i,r,o,s=Q,a=Q,l=function e(t,n){var i,r,o=typeof n;return null==n||"boolean"===o?W(n):("number"===o?K:"string"===o?(r=I(n))?(n=r,q):function(e,t){var n,i,r,o,s,a=Y.lastIndex=X.lastIndex=0,l=-1,c=[],u=[];for(e+="",t+="";(r=Y.exec(e))&&(o=X.exec(t));)(s=o.index)>a&&(s=t.slice(a,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,u.push({i:l,x:K(r,o)})),a=X.lastIndex;return a<t.length&&(s=t.slice(a),c[l]?c[l]+=s:c[++l]=s),c.length<2?u[0]?(n=u[0].x,function(e){return n(e)+""}):(i=t,function(){return i}):(t=u.length,function(e){for(var n,i=0;i<t;++i)c[(n=u[i]).i]=n.x(e);return c.join("")})}:n instanceof I?q:n instanceof Date?function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}:(i=n,!ArrayBuffer.isView(i)||i instanceof DataView)?Array.isArray(n)?function(t,n){var i,r=n?n.length:0,o=t?Math.min(r,t.length):0,s=Array(o),a=Array(r);for(i=0;i<o;++i)s[i]=e(t[i],n[i]);for(;i<r;++i)a[i]=n[i];return function(e){for(i=0;i<o;++i)a[i]=s[i](e);return a}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var i,r={},o={};for(i in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)i in t?r[i]=e(t[i],n[i]):o[i]=n[i];return function(e){for(i in r)o[i]=r[i](e);return o}}:K:function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}})(t,n)},c=ee;function u(){var e,t,n,l=Math.min(s.length,a.length);return c!==ee&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),i=l>2?ei:en,r=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(r||(r=i(s.map(e),a,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=i(a,s.map(e),K)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,J),u()):s.slice()},d.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},d.rangeRound=function(e){return a=Array.from(e),l=$,u()},d.clamp=function(e){return arguments.length?(c=!!e||ee,u()):c!==ee},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,u()}})()(ee,ee);return n.copy=function(){return e().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())},er.o.apply(n,arguments),t=n.domain,n.ticks=function(e){var n=t();return function(e,t,n){var i,r,o,s,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(s=u(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),i=Math.round(t/s);for(n*s<e&&++n,i*s>t&&--i,o=Array(r=i-n+1);++a<r;)o[a]=(n+a)*s}else{let n=Math.round(e*(s=-s)),i=Math.round(t*s);for(n/s<e&&++n,i/s>t&&--i,o=Array(r=i-n+1);++a<r;)o[a]=(n+a)/s}return i&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},n.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,u,d,h,p,f=(d=Math.pow(10,Math.floor(Math.log(u=Math.abs(t-e)/Math.max(0,n))/Math.LN10)),(h=u/d)>=a?d*=10:h>=l?d*=5:h>=c&&(d*=2),t<e?-d:d);switch((i=es(null==i?",f":i)).type){case"s":var m=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(p=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ec(m)/3)))-ec(Math.abs(f))))||(i.precision=p),s(i,m);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(p=Math.max(0,ec(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(r=Math.abs(r=f)))-ec(r))+1)||(i.precision=p-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(p=Math.max(0,-ec(Math.abs(f))))||(i.precision=p-("%"===i.type)*2)}return o(i)}(i[0],i[i.length-1],null==e?10:e,n)},n.nice=function(e){null==e&&(e=10);var i,r,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],d=10;for(c<l&&(r=l,l=c,c=r,r=s,s=a,a=r);d-- >0;){if((r=u(l,c,e))===i)return o[s]=l,o[a]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else if(r<0)l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r;else break;i=r}return n},n}(),e)}},14582:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(2784),r=n(72779),o=n.n(r),s=["className","innerRef"];function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e){var t=e.className,n=e.innerRef,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,s);return i.createElement("rect",a({ref:n,className:o()("visx-bar",t)},r))}},10897:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(2784),r=n(72779),o=n.n(r),s=["children","className","innerRef","x","y","width","height","radius","all","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight"];function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e){var t,n,r,l,c,u,d,h,p,f,m,x,g,v,j,b,y=e.children,C=e.className,k=e.innerRef,w=e.x,D=e.y,_=e.width,E=e.height,S=e.radius,A=e.all,T=e.top,I=e.bottom,O=e.left,M=e.right,F=e.topLeft,R=e.topRight,N=e.bottomLeft,P=e.bottomRight,L=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,s),z=(n=(t={x:w,y:D,width:_,height:E,radius:S,all:void 0!==A&&A,top:void 0!==T&&T,bottom:void 0!==I&&I,left:void 0!==O&&O,right:void 0!==M&&M,topLeft:void 0!==F&&F,topRight:void 0!==R&&R,bottomLeft:void 0!==N&&N,bottomRight:void 0!==P&&P}).all,r=t.bottom,l=t.bottomLeft,c=t.bottomRight,u=t.height,d=t.left,h=t.radius,p=t.right,f=t.top,m=t.topLeft,x=t.topRight,g=t.width,v=t.x,j=t.y,x=n||f||p||x,c=n||r||p||c,l=n||r||d||l,m=n||f||d||m,b=2*(h=Math.max(1,Math.min(h,Math.min(g,u)/2))),("M"+(v+h)+","+j+" h"+(g-b)+"\n "+(x?"a"+h+","+h+" 0 0 1 "+h+","+h:"h"+h+"v"+h)+"\n v"+(u-b)+"\n "+(c?"a"+h+","+h+" 0 0 1 "+-h+","+h:"v"+h+"h"+-h)+"\n h"+(b-g)+"\n "+(l?"a"+h+","+h+" 0 0 1 "+-h+","+-h:"h"+-h+"v"+-h)+"\n v"+(b-u)+"\n "+(m?"a"+h+","+h+" 0 0 1 "+h+","+-h:"v"+-h+"h"+h)+"\nz").split("\n").join(""));return y?i.createElement(i.Fragment,null,y({path:z})):i.createElement("path",a({ref:k,className:o()("visx-bar-rounded",C),d:z},L))}},63739:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(2784),r=n(72779),o=n.n(r),s=["from","to","fill","className","innerRef"];function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,r=e.to,l=void 0===r?{x:1,y:1}:r,c=e.fill,u=e.className,d=e.innerRef,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,s),p=n.x===l.x||n.y===l.y;return i.createElement("line",a({ref:d,className:o()("visx-line",u),x1:n.x,y1:n.y,x2:l.x,y2:l.y,fill:void 0===c?"transparent":c,shapeRendering:p?"crispEdges":"auto"},h))}},27079:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(2784),r=n(72779),o=n.n(r),s=n(30401),a=["children","data","x","y","fill","className","curve","innerRef","defined"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){var t=e.children,n=e.data,r=void 0===n?[]:n,c=e.x,u=e.y,d=e.fill,h=e.className,p=e.curve,f=e.innerRef,m=e.defined,x=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a),g=(0,s.jv)({x:c,y:u,defined:void 0===m?function(){return!0}:m,curve:p});return t?i.createElement(i.Fragment,null,t({path:g})):i.createElement("path",l({ref:f,className:o()("visx-linepath",h),d:g(r)||"",fill:void 0===d?"transparent":d,strokeLinecap:"round"},x))}},30401:function(e,t,n){"use strict";n.d(t,{Nb:function(){return o},jv:function(){return s}});var i=n(38764),r=n(79767);function o(e){var t=void 0===e?{}:e,n=t.innerRadius,r=t.outerRadius,o=t.cornerRadius,s=t.startAngle,a=t.endAngle,l=t.padAngle,c=t.padRadius,u=(0,i.Z)();return null!=n&&(0,u.innerRadius)(n),null!=r&&(0,u.outerRadius)(r),null!=o&&(0,u.cornerRadius)(o),null!=s&&(0,u.startAngle)(s),null!=a&&(0,u.endAngle)(a),null!=l&&(0,u.padAngle)(l),null!=c&&(0,u.padRadius)(c),u}function s(e){var t=void 0===e?{}:e,n=t.x,i=t.y,o=t.defined,s=t.curve,a=(0,r.Z)();return n&&(0,a.x)(n),i&&(0,a.y)(i),o&&a.defined(o),s&&a.curve(s),a}},82756:function(e,t,n){"use strict";t.Z=function(e){var t=e.className,n=e.top,l=e.left,u=e.data,d=e.centroid,h=e.innerRadius,p=e.outerRadius,f=e.cornerRadius,m=e.startAngle,x=e.endAngle,g=e.padAngle,v=e.padRadius,j=e.pieSort,b=e.pieSortValues,y=e.pieValue,C=e.children,k=e.fill,w=void 0===k?"":k,D=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a),_=(0,s.arc)({innerRadius:void 0===h?0:h,outerRadius:p,cornerRadius:f,padRadius:v}),E=(0,s.pie)({startAngle:m,endAngle:x,padAngle:g,value:y,sort:j,sortValues:b}),S=E(void 0===u?[]:u);return C?i.default.createElement(i.default.Fragment,null,C({arcs:S,path:_,pie:E})):i.default.createElement(o.Group,{className:"visx-pie-arcs-group",top:n,left:l},S.map(function(e,n){return i.default.createElement("g",{key:"pie-arc-"+n},i.default.createElement("path",c({className:(0,r.default)("visx-pie-arc",t),d:_(e)||"",fill:null==w||"string"==typeof w?w:w(e)},D)),null==d?void 0:d(_.centroid(e),e))}))};var i=l(n(2784)),r=l(n(72779)),o=n(71602),s=n(15601),a=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}},15601:function(e,t,n){"use strict";t.__esModule=!0,t.arc=function(e){var t=void 0===e?{}:e,n=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.startAngle,l=t.endAngle,c=t.padAngle,u=t.padRadius,d=(0,i.arc)();return null!=n&&(0,r.default)(d.innerRadius,n),null!=o&&(0,r.default)(d.outerRadius,o),null!=s&&(0,r.default)(d.cornerRadius,s),null!=a&&(0,r.default)(d.startAngle,a),null!=l&&(0,r.default)(d.endAngle,l),null!=c&&(0,r.default)(d.padAngle,c),null!=u&&(0,r.default)(d.padRadius,u),d},t.area=function(e){var t=void 0===e?{}:e,n=t.x,o=t.x0,s=t.x1,a=t.y,l=t.y0,c=t.y1,u=t.defined,d=t.curve,h=(0,i.area)();return n&&(0,r.default)(h.x,n),o&&(0,r.default)(h.x0,o),s&&(0,r.default)(h.x1,s),a&&(0,r.default)(h.y,a),l&&(0,r.default)(h.y0,l),c&&(0,r.default)(h.y1,c),u&&h.defined(u),d&&h.curve(d),h},t.line=function(e){var t=void 0===e?{}:e,n=t.x,o=t.y,s=t.defined,a=t.curve,l=(0,i.line)();return n&&(0,r.default)(l.x,n),o&&(0,r.default)(l.y,o),s&&l.defined(s),a&&l.curve(a),l},t.pie=function(e){var t=void 0===e?{}:e,n=t.startAngle,o=t.endAngle,s=t.padAngle,a=t.value,l=t.sort,c=t.sortValues,u=(0,i.pie)();return null===l?u.sort(l):null!=l&&u.sort(l),null===c?u.sortValues(c):null!=c&&u.sortValues(c),null!=a&&u.value(a),null!=s&&(0,r.default)(u.padAngle,s),null!=n&&(0,r.default)(u.startAngle,n),null!=o&&(0,r.default)(u.endAngle,o),u},t.radialLine=function(e){var t=void 0===e?{}:e,n=t.angle,o=t.radius,s=t.defined,a=t.curve,l=(0,i.radialLine)();return n&&(0,r.default)(l.angle,n),o&&(0,r.default)(l.radius,o),s&&l.defined(s),a&&l.curve(a),l},t.stack=function(e){var t=e.keys,n=e.value,a=e.order,l=e.offset,c=(0,i.stack)();return t&&c.keys(t),n&&(0,r.default)(c.value,n),a&&c.order((0,o.default)(a)),l&&c.offset((0,s.default)(l)),c};var i=n(654),r=a(n(4839)),o=a(n(58543)),s=a(n(74322));function a(e){return e&&e.__esModule?e:{default:e}}},4839:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){e(t)}},74322:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&r[e]||r.none},t.STACK_OFFSET_NAMES=t.STACK_OFFSETS=void 0;var i=n(654),r={expand:i.stackOffsetExpand,diverging:i.stackOffsetDiverging,none:i.stackOffsetNone,silhouette:i.stackOffsetSilhouette,wiggle:i.stackOffsetWiggle};t.STACK_OFFSETS=r;var o=Object.keys(r);t.STACK_OFFSET_NAMES=o},58543:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&r[e]||r.none},t.STACK_ORDER_NAMES=t.STACK_ORDERS=void 0;var i=n(654),r={ascending:i.stackOrderAscending,descending:i.stackOrderDescending,insideout:i.stackOrderInsideOut,none:i.stackOrderNone,reverse:i.stackOrderReverse};t.STACK_ORDERS=r;var o=Object.keys(r);t.STACK_ORDER_NAMES=o},75715:function(e,t,n){"use strict";var i=n(30733),r=n.n(i),o="__react_svg_text_measurement_id";t.Z=r()(function(e,t){try{var n=document.getElementById(o);if(!n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("aria-hidden","true"),i.style.width="0",i.style.height="0",i.style.position="absolute",i.style.top="-100%",i.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",o),i.appendChild(n),document.body.appendChild(i)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(e){return null}},function(e,t){return e+"_"+JSON.stringify(t)})},96492:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(2784),r=["tooltipOpen"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e){var t=(0,i.useState)(o({tooltipOpen:!1},e)),n=t[0],s=t[1],a=(0,i.useCallback)(function(e){return s("function"==typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,r);return o({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})},[s]),l=(0,i.useCallback)(function(){return s({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[s]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:s,showTooltip:a,hideTooltip:l}}},14141:function(e,t,n){"use strict";n.d(t,{Z:function(){return d},j:function(){return u}});var i=n(13980),r=n.n(i),o=n(2784),s=n(72779),a=n.n(s),l=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var u={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"};function d(e){var t=e.className,n=e.top,i=e.left,r=e.offsetLeft,s=void 0===r?10:r,d=e.offsetTop,h=void 0===d?10:d,p=e.style,f=void 0===p?u:p,m=e.children,x=e.unstyled,g=void 0!==x&&x,v=e.applyPositionStyle,j=void 0!==v&&v,b=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l);return o.createElement("div",c({className:a()("visx-tooltip",t),style:c({top:null==n||null==h?n:n+h,left:null==i||null==s?i:i+s},j&&{position:"absolute"},!g&&f)},b),m)}d.propTypes={children:r().node,className:r().string,left:r().number,offsetLeft:r().number,offsetTop:r().number,top:r().number,applyPositionStyle:r().bool,unstyled:r().bool}},40837:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i,r,o,s=n(2784),a=n(28316);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={top:0,right:0,bottom:0,left:0,width:0,height:0},p=n(14141),f=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled"];function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var x=(i=function(e){var t,n=e.children,i=(e.getRects,e.left),r=e.offsetLeft,o=void 0===r?10:r,a=e.offsetTop,l=void 0===a?10:a,c=e.parentRect,u=e.rect,d=e.style,h=void 0===d?p.j:d,x=e.top,g=e.unstyled,v=void 0!==g&&g,j=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,f);if(u&&c){var b=void 0===i?0:i,y=void 0===x?0:x,C=!1,k=!1;if(c.width){var w=b+o+u.width-c.width,D=u.width-b-o;C=w>0&&w>D}else{var _=b+o+u.width-window.innerWidth,E=u.width-b-o;C=_>0&&_>E}if(c.height){var S=y+l+u.height-c.height,A=u.height-y-l;k=S>0&&S>A}else k=y+l+u.height>window.innerHeight;b=C?b-u.width-o:b+o,y=k?y-u.height-l:y+l,t="translate("+(b=Math.round(b))+"px, "+(y=Math.round(y))+"px)"}return s.createElement(p.Z,m({style:m({left:0,top:0,transform:t},!v&&h)},j),n)},o=r=function(e){function t(t){var n;return d(c(n=e.call(this,t)||this),"node",void 0),n.state={rect:void 0,parentRect:void 0},n.getRects=n.getRects.bind(c(n)),n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.node=a.findDOMNode(this),this.setState(function(){return e.getRects()})},n.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():h,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():h}},n.render=function(){return s.createElement(i,l({getRects:this.getRects},this.state,this.props))},t}(s.PureComponent),d(r,"displayName","withBoundingRects("+(i.displayName||"")+")"),o)},89644:function(e,t,n){e.exports=n(25644)},70353:function(e,t,n){"use strict";var i=n(93044),r=n(86955),o=n(92233),s=n(68030),a=n(97948),l=n(51875),c=n(60842),u=n(88618);e.exports=function(e){return new Promise(function(t,n){var d=e.data,h=e.headers,p=e.responseType;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(m+":"+x)}var g=a(e.baseURL,e.url);function v(){if(f){var i="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null;r(t,n,{data:p&&"text"!==p&&"json"!==p?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}}if(f.open(e.method.toUpperCase(),s(g,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(u("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var j=(e.withCredentials||c(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;j&&(h[e.xsrfHeaderName]=j)}"setRequestHeader"in f&&i.forEach(h,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)}),i.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),p&&"json"!==p&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),n(e),f=null)}),d||(d=null),f.send(d)})}},25644:function(e,t,n){"use strict";var i=n(93044),r=n(73644),o=n(62215),s=n(92937);function a(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=a(n(1439));l.Axios=o,l.create=function(e){return a(s(l.defaults,e))},l.Cancel=n(26714),l.CancelToken=n(34089),l.isCancel=n(98041),l.all=function(e){return Promise.all(e)},l.spread=n(70783),l.isAxiosError=n(65587),e.exports=l,e.exports.default=l},26714:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34089:function(e,t,n){"use strict";var i=n(26714);function r(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},98041:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},62215:function(e,t,n){"use strict";var i=n(93044),r=n(68030),o=n(946),s=n(6895),a=n(92937),l=n(17525),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,n=e.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var i=[],r=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(r=r&&t.synchronous,i.unshift(t.fulfilled,t.rejected))});var o=[];if(this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)}),!r){var u=[s,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(o),t=Promise.resolve(e);u.length;)t=t.then(u.shift(),u.shift());return t}for(var d=e;i.length;){var h=i.shift(),p=i.shift();try{d=h(d)}catch(e){p(e);break}}try{t=s(d)}catch(e){return Promise.reject(e)}for(;o.length;)t=t.then(o.shift(),o.shift());return t},u.prototype.getUri=function(e){return r((e=a(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}}),i.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}}),e.exports=u},946:function(e,t,n){"use strict";var i=n(93044);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},97948:function(e,t,n){"use strict";var i=n(99192),r=n(48762);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},88618:function(e,t,n){"use strict";var i=n(11935);e.exports=function(e,t,n,r,o){return i(Error(e),t,n,r,o)}},6895:function(e,t,n){"use strict";var i=n(93044),r=n(38556),o=n(98041),s=n(1439);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return a(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!o(t)&&(a(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},11935:function(e){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},92937:function(e,t,n){"use strict";var i=n(93044);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(e[r],t[r])}i.forEach(r,function(e){i.isUndefined(t[e])||(n[e]=l(void 0,t[e]))}),i.forEach(o,c),i.forEach(s,function(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(void 0,t[r])}),i.forEach(a,function(i){i in t?n[i]=l(e[i],t[i]):i in e&&(n[i]=l(void 0,e[i]))});var u=r.concat(o).concat(s).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===u.indexOf(e)});return i.forEach(d,c),n}},86955:function(e,t,n){"use strict";var i=n(88618);e.exports=function(e,t,n){var r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},38556:function(e,t,n){"use strict";var i=n(93044),r=n(1439);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,function(n){e=n.call(o,e,t)}),e}},1439:function(e,t,n){"use strict";var i,r=n(34406),o=n(93044),s=n(98868),a=n(11935),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?i=n(70353):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(i=n(70353)),i),transformRequest:[function(e,t){return(s(t,"Accept"),s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(0,JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||i&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){u.headers[e]={}}),o.forEach(["post","put","patch"],function(e){u.headers[e]=o.merge(l)}),e.exports=u},73644:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},68030:function(e,t,n){"use strict";var i=n(93044);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var o,s=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},48762:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},92233:function(e,t,n){"use strict";var i=n(93044);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},99192:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},65587:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},60842:function(e,t,n){"use strict";var i=n(93044);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},98868:function(e,t,n){"use strict";var i=n(93044);e.exports=function(e,t){i.forEach(e,function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])})}},51875:function(e,t,n){"use strict";var i=n(93044),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e&&i.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t&&!(s[t]&&r.indexOf(t)>=0)&&("set-cookie"===t?s[t]=(s[t]?s[t]:[]).concat([n]):s[t]=s[t]?s[t]+", "+n:n)}),s}},70783:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},17525:function(e,t,n){"use strict";var i=n(19521),r={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var o={},s=i.version.split(".");function a(e,t){for(var n=t?t.split("."):s,i=e.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])break}return!1}r.transitional=function(e,t,n){var r=t&&a(t);function s(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw Error(s(i," has been removed in "+t));return r&&!o[i]&&(o[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],s=t[o];if(s){var a=e[o],l=void 0===a||s(a,o,e);if(!0!==l)throw TypeError("option "+o+" must be "+l);continue}if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},93044:function(e,t,n){"use strict";var i=n(73644),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,i){l(t[i])&&l(n)?t[i]=e(t[i],n):l(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)u(arguments[i],n);return t},extend:function(e,t,n){return u(t,function(t,r){n&&"function"==typeof t?e[r]=i(t,n):e[r]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},82294:function(e){"use strict";function t(e,t,r){e instanceof RegExp&&(e=n(e,r)),t instanceof RegExp&&(t=n(t,r));var o=i(e,t,r);return o&&{start:o[0],end:o[1],pre:r.slice(0,o[0]),body:r.slice(o[0]+e.length,o[1]),post:r.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var i,r,o,s,a,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(l>=0&&c>0){for(i=[],o=n.length;u>=0&&!a;)u==l?(i.push(u),l=n.indexOf(e,u+1)):1==i.length?a=[i.pop(),c]:((r=i.pop())<o&&(o=r,s=c),c=n.indexOf(t,u+1)),u=l<c&&l>=0?l:c;i.length&&(a=[o,s])}return a}e.exports=t,t.range=i},6185:function(e){var t="function"==typeof Float32Array;function n(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function i(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}function r(e){return e}e.exports=function(e,o,s,a){if(!(0<=e&&e<=1&&0<=s&&s<=1))throw Error("bezier x values must be in [0, 1] range");if(e===o&&s===a)return r;for(var l=t?new Float32Array(11):Array(11),c=0;c<11;++c)l[c]=n(.1*c,e,s);return function(t){return 0===t?0:1===t?1:n(function(t){for(var r=0,o=1;10!==o&&l[o]<=t;++o)r+=.1;var a=r+(t-l[--o])/(l[o+1]-l[o])*.1,c=i(a,e,s);return c>=.001?function(e,t,r,o){for(var s=0;s<4;++s){var a=i(t,r,o);if(0===a)break;var l=n(t,r,o)-e;t-=l/a}return t}(t,a,e,s):0===c?a:function(e,t,i,r,o){var s,a,l=0;do(s=n(a=t+(i-t)/2,r,o)-e)>0?i=a:t=a;while(Math.abs(s)>1e-7&&++l<10);return a}(t,r,r+.1,e,s)}(t),o,a)}}},16149:function(e,t,n){"use strict";n.d(t,{A8:function(){return s},Qc:function(){return l},Y6:function(){return o},rk:function(){return a}});var i=n(90824),r=n(65960);function o(e){return a(l(e))}function s(e,t){var n=(0,r.Kf)(e,[t[0],t[1]||0,t[2]||0,1],4),i=n[3]||1;return[n[0]/i,n[1]/i,n[2]/i]}function a(e){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach(function(e){var n=e.matrixFunction,i=e.functionValue;n&&(t=n(t,i))}),t}function l(e){return((0,i.kJ)(e)?e:(0,i.WE)(e)).map(function(e){var t=(0,i.Le)(e),n=t.prefix,o=t.value,s=null,a=n,l="";if("translate"===n||"translateX"===n||"translate3d"===n){var c=(0,i.W6)(o).map(function(e){return parseFloat(e)}),u=c[0],d=c[1],h=void 0===d?0:d,p=c[2],f=void 0===p?0:p;s=r.z2,l=[u,h,f]}else if("translateY"===n){var h=parseFloat(o);s=r.z2,l=[0,h,0]}else if("translateZ"===n){var f=parseFloat(o);s=r.z2,l=[0,0,f]}else if("scale"===n||"scale3d"===n){var m=(0,i.W6)(o).map(function(e){return parseFloat(e)}),x=m[0],g=m[1],v=void 0===g?x:g,j=m[2],b=void 0===j?1:j;s=r.C7,l=[x,v,b]}else if("scaleX"===n){var x=parseFloat(o);s=r.C7,l=[x,1,1]}else if("scaleY"===n){var v=parseFloat(o);s=r.C7,l=[1,v,1]}else if("scaleZ"===n){var b=parseFloat(o);s=r.C7,l=[1,1,b]}else if("rotate"===n||"rotateZ"===n||"rotateX"===n||"rotateY"===n){var y=(0,i.jL)(o),C=y.unit,k=y.value,w="rad"===C?k:k*Math.PI/180;"rotate"===n||"rotateZ"===n?(a="rotateZ",s=r.a4):"rotateX"===n?s=r.yR:"rotateY"===n&&(s=r.Qm),l=w}else if("matrix3d"===n)s=r.Jp,l=(0,i.W6)(o).map(function(e){return parseFloat(e)});else if("matrix"===n){var D=(0,i.W6)(o).map(function(e){return parseFloat(e)});s=r.Jp,l=[D[0],D[1],0,0,D[2],D[3],0,0,0,0,1,0,D[4],D[5],0,1]}else a="";return{name:n,functionName:a,value:o,matrixFunction:s,functionValue:l}})}},91672:function(e,t){"use strict";var n=Math.PI,i=2*n,r=i-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,i,r,o){e=+e,t=+t,i=+i,r=+r,o=+o;var s=this._x1,a=this._y1,l=i-e,c=r-t,u=s-e,d=a-t,h=u*u+d*d;if(o<0)throw Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6){if(Math.abs(d*l-c*u)>1e-6&&o){var p=i-s,f=r-a,m=l*l+c*c,x=Math.sqrt(m),g=Math.sqrt(h),v=o*Math.tan((n-Math.acos((m+h-(p*p+f*f))/(2*x*g)))/2),j=v/g,b=v/x;Math.abs(j-1)>1e-6&&(this._+="L"+(e+j*u)+","+(t+j*d)),this._+="A"+o+","+o+",0,0,"+ +(d*p>u*f)+","+(this._x1=e+b*l)+","+(this._y1=t+b*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t)}},arc:function(e,t,o,s,a,l){e=+e,t=+t,o=+o,l=!!l;var c=o*Math.cos(s),u=o*Math.sin(s),d=e+c,h=t+u,p=1^l,f=l?s-a:a-s;if(o<0)throw Error("negative radius: "+o);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+d+","+h),o&&(f<0&&(f=f%i+i),f>r?this._+="A"+o+","+o+",0,1,"+p+","+(e-c)+","+(t-u)+"A"+o+","+o+",0,1,"+p+","+(this._x1=d)+","+(this._y1=h):f>1e-6&&(this._+="A"+o+","+o+",0,"+ +(f>=n)+","+p+","+(this._x1=e+o*Math.cos(a))+","+(this._y1=t+o*Math.sin(a))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},t.Z=s},22274:function(e,t,n){"use strict";function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}n.d(t,{o:function(){return i}})},38764:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(91672),r=n(33554),o=n(15);function s(e){return e.innerRadius}function a(e){return e.outerRadius}function l(e){return e.startAngle}function c(e){return e.endAngle}function u(e){return e&&e.padAngle}function d(e,t,n,i,r,s,a){var l=e-n,c=t-i,u=(a?s:-s)/(0,o._b)(l*l+c*c),d=u*c,h=-u*l,p=e+d,f=t+h,m=n+d,x=i+h,g=(p+m)/2,v=(f+x)/2,j=m-p,b=x-f,y=j*j+b*b,C=r-s,k=p*x-m*f,w=(b<0?-1:1)*(0,o._b)((0,o.Fp)(0,C*C*y-k*k)),D=(k*b-j*w)/y,_=(-k*j-b*w)/y,E=(k*b+j*w)/y,S=(-k*j+b*w)/y,A=D-g,T=_-v,I=E-g,O=S-v;return A*A+T*T>I*I+O*O&&(D=E,_=S),{cx:D,cy:_,x01:-d,y01:-h,x11:D*(r/C-1),y11:_*(r/C-1)}}function h(){var e=s,t=a,n=(0,r.Z)(0),h=null,p=l,f=c,m=u,x=null;function g(){var r,s,a=+e.apply(this,arguments),l=+t.apply(this,arguments),c=p.apply(this,arguments)-o.ou,u=f.apply(this,arguments)-o.ou,g=(0,o.Wn)(u-c),v=u>c;if(x||(x=r=(0,i.Z)()),l<a&&(s=l,l=a,a=s),l>o.Ho){if(g>o.BZ-o.Ho)x.moveTo(l*(0,o.mC)(c),l*(0,o.O$)(c)),x.arc(0,0,l,c,u,!v),a>o.Ho&&(x.moveTo(a*(0,o.mC)(u),a*(0,o.O$)(u)),x.arc(0,0,a,u,c,v));else{var j,b,y=c,C=u,k=c,w=u,D=g,_=g,E=m.apply(this,arguments)/2,S=E>o.Ho&&(h?+h.apply(this,arguments):(0,o._b)(a*a+l*l)),A=(0,o.VV)((0,o.Wn)(l-a)/2,+n.apply(this,arguments)),T=A,I=A;if(S>o.Ho){var O=(0,o.ZR)(S/a*(0,o.O$)(E)),M=(0,o.ZR)(S/l*(0,o.O$)(E));(D-=2*O)>o.Ho?(O*=v?1:-1,k+=O,w-=O):(D=0,k=w=(c+u)/2),(_-=2*M)>o.Ho?(M*=v?1:-1,y+=M,C-=M):(_=0,y=C=(c+u)/2)}var F=l*(0,o.mC)(y),R=l*(0,o.O$)(y),N=a*(0,o.mC)(w),P=a*(0,o.O$)(w);if(A>o.Ho){var L,z=l*(0,o.mC)(C),G=l*(0,o.O$)(C),U=a*(0,o.mC)(k),B=a*(0,o.O$)(k);if(g<o.pi&&(L=function(e,t,n,i,r,s,a,l){var c=n-e,u=i-t,d=a-r,h=l-s,p=h*c-d*u;if(!(p*p<o.Ho))return p=(d*(t-s)-h*(e-r))/p,[e+p*c,t+p*u]}(F,R,U,B,z,G,N,P))){var H=F-L[0],W=R-L[1],V=z-L[0],q=G-L[1],Z=1/(0,o.O$)((0,o.Kh)((H*V+W*q)/((0,o._b)(H*H+W*W)*(0,o._b)(V*V+q*q)))/2),K=(0,o._b)(L[0]*L[0]+L[1]*L[1]);T=(0,o.VV)(A,(a-K)/(Z-1)),I=(0,o.VV)(A,(l-K)/(Z+1))}}_>o.Ho?I>o.Ho?(j=d(U,B,F,R,l,I,v),b=d(z,G,N,P,l,I,v),x.moveTo(j.cx+j.x01,j.cy+j.y01),I<A?x.arc(j.cx,j.cy,I,(0,o.fv)(j.y01,j.x01),(0,o.fv)(b.y01,b.x01),!v):(x.arc(j.cx,j.cy,I,(0,o.fv)(j.y01,j.x01),(0,o.fv)(j.y11,j.x11),!v),x.arc(0,0,l,(0,o.fv)(j.cy+j.y11,j.cx+j.x11),(0,o.fv)(b.cy+b.y11,b.cx+b.x11),!v),x.arc(b.cx,b.cy,I,(0,o.fv)(b.y11,b.x11),(0,o.fv)(b.y01,b.x01),!v))):(x.moveTo(F,R),x.arc(0,0,l,y,C,!v)):x.moveTo(F,R),a>o.Ho&&D>o.Ho?T>o.Ho?(j=d(N,P,z,G,a,-T,v),b=d(F,R,U,B,a,-T,v),x.lineTo(j.cx+j.x01,j.cy+j.y01),T<A?x.arc(j.cx,j.cy,T,(0,o.fv)(j.y01,j.x01),(0,o.fv)(b.y01,b.x01),!v):(x.arc(j.cx,j.cy,T,(0,o.fv)(j.y01,j.x01),(0,o.fv)(j.y11,j.x11),!v),x.arc(0,0,a,(0,o.fv)(j.cy+j.y11,j.cx+j.x11),(0,o.fv)(b.cy+b.y11,b.cx+b.x11),v),x.arc(b.cx,b.cy,T,(0,o.fv)(b.y11,b.x11),(0,o.fv)(b.y01,b.x01),!v))):x.arc(0,0,a,w,k,v):x.lineTo(N,P)}}else x.moveTo(0,0);if(x.closePath(),r)return x=null,r+""||null}return g.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+p.apply(this,arguments)+ +f.apply(this,arguments))/2-o.pi/2;return[(0,o.mC)(i)*n,(0,o.O$)(i)*n]},g.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),g):e},g.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),g):t},g.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:(0,r.Z)(+e),g):n},g.padRadius=function(e){return arguments.length?(h=null==e?null:"function"==typeof e?e:(0,r.Z)(+e),g):h},g.startAngle=function(e){return arguments.length?(p="function"==typeof e?e:(0,r.Z)(+e),g):p},g.endAngle=function(e){return arguments.length?(f="function"==typeof e?e:(0,r.Z)(+e),g):f},g.padAngle=function(e){return arguments.length?(m="function"==typeof e?e:(0,r.Z)(+e),g):m},g.context=function(e){return arguments.length?(x=null==e?null:e,g):x},g}},33554:function(e,t,n){"use strict";function i(e){return function(){return e}}n.d(t,{Z:function(){return i}})},20651:function(e,t,n){"use strict";function i(e){this._context=e}function r(e){return new i(e)}n.d(t,{Z:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},654:function(e,t,n){"use strict";n.r(t),n.d(t,{arc:function(){return i.Z},area:function(){return c},areaRadial:function(){return j},curveBasis:function(){return J},curveBasisClosed:function(){return ee},curveBasisOpen:function(){return en},curveBundle:function(){return er},curveCardinal:function(){return ea},curveCardinalClosed:function(){return ec},curveCardinalOpen:function(){return ed},curveCatmullRom:function(){return ef},curveCatmullRomClosed:function(){return ex},curveCatmullRomOpen:function(){return ev},curveLinear:function(){return s.Z},curveLinearClosed:function(){return eb},curveMonotoneX:function(){return eE},curveMonotoneY:function(){return eS},curveNatural:function(){return eI},curveStep:function(){return eM},curveStepAfter:function(){return eR},curveStepBefore:function(){return eF},line:function(){return a.Z},lineRadial:function(){return v},linkHorizontal:function(){return S},linkRadial:function(){return T},linkVertical:function(){return A},pie:function(){return p},pointRadial:function(){return b},radialArea:function(){return j},radialLine:function(){return v},stack:function(){return ez},stackOffsetDiverging:function(){return eU},stackOffsetExpand:function(){return eG},stackOffsetNone:function(){return eN},stackOffsetSilhouette:function(){return eB},stackOffsetWiggle:function(){return eH},stackOrderAppearance:function(){return eW},stackOrderAscending:function(){return eq},stackOrderDescending:function(){return eK},stackOrderInsideOut:function(){return eY},stackOrderNone:function(){return eP},stackOrderReverse:function(){return eX},symbol:function(){return K},symbolCircle:function(){return I},symbolCross:function(){return O},symbolDiamond:function(){return R},symbolSquare:function(){return G},symbolStar:function(){return z},symbolTriangle:function(){return B},symbolWye:function(){return q},symbols:function(){return Z}});var i=n(38764),r=n(91672),o=n(33554),s=n(20651),a=n(79767),l=n(11053);function c(){var e=l.x,t=null,n=(0,o.Z)(0),i=l.y,c=(0,o.Z)(!0),u=null,d=s.Z,h=null;function p(o){var s,a,l,p,f,m=o.length,x=!1,g=Array(m),v=Array(m);for(null==u&&(h=d(f=(0,r.Z)())),s=0;s<=m;++s){if(!(s<m&&c(p=o[s],s,o))===x){if(x=!x)a=s,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),l=s-1;l>=a;--l)h.point(g[l],v[l]);h.lineEnd(),h.areaEnd()}}x&&(g[s]=+e(p,s,o),v[s]=+n(p,s,o),h.point(t?+t(p,s,o):g[s],i?+i(p,s,o):v[s]))}if(f)return h=null,f+""||null}function f(){return(0,a.Z)().defined(c).curve(d).context(u)}return p.x=function(n){return arguments.length?(e="function"==typeof n?n:(0,o.Z)(+n),t=null,p):e},p.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),p):e},p.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:(0,o.Z)(+e),p):t},p.y=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.Z)(+e),i=null,p):n},p.y0=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.Z)(+e),p):n},p.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:(0,o.Z)(+e),p):i},p.lineX0=p.lineY0=function(){return f().x(e).y(n)},p.lineY1=function(){return f().x(e).y(i)},p.lineX1=function(){return f().x(t).y(n)},p.defined=function(e){return arguments.length?(c="function"==typeof e?e:(0,o.Z)(!!e),p):c},p.curve=function(e){return arguments.length?(d=e,null!=u&&(h=d(u)),p):d},p.context=function(e){return arguments.length?(null==e?u=h=null:h=d(u=e),p):u},p}function u(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function d(e){return e}var h=n(15);function p(){var e=d,t=u,n=null,i=(0,o.Z)(0),r=(0,o.Z)(h.BZ),s=(0,o.Z)(0);function a(o){var a,l,c,u,d,p=o.length,f=0,m=Array(p),x=Array(p),g=+i.apply(this,arguments),v=Math.min(h.BZ,Math.max(-h.BZ,r.apply(this,arguments)-g)),j=Math.min(Math.abs(v)/p,s.apply(this,arguments)),b=j*(v<0?-1:1);for(a=0;a<p;++a)(d=x[m[a]=a]=+e(o[a],a,o))>0&&(f+=d);for(null!=t?m.sort(function(e,n){return t(x[e],x[n])}):null!=n&&m.sort(function(e,t){return n(o[e],o[t])}),a=0,c=f?(v-p*b)/f:0;a<p;++a,g=u)u=g+((d=x[l=m[a]])>0?d*c:0)+b,x[l]={data:o[l],index:a,value:d,startAngle:g,endAngle:u,padAngle:j};return x}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:(0,o.Z)(+e),a):i},a.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:(0,o.Z)(+e),a):r},a.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:(0,o.Z)(+e),a):s},a}var f=x(s.Z);function m(e){this._curve=e}function x(e){function t(t){return new m(e(t))}return t._curve=e,t}function g(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(x(e)):t()._curve},e}function v(){return g((0,a.Z)().curve(f))}function j(){var e=c().curve(f),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return g(n())},delete e.lineX0,e.lineEndAngle=function(){return g(i())},delete e.lineX1,e.lineInnerRadius=function(){return g(r())},delete e.lineY0,e.lineOuterRadius=function(){return g(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(x(e)):t()._curve},e}function b(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}m.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),-(t*Math.cos(e)))}};var y=Array.prototype.slice;function C(e){return e.source}function k(e){return e.target}function w(e){var t=C,n=k,i=l.x,s=l.y,a=null;function c(){var o,l=y.call(arguments),c=t.apply(this,l),u=n.apply(this,l);if(a||(a=o=(0,r.Z)()),e(a,+i.apply(this,(l[0]=c,l)),+s.apply(this,l),+i.apply(this,(l[0]=u,l)),+s.apply(this,l)),o)return a=null,o+""||null}return c.source=function(e){return arguments.length?(t=e,c):t},c.target=function(e){return arguments.length?(n=e,c):n},c.x=function(e){return arguments.length?(i="function"==typeof e?e:(0,o.Z)(+e),c):i},c.y=function(e){return arguments.length?(s="function"==typeof e?e:(0,o.Z)(+e),c):s},c.context=function(e){return arguments.length?(a=null==e?null:e,c):a},c}function D(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function _(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function E(e,t,n,i,r){var o=b(t,n),s=b(t,n=(n+r)/2),a=b(i,n),l=b(i,r);e.moveTo(o[0],o[1]),e.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function S(){return w(D)}function A(){return w(_)}function T(){var e=w(E);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var I={draw:function(e,t){var n=Math.sqrt(t/h.pi);e.moveTo(n,0),e.arc(0,0,n,0,h.BZ)}},O={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},M=Math.sqrt(1/3),F=2*M,R={draw:function(e,t){var n=Math.sqrt(t/F),i=n*M;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},N=Math.sin(h.pi/10)/Math.sin(7*h.pi/10),P=Math.sin(h.BZ/10)*N,L=-Math.cos(h.BZ/10)*N,z={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=P*n,r=L*n;e.moveTo(0,-n),e.lineTo(i,r);for(var o=1;o<5;++o){var s=h.BZ*o/5,a=Math.cos(s),l=Math.sin(s);e.lineTo(l*n,-a*n),e.lineTo(a*i-l*r,l*i+a*r)}e.closePath()}},G={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},U=Math.sqrt(3),B={draw:function(e,t){var n=-Math.sqrt(t/(3*U));e.moveTo(0,2*n),e.lineTo(-U*n,-n),e.lineTo(U*n,-n),e.closePath()}},H=Math.sqrt(3)/2,W=1/Math.sqrt(12),V=(W/2+1)*3,q={draw:function(e,t){var n=Math.sqrt(t/V),i=n/2,r=n*W,o=n*W+n,s=-i;e.moveTo(i,r),e.lineTo(i,o),e.lineTo(s,o),e.lineTo(-.5*i-H*r,H*i+-.5*r),e.lineTo(-.5*i-H*o,H*i+-.5*o),e.lineTo(-.5*s-H*o,H*s+-.5*o),e.lineTo(-.5*i+H*r,-.5*r-H*i),e.lineTo(-.5*i+H*o,-.5*o-H*i),e.lineTo(-.5*s+H*o,-.5*o-H*s),e.closePath()}},Z=[I,O,R,G,z,B,q];function K(){var e=(0,o.Z)(I),t=(0,o.Z)(64),n=null;function i(){var i;if(n||(n=i=(0,r.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function Y(){}function X(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $(e){this._context=e}function J(e){return new $(e)}function Q(e){this._context=e}function ee(e){return new Q(e)}function et(e){this._context=e}function en(e){return new et(e)}function ei(e,t){this._basis=new $(e),this._beta=t}$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:X(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:X(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Q.prototype={areaStart:Y,areaEnd:Y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:X(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:X(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ei.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],o=t[0],s=e[n]-r,a=t[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*s),this._beta*t[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var er=function e(t){function n(e){return 1===t?new $(e):new ei(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function eo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function es(e,t){this._context=e,this._k=(1-t)/6}es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:eo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:eo(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ea=function e(t){function n(e){return new es(e,t)}return n.tension=function(t){return e(+t)},n}(0);function el(e,t){this._context=e,this._k=(1-t)/6}el.prototype={areaStart:Y,areaEnd:Y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:eo(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ec=function e(t){function n(e){return new el(e,t)}return n.tension=function(t){return e(+t)},n}(0);function eu(e,t){this._context=e,this._k=(1-t)/6}eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eo(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ed=function e(t){function n(e){return new eu(e,t)}return n.tension=function(t){return e(+t)},n}(0);function eh(e,t,n){var i=e._x1,r=e._y1,o=e._x2,s=e._y2;if(e._l01_a>h.Ho){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>h.Ho){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,o,s,e._x2,e._y2)}function ep(e,t){this._context=e,this._alpha=t}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:eh(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ef=function e(t){function n(e){return t?new ep(e,t):new es(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function em(e,t){this._context=e,this._alpha=t}em.prototype={areaStart:Y,areaEnd:Y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:eh(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ex=function e(t){function n(e){return t?new em(e,t):new el(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function eg(e,t){this._context=e,this._alpha=t}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eh(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ev=function e(t){function n(e){return t?new eg(e,t):new eu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ej(e){this._context=e}function eb(e){return new ej(e)}function ey(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0);return((o<0?-1:1)+(s<0?-1:1))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs((o*r+s*i)/(i+r)))||0}function eC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ek(e,t,n){var i=e._x0,r=e._y0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,r+a*t,o-a,s-a*n,o,s)}function ew(e){this._context=e}function eD(e){this._context=new e_(e)}function e_(e){this._context=e}function eE(e){return new ew(e)}function eS(e){return new eD(e)}function eA(e){this._context=e}function eT(e){var t,n,i=e.length-1,r=Array(i),o=Array(i),s=Array(i);for(r[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(r[i-1]=s[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];for(t=0,o[i-1]=(e[i]+r[i-1])/2;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function eI(e){return new eA(e)}function eO(e,t){this._context=e,this._t=t}function eM(e){return new eO(e,.5)}function eF(e){return new eO(e,0)}function eR(e){return new eO(e,1)}function eN(e,t){if((r=e.length)>1)for(var n,i,r,o=1,s=e[t[0]],a=s.length;o<r;++o)for(i=s,s=e[t[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function eP(e){for(var t=e.length,n=Array(t);--t>=0;)n[t]=t;return n}function eL(e,t){return e[t]}function ez(){var e=(0,o.Z)([]),t=eP,n=eN,i=eL;function r(r){var o,s,a=e.apply(this,arguments),l=r.length,c=a.length,u=Array(c);for(o=0;o<c;++o){for(var d,h=a[o],p=u[o]=Array(l),f=0;f<l;++f)p[f]=d=[0,+i(r[f],h,f,r)],d.data=r[f];p.key=h}for(o=0,s=t(u);o<c;++o)u[s[o]].index=o;return n(u,s),u}return r.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(y.call(t)),r):e},r.value=function(e){return arguments.length?(i="function"==typeof e?e:(0,o.Z)(+e),r):i},r.order=function(e){return arguments.length?(t=null==e?eP:"function"==typeof e?e:(0,o.Z)(y.call(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?eN:e,r):n},r}function eG(e,t){if((i=e.length)>0){for(var n,i,r,o=0,s=e[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}eN(e,t)}}function eU(e,t){if((a=e.length)>0)for(var n,i,r,o,s,a,l=0,c=e[t[0]].length;l<c;++l)for(o=s=0,n=0;n<a;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)}function eB(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=e[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}eN(e,t)}}function eH(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,c=0;a<r;++a){for(var u=e[t[a]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,p=0;p<a;++p){var f=e[t[p]];h+=(f[s][1]||0)-(f[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,eN(e,t)}}function eW(e){var t=e.map(eV);return eP(e).sort(function(e,n){return t[e]-t[n]})}function eV(e){for(var t,n=-1,i=0,r=e.length,o=-1/0;++n<r;)(t=+e[n][1])>o&&(o=t,i=n);return i}function eq(e){var t=e.map(eZ);return eP(e).sort(function(e,n){return t[e]-t[n]})}function eZ(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}function eK(e){return eq(e).reverse()}function eY(e){var t,n,i=e.length,r=e.map(eZ),o=eW(e),s=0,a=0,l=[],c=[];for(t=0;t<i;++t)n=o[t],s<a?(s+=r[n],l.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(l)}function eX(e){return eP(e).reverse()}ej.prototype={areaStart:Y,areaEnd:Y,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ek(this,this._t0,eC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ek(this,eC(this,n=ey(this,e,t)),n);break;default:ek(this,this._t0,n=ey(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(eD.prototype=Object.create(ew.prototype)).point=function(e,t){ew.prototype.point.call(this,t,e)},e_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},eA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n){if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=eT(e),r=eT(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s])}(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},79767:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(91672),r=n(33554),o=n(20651),s=n(11053);function a(){var e=s.x,t=s.y,n=(0,r.Z)(!0),a=null,l=o.Z,c=null;function u(r){var o,s,u,d=r.length,h=!1;for(null==a&&(c=l(u=(0,i.Z)())),o=0;o<=d;++o)!(o<d&&n(s=r[o],o,r))===h&&((h=!h)?c.lineStart():c.lineEnd()),h&&c.point(+e(s,o,r),+t(s,o,r));if(u)return c=null,u+""||null}return u.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),u):e},u.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),u):t},u.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,r.Z)(!!e),u):n},u.curve=function(e){return arguments.length?(l=e,null!=a&&(c=l(a)),u):l},u.context=function(e){return arguments.length?(null==e?a=c=null:c=l(a=e),u):a},u}},15:function(e,t,n){"use strict";n.d(t,{BZ:function(){return p},Fp:function(){return s},Ho:function(){return u},Kh:function(){return f},O$:function(){return l},VV:function(){return a},Wn:function(){return i},ZR:function(){return m},_b:function(){return c},fv:function(){return r},mC:function(){return o},ou:function(){return h},pi:function(){return d}});var i=Math.abs,r=Math.atan2,o=Math.cos,s=Math.max,a=Math.min,l=Math.sin,c=Math.sqrt,u=1e-12,d=Math.PI,h=d/2,p=2*d;function f(e){return e>1?0:e<-1?d:Math.acos(e)}function m(e){return e>=1?h:e<=-1?-h:Math.asin(e)}},11053:function(e,t,n){"use strict";function i(e){return e[0]}function r(e){return e[1]}n.d(t,{x:function(){return i},y:function(){return r}})},19293:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(66700),r=n(19785);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t),s=n.getTime()-o.getTime();return s>0?-1:s<0?1:s}},8849:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(1645),r=n(10405),o=n(19785);function s(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t);return Math.round((n.getTime()-(0,i.Z)(n)-(s.getTime()-(0,i.Z)(s)))/864e5)}},43182:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(66700),r=n(8849),o=n(19785);function s(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function a(e,t){(0,o.Z)(2,arguments);var n=function(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,i.Z)(t),l=s(n,a),c=Math.abs((0,r.Z)(n,a));n.setDate(n.getDate()-l*c);var u=Number(s(n,a)===-l),d=l*(c-u);return 0===d?0:d}(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}},33437:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(8849),r=n(82282),o=n(57907),s=n(89248),a=n(66700),l=n(1645),c=n(19785);function u(e,t,n){(0,c.Z)(2,arguments);var u=(0,a.Z)(e),d=(0,a.Z)(t),h=n||{},p=h.locale,f=void 0===p?o.Z:p,m=h.weekStartsOn,x=void 0===m?0:m;if(!f.localize)throw RangeError("locale must contain localize property");if(!f.formatLong)throw RangeError("locale must contain formatLong property");if(!f.formatRelative)throw RangeError("locale must contain formatRelative property");var g=(0,i.Z)(u,d);if(isNaN(g))throw RangeError("Invalid time value");var v=(0,s.Z)(u,(0,l.Z)(u)),j=(0,s.Z)(d,(0,l.Z)(d)),b=f.formatRelative(g<-6?"other":g<-1?"lastWeek":g<0?"yesterday":g<1?"today":g<2?"tomorrow":g<7?"nextWeek":"other",v,j,{locale:f,weekStartsOn:x});return(0,r.Z)(u,b,{locale:f,weekStartsOn:x})}},82276:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(10405),r=n(19785);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getTime()===o.getTime()}},82236:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(82276),r=n(19785);function o(e){return(0,r.Z)(1,arguments),(0,i.Z)(e,Date.now())}},21668:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(82276),r=n(96913),o=n(19785);function s(e){return(0,o.Z)(1,arguments),(0,i.Z)(e,(0,r.Z)(Date.now(),1))}},10405:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(66700),r=n(19785);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(0,0,0,0),t}},96913:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(42765),r=n(63761),o=n(19785);function s(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(t);return(0,r.Z)(e,-n)}},35368:function(e){/*! @license DOMPurify 3.0.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.0/LICENSE */e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e,i,r){return(n=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,n,i){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return i&&t(o,i.prototype),o}:Reflect.construct).apply(null,arguments)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var s,a=Object.entries,l=Object.setPrototypeOf,c=Object.isFrozen,u=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,h=Object.freeze,p=Object.seal,f=Object.create,m="undefined"!=typeof Reflect&&Reflect,x=m.apply,g=m.construct;x||(x=function(e,t,n){return e.apply(t,n)}),h||(h=function(e){return e}),p||(p=function(e){return e}),g||(g=function(e,t){return n(e,i(t))});var v=A(Array.prototype.forEach),j=A(Array.prototype.pop),b=A(Array.prototype.push),y=A(String.prototype.toLowerCase),C=A(String.prototype.toString),k=A(String.prototype.match),w=A(String.prototype.replace),D=A(String.prototype.indexOf),_=A(String.prototype.trim),E=A(RegExp.prototype.test),S=(s=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(s,t)});function A(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return x(e,t,i)}}function T(e,t,n){n=n||y,l&&l(e,null);for(var i=t.length;i--;){var r=t[i];if("string"==typeof r){var o=n(r);o!==r&&(c(t)||(t[i]=o),r=o)}e[r]=!0}return e}function I(e){var t,n=f(null),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}(a(e));try{for(i.s();!(t=i.n()).done;){var o,s=(o=t.value,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n,i,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}(o,2)||r(o,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1];n[l]=c}}catch(e){i.e(e)}finally{i.f()}return n}function O(e,t){for(;null!==e;){var n=d(e,t);if(n){if(n.get)return A(n.get);if("function"==typeof n.value)return A(n.value)}e=u(e)}return function(e){return console.warn("fallback value for",e),null}}var M=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),L=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),z=h(["#text"]),G=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),U=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=p(/<%[\w\W]*|[\w\W]*%>/gm),q=p(/\${[\w\W]*}/gm),Z=p(/^data-[\-\w.\u00B7-\uFFFF]/),K=p(/^aria-[\-\w]+$/),Y=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X=p(/^(?:\w+script|data):/i),$=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=p(/^html$/i),Q=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var i=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(i=n.currentScript.getAttribute(r));var o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){var n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,s=function(e){return t(e)};if(s.version="3.0.0",s.removed=[],!o||!o.document||9!==o.document.nodeType)return s.isSupported=!1,s;var l=o.document,c=o.document,u=o.DocumentFragment,d=o.HTMLTemplateElement,p=o.Node,f=o.Element,m=o.NodeFilter,x=o.NamedNodeMap,g=void 0===x?o.NamedNodeMap||o.MozNamedAttrMap:x,A=o.HTMLFormElement,ee=o.DOMParser,et=o.trustedTypes,en=f.prototype,ei=O(en,"cloneNode"),er=O(en,"nextSibling"),eo=O(en,"childNodes"),es=O(en,"parentNode");if("function"==typeof d){var ea=c.createElement("template");ea.content&&ea.content.ownerDocument&&(c=ea.content.ownerDocument)}var el=Q(et,l),ec=el?el.createHTML(""):"",eu=c,ed=eu.implementation,eh=eu.createNodeIterator,ep=eu.createDocumentFragment,ef=eu.getElementsByTagName,em=l.importNode,ex={};s.isSupported="function"==typeof a&&"function"==typeof es&&ed&&void 0!==ed.createHTMLDocument;var eg=Y,ev=null,ej=T({},[].concat(i(M),i(F),i(R),i(P),i(z))),eb=null,ey=T({},[].concat(i(G),i(U),i(B),i(H))),eC=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ek=null,ew=null,eD=!0,e_=!0,eE=!1,eS=!0,eA=!1,eT=!1,eI=!1,eO=!1,eM=!1,eF=!1,eR=!1,eN=!0,eP=!1,eL=!0,ez=!1,eG={},eU=null,eB=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eH=null,eW=T({},["audio","video","img","source","image","track"]),eV=null,eq=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eZ="http://www.w3.org/1998/Math/MathML",eK="http://www.w3.org/2000/svg",eY="http://www.w3.org/1999/xhtml",eX=eY,e$=!1,eJ=null,eQ=T({},[eZ,eK,eY],C),e0=["application/xhtml+xml","text/html"],e1=null,e2=c.createElement("form"),e3=function(e){return e instanceof RegExp||e instanceof Function},e5=function(t){e1&&e1===t||(t&&"object"===e(t)||(t={}),t=I(t),r="application/xhtml+xml"===(n=n=-1===e0.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?C:y,ev="ALLOWED_TAGS"in t?T({},t.ALLOWED_TAGS,r):ej,eb="ALLOWED_ATTR"in t?T({},t.ALLOWED_ATTR,r):ey,eJ="ALLOWED_NAMESPACES"in t?T({},t.ALLOWED_NAMESPACES,C):eQ,eV="ADD_URI_SAFE_ATTR"in t?T(I(eq),t.ADD_URI_SAFE_ATTR,r):eq,eH="ADD_DATA_URI_TAGS"in t?T(I(eW),t.ADD_DATA_URI_TAGS,r):eW,eU="FORBID_CONTENTS"in t?T({},t.FORBID_CONTENTS,r):eB,ek="FORBID_TAGS"in t?T({},t.FORBID_TAGS,r):{},ew="FORBID_ATTR"in t?T({},t.FORBID_ATTR,r):{},eG="USE_PROFILES"in t&&t.USE_PROFILES,eD=!1!==t.ALLOW_ARIA_ATTR,e_=!1!==t.ALLOW_DATA_ATTR,eE=t.ALLOW_UNKNOWN_PROTOCOLS||!1,eS=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,eA=t.SAFE_FOR_TEMPLATES||!1,eT=t.WHOLE_DOCUMENT||!1,eM=t.RETURN_DOM||!1,eF=t.RETURN_DOM_FRAGMENT||!1,eR=t.RETURN_TRUSTED_TYPE||!1,eO=t.FORCE_BODY||!1,eN=!1!==t.SANITIZE_DOM,eP=t.SANITIZE_NAMED_PROPS||!1,eL=!1!==t.KEEP_CONTENT,ez=t.IN_PLACE||!1,eg=t.ALLOWED_URI_REGEXP||eg,eX=t.NAMESPACE||eY,t.CUSTOM_ELEMENT_HANDLING&&e3(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eC.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&e3(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eC.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eC.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eA&&(e_=!1),eF&&(eM=!0),eG&&(ev=T({},i(z)),eb=[],!0===eG.html&&(T(ev,M),T(eb,G)),!0===eG.svg&&(T(ev,F),T(eb,U),T(eb,H)),!0===eG.svgFilters&&(T(ev,R),T(eb,U),T(eb,H)),!0===eG.mathMl&&(T(ev,P),T(eb,B),T(eb,H))),t.ADD_TAGS&&(ev===ej&&(ev=I(ev)),T(ev,t.ADD_TAGS,r)),t.ADD_ATTR&&(eb===ey&&(eb=I(eb)),T(eb,t.ADD_ATTR,r)),t.ADD_URI_SAFE_ATTR&&T(eV,t.ADD_URI_SAFE_ATTR,r),t.FORBID_CONTENTS&&(eU===eB&&(eU=I(eU)),T(eU,t.FORBID_CONTENTS,r)),eL&&(ev["#text"]=!0),eT&&T(ev,["html","head","body"]),ev.table&&(T(ev,["tbody"]),delete ek.tbody),h&&h(t),e1=t)},e4=T({},["mi","mo","mn","ms","mtext"]),e6=T({},["foreignobject","desc","title","annotation-xml"]),e8=T({},["title","style","font","a","script"]),e7=T({},F);T(e7,R),T(e7,N);var e9=T({},P);T(e9,L);var te=function(e){var t=es(e);t&&t.tagName||(t={namespaceURI:eX,tagName:"template"});var i=y(e.tagName),r=y(t.tagName);return!!eJ[e.namespaceURI]&&(e.namespaceURI===eK?t.namespaceURI===eY?"svg"===i:t.namespaceURI===eZ?"svg"===i&&("annotation-xml"===r||e4[r]):!!e7[i]:e.namespaceURI===eZ?t.namespaceURI===eY?"math"===i:t.namespaceURI===eK?"math"===i&&e6[r]:!!e9[i]:e.namespaceURI===eY?(t.namespaceURI!==eK||!!e6[r])&&(t.namespaceURI!==eZ||!!e4[r])&&!e9[i]&&(e8[i]||!e7[i]):"application/xhtml+xml"===n&&!!eJ[e.namespaceURI])},tt=function(e){b(s.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},tn=function(e,t){try{b(s.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(s.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!eb[e]){if(eM||eF)try{tt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}},ti=function(e){if(eO)e="<remove></remove>"+e;else{var t,i,r=k(e,/^[\r\n\t ]+/);i=r&&r[0]}"application/xhtml+xml"===n&&eX===eY&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=el?el.createHTML(e):e;if(eX===eY)try{t=new ee().parseFromString(o,n)}catch(e){}if(!t||!t.documentElement){t=ed.createDocument(eX,"template",null);try{t.documentElement.innerHTML=e$?ec:o}catch(e){}}var s=t.body||t.documentElement;return(e&&i&&s.insertBefore(c.createTextNode(i),s.childNodes[0]||null),eX===eY)?ef.call(t,eT?"html":"body")[0]:eT?t.documentElement:s},tr=function(e){return eh.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},to=function(t){return"object"===e(p)?t instanceof p:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},ts=function(e,t,n){ex[e]&&v(ex[e],function(e){e.call(s,t,n,e1)})},ta=function(e){if(ts("beforeSanitizeElements",e,null),e instanceof A&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof g)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes))return tt(e),!0;var t,n=r(e.nodeName);if(ts("uponSanitizeElement",e,{tagName:n,allowedTags:ev}),e.hasChildNodes()&&!to(e.firstElementChild)&&(!to(e.content)||!to(e.content.firstElementChild))&&E(/<[/\w]/g,e.innerHTML)&&E(/<[/\w]/g,e.textContent))return tt(e),!0;if(!ev[n]||ek[n]){if(!ek[n]&&tc(n)&&(eC.tagNameCheck instanceof RegExp&&E(eC.tagNameCheck,n)||eC.tagNameCheck instanceof Function&&eC.tagNameCheck(n)))return!1;if(eL&&!eU[n]){var i=es(e)||e.parentNode,o=eo(e)||e.childNodes;if(o&&i)for(var a=o.length,l=a-1;l>=0;--l)i.insertBefore(ei(o[l],!0),er(e))}return tt(e),!0}return e instanceof f&&!te(e)||("noscript"===n||"noembed"===n)&&E(/<\/no(script|embed)/i,e.innerHTML)?(tt(e),!0):(eA&&3===e.nodeType&&(t=w(t=e.textContent,W," "),t=w(t,V," "),t=w(t,q," "),e.textContent!==t&&(b(s.removed,{element:e.cloneNode()}),e.textContent=t)),ts("afterSanitizeElements",e,null),!1)},tl=function(e,t,n){if(eN&&("id"===t||"name"===t)&&(n in c||n in e2))return!1;if(e_&&!ew[t]&&E(Z,t));else if(eD&&E(K,t));else if(!eb[t]||ew[t]){if(!(tc(e)&&(eC.tagNameCheck instanceof RegExp&&E(eC.tagNameCheck,e)||eC.tagNameCheck instanceof Function&&eC.tagNameCheck(e))&&(eC.attributeNameCheck instanceof RegExp&&E(eC.attributeNameCheck,t)||eC.attributeNameCheck instanceof Function&&eC.attributeNameCheck(t))||"is"===t&&eC.allowCustomizedBuiltInElements&&(eC.tagNameCheck instanceof RegExp&&E(eC.tagNameCheck,n)||eC.tagNameCheck instanceof Function&&eC.tagNameCheck(n))))return!1}else if(eV[t]);else if(E(eg,w(n,$,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===D(n,"data:")&&eH[e]);else if(eE&&!E(X,w(n,$,"")));else if(n)return!1;return!0},tc=function(e){return e.indexOf("-")>0},tu=function(t){ts("beforeSanitizeAttributes",t,null);var n,i,o,a,l=t.attributes;if(l){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:eb};for(a=l.length;a--;){var u=(n=l[a]).name,d=n.namespaceURI;if(i="value"===u?n.value:_(n.value),o=r(u),c.attrName=o,c.attrValue=i,c.keepAttr=!0,c.forceKeepAttr=void 0,ts("uponSanitizeAttribute",t,c),i=c.attrValue,!c.forceKeepAttr&&(tn(u,t),c.keepAttr)){if(!eS&&E(/\/>/i,i)){tn(u,t);continue}eA&&(i=w(i,W," "),i=w(i,V," "),i=w(i,q," "));var h=r(t.nodeName);if(tl(h,o,i)){if(eP&&("id"===o||"name"===o)&&(tn(u,t),i="user-content-"+i),el&&"object"===e(et)&&"function"==typeof et.getAttributeType){if(d);else switch(et.getAttributeType(h,o)){case"TrustedHTML":i=el.createHTML(i);break;case"TrustedScriptURL":i=el.createScriptURL(i)}}try{d?t.setAttributeNS(d,u,i):t.setAttribute(u,i),j(s.removed)}catch(e){}}}}ts("afterSanitizeAttributes",t,null)}},td=function e(t){var n,i=tr(t);for(ts("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)ts("uponSanitizeShadowNode",n,null),ta(n)||(n.content instanceof u&&e(n.content),tu(n));ts("afterSanitizeShadowDOM",t,null)};return s.sanitize=function(e){var t,n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e$=!e)&&(e="<!-->"),"string"!=typeof e&&!to(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!s.isSupported)return e;if(eI||e5(a),s.removed=[],"string"==typeof e&&(ez=!1),ez){if(e.nodeName){var c=r(e.nodeName);if(!ev[c]||ek[c])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof p)1===(n=(t=ti("<!---->")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===n.nodeName?t=n:"HTML"===n.nodeName?t=n:t.appendChild(n);else{if(!eM&&!eA&&!eT&&-1===e.indexOf("<"))return el&&eR?el.createHTML(e):e;if(!(t=ti(e)))return eM?null:eR?ec:""}t&&eO&&tt(t.firstChild);for(var d=tr(ez?e:t);i=d.nextNode();)ta(i)||(i.content instanceof u&&td(i.content),tu(i));if(ez)return e;if(eM){if(eF)for(o=ep.call(t.ownerDocument);t.firstChild;)o.appendChild(t.firstChild);else o=t;return(eb.shadowroot||eb.shadowrootmod)&&(o=em.call(l,o,!0)),o}var h=eT?t.outerHTML:t.innerHTML;return eT&&ev["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&E(J,t.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+h),eA&&(h=w(h,W," "),h=w(h,V," "),h=w(h,q," ")),el&&eR?el.createHTML(h):h},s.setConfig=function(e){e5(e),eI=!0},s.clearConfig=function(){e1=null,eI=!1},s.isValidAttribute=function(e,t,n){return e1||e5({}),tl(r(e),r(t),n)},s.addHook=function(e,t){"function"==typeof t&&(ex[e]=ex[e]||[],b(ex[e],t))},s.removeHook=function(e){if(ex[e])return j(ex[e])},s.removeHooks=function(e){ex[e]&&(ex[e]=[])},s.removeAllHooks=function(){ex={}},s}()}()},56230:function(e){e.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g},10161:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,s){if("function"!=typeof i)throw TypeError("The listener must be a function");var a=new r(i,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1)),a.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=Array(o);r<o;r++)s[r]=i[r].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,r,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,r),!0;case 5:return u.fn.call(u.context,t,i,r,o),!0;case 6:return u.fn.call(u.context,t,i,r,o,s),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,r);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||i&&a.context!==i||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||r&&!a[l].once||i&&a[l].context!==i)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},85978:function(e,t,n){var i,r,o;o={canUseDOM:r=!!("undefined"!=typeof window&&window.document&&window.document.createElement),canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen},void 0!==(i=(function(){return o}).call(t,n,t,e))&&(e.exports=i)},22989:function(e,t,n){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}function r(e,t){return t.replace(/([^}{]*){/gm,function(t,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function o(e,t){return function(n){n&&(e[t]=n)}}function s(e,t,n){return function(i){i&&(e[t][n]=i)}}function a(e,t){return void 0===t&&(t={}),function(n,i){e.forEach(function(e){var r=t[e]||e;r in n||(n[r]=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=(t=this[i])[e].apply(t,n);return o===this[i]?this:o})})}}n.d(t,{$i:function(){return r},iH:function(){return o},qE:function(){return a},tI:function(){return i},xL:function(){return s}})},5676:function(e,t,n){"use strict";var i=n(23949),r=n(90824),o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e){var t,n,i,r;return t=[e[0].clientX,e[0].clientY],i=(n=[e[1].clientX,e[1].clientY])[0]-t[0],((r=Math.atan2(n[1]-t[1],i))>=0?r:r+2*Math.PI)/Math.PI*180}function l(e){return e.touches?function(e){for(var t=Math.min(e.length,2),n=[],i=0;i<t;++i)n.push(d(e[i]));return n}(e.touches):[d(e)]}function c(e,t,n){var i=n.length,r=h(e,i),o=r.clientX,s=r.clientY,a=r.originalClientX,l=r.originalClientY,c=h(t,i),u=c.clientX,d=c.clientY,p=h(n,i);return{clientX:a,clientY:l,deltaX:o-u,deltaY:s-d,distX:o-p.clientX,distY:s-p.clientY}}function u(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function d(e){return{clientX:e.clientX,clientY:e.clientY}}function h(e,t){void 0===t&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<t;++i){var r=e[i];n.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,n.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,n.clientX+=r.clientX,n.clientY+=r.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var p=function(){function e(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}var t=e.prototype;return t.getAngle=function(e){return void 0===e&&(e=this.prevClients),a(e)},t.getRotation=function(e){return void 0===e&&(e=this.prevClients),a(e)-a(this.startClients)},t.getPosition=function(e,t){void 0===e&&(e=this.prevClients);var n=c(e||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,r=n.deltaY;return this.movement+=Math.sqrt(i*i+r*r),this.prevClients=e,n},t.getPositions=function(e){void 0===e&&(e=this.prevClients);var t=this.prevClients;return this.startClients.map(function(n,i){return c([e[i]],[t[i]],[n])})},t.getMovement=function(e){var t=this.movement;if(!e)return t;var n=h(e,this.length),i=h(this.prevClients,this.length),r=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(r*r+o*o)+t},t.getDistance=function(e){return void 0===e&&(e=this.prevClients),u(e)},t.getScale=function(e){return void 0===e&&(e=this.prevClients),u(e)/u(this.startClients)},t.move=function(e,t){this.startClients.forEach(function(n){n.clientX-=e,n.clientY-=t})},e}(),f=["textarea","input"],m=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._dragFlag=!1,i.onDragStart=function(e,t){if(void 0===t&&(t=!0),i.flag||!1!==e.cancelable){var n,o=i.options,a=o.container,c=o.pinchOutside,u=o.preventRightClick,d=o.preventDefault,h=o.checkInput,m=i.isTouch,x=!i.flag;if(x){var g=document.activeElement,v=e.target,j=v.tagName.toLowerCase(),b=f.indexOf(j)>-1,y=v.isContentEditable;if(b||y){if(h||g===v||g&&y&&g.isContentEditable&&g.contains(v))return!1}else if((d||"touchstart"===e.type)&&g){var C=g.tagName;(g.isContentEditable||f.indexOf(C)>-1)&&g.blur()}if(i.clientStores=[new p(l(e))],i.flag=!0,i.isDrag=!1,i._dragFlag=!0,i.datas={},u&&(3===e.which||2===e.button))return i.initDrag(),!1;i.doubleFlag=(0,r.zO)()-i.prevTime<200,!1===i.emit("dragStart",s({datas:i.datas,inputEvent:e,isTrusted:t,isDouble:i.doubleFlag},i.getCurrentStore().getPosition(),{preventDefault:function(){e.preventDefault()},preventDrag:function(){i._dragFlag=!1}}))&&i.initDrag(),i.flag&&d&&e.preventDefault()}if(!i.flag)return!1;var k=0;if(x&&m&&c&&(k=setTimeout(function(){(0,r.vP)(a,"touchstart",i.onDragStart,{passive:!1})})),!x&&m&&c&&(0,r.xC)(a,"touchstart",i.onDragStart),i.flag&&(n=e).touches&&n.touches.length>=2){if(clearTimeout(k),x&&e.touches.length!==e.changedTouches.length)return;i.pinchFlag||i.onPinchStart(e)}}},i.onDrag=function(e,t){if(i.flag){var n=l(e),r=i.moveClients(n,e,!1);if(i._dragFlag){if((i.pinchFlag||r.deltaX||r.deltaY)&&!1===i.emit("drag",s({},r,{isScroll:!!t,inputEvent:e}))){i.stop();return}i.pinchFlag&&i.onPinch(e,n)}i.getCurrentStore().getPosition(n,!0)}},i.onDragEnd=function(e){if(i.flag){var t=i.options,n=t.pinchOutside,o=t.container;i.isTouch&&n&&(0,r.xC)(o,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(e);var a=l(e);0!==a.length&&i.options.keepDragging?i._addStore(new p(a)):i.flag=!1;var c=i._getPosition(),u=(0,r.zO)(),d=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||d?0:u,i.flag||(i.emit("dragEnd",s({datas:i.datas,isDouble:d,isDrag:i.isDrag,isClick:!i.isDrag,inputEvent:e},c)),i.clientStores=[])}},i.onBlur=function(){i.onDragEnd()};var o=[].concat(t);i.options=s({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var a=i.options,c=a.container,u=a.events,d=a.checkWindowBlur;if(i.isTouch=u.indexOf("touch")>-1,i.isMouse=u.indexOf("mouse")>-1,i.targets=o,i.isMouse&&(o.forEach(function(e){(0,r.vP)(e,"mousedown",i.onDragStart)}),(0,r.vP)(c,"mousemove",i.onDrag),(0,r.vP)(c,"mouseup",i.onDragEnd),(0,r.vP)(c,"contextmenu",i.onDragEnd)),d&&(0,r.vP)(window,"blur",i.onBlur),i.isTouch){var h={passive:!1};o.forEach(function(e){(0,r.vP)(e,"touchstart",i.onDragStart,h)}),(0,r.vP)(c,"touchmove",i.onDrag,h),(0,r.vP)(c,"touchend",i.onDragEnd,h),(0,r.vP)(c,"touchcancel",i.onDragEnd,h)}return i}!function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e);var n=t.prototype;return n.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},n.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce(function(e,t){return e+t.movement},0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(e,t,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(e,t),i&&this.onDrag(n,!0))},n.move=function(e,t){var n=e[0],i=e[1],r=this.getCurrentStore().prevClients;return this.moveClients(r.map(function(e){var t=e.clientX,r=e.clientY;return{clientX:t+n,clientY:r+i,originalClientX:t,originalClientY:r}}),t,!0)},n.triggerDragStart=function(e){this.onDragStart(e,!1)},n.setEventDatas=function(e){var t=this.datas;for(var n in e)t[n]=e[n];return this},n.getCurrentEvent=function(e){return s({datas:this.datas},this._getPosition(),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},n.getEventDatas=function(){return this.datas},n.unset=function(){var e=this,t=this.targets,n=this.options.container;this.off(),(0,r.xC)(window,"blur",this.onBlur),this.isMouse&&(t.forEach(function(t){(0,r.xC)(t,"mousedown",e.onDragStart)}),(0,r.xC)(n,"mousemove",this.onDrag),(0,r.xC)(n,"mouseup",this.onDragEnd),(0,r.xC)(n,"contextmenu",this.onDragEnd)),this.isTouch&&(t.forEach(function(t){(0,r.xC)(t,"touchstart",e.onDragStart)}),(0,r.xC)(n,"touchstart",this.onDragStart),(0,r.xC)(n,"touchmove",this.onDrag),(0,r.xC)(n,"touchend",this.onDragEnd),(0,r.xC)(n,"touchcancel",this.onDragEnd))},n.onPinchStart=function(e){var t=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>t)){var n=new p(l(e));this.pinchFlag=!0,this._addStore(n),!1===this.emit("pinchStart",s({datas:this.datas,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition(),{inputEvent:e}))&&(this.pinchFlag=!1)}},n.onPinch=function(e,t){if(this.flag&&this.pinchFlag&&!(t.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",s({datas:this.datas,movement:this.getMovement(t),angle:n.getAngle(t),rotation:n.getRotation(t),touches:n.getPositions(t),scale:n.getScale(t),distance:n.getDistance(t)},n.getPosition(t),{inputEvent:e}))}},n.onPinchEnd=function(e){if(this.pinchFlag){var t=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",s({datas:this.datas,isPinch:t,touches:n.getPositions()},n.getPosition(),{inputEvent:e}))}},n.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(e,t,n){var i=this._getPosition(e,n);return(i.deltaX||i.deltaY)&&(this.isDrag=!0),s({datas:this.datas},i,{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},n._addStore=function(e){this.clientStores.splice(0,0,e)},n._getPosition=function(e,t){var n=this.getCurrentStore().getPosition(e,t),i=this.clientStores.slice(1).reduce(function(e,t){var n=t.getPosition();return e.distX+=n.distX,e.distY+=n.distY,e},n),r=i.distX,o=i.distY;return s({},n,{distX:r,distY:o})},t}(i.Z);t.Z=m},41857:function(e){"use strict";let t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},14304:function(e,t,n){e.exports=window.DOMPurify||(window.DOMPurify=n(35368).default||n(35368))},68642:function(e,t){(function(){(null!==t?t:this).Lethargy=function(){function e(e,t,n,i){this.stability=null!=e?Math.abs(e):8,this.sensitivity=null!=t?1+Math.abs(t):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=i?i:150,this.lastUpDeltas=(function(){var e,t,n;for(e=1,n=[],t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}).call(this),this.lastDownDeltas=(function(){var e,t,n;for(e=1,n=[],t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}).call(this),this.deltasTimestamp=(function(){var e,t,n;for(e=1,n=[],t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}).call(this)}return e.prototype.check=function(e){var t;return(null!=(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:null!=e.deltaY?t=-40*e.deltaY:(null!=e.detail||0===e.detail)&&(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0)?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))},e.prototype.isInertia=function(e){var t,n,i,r,o,s;return null===(t=-1===e?this.lastDownDeltas:this.lastUpDeltas)[0]?e:(!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now())||t[0]!==t[2*this.stability-1])&&(i=t.slice(0,this.stability),n=t.slice(this.stability,2*this.stability),s=i.reduce(function(e,t){return e+t}),o=n.reduce(function(e,t){return e+t}),!!(Math.abs(s/i.length)<Math.abs((r=o/n.length)*this.tolerance)&&this.sensitivity<Math.abs(r))&&e)},e.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},e.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}).call(this)},65338:function(e){e.exports=function(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(i,s,n(s),e)}return i}},8589:function(e,t,n){var i=n(20256)("length");e.exports=i},35730:function(e,t,n){var i=n(24303);e.exports=function(e,t,n,r){return i(e,function(e,i,o){t(r,e,n(e),o)}),r}},2229:function(e,t,n){var i=n(4795);e.exports=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(void 0===l?a==a&&!i(a):n(a,l)))var l=a,c=s}return c}},84134:function(e){e.exports=function(e,t){return e>t}},84190:function(e){e.exports=function(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return -1}},24333:function(e,t,n){var i=n(53366),r=n(15125);e.exports=function(e){return r(e)&&"[object RegExp]"==i(e)}},16504:function(e,t,n){var i=n(50343),r=n(77832),o=n(84190),s=n(47826),a=n(51522),l=Array.prototype.splice;e.exports=function(e,t,n,c){var u=c?o:r,d=-1,h=t.length,p=e;for(e===t&&(t=a(t)),n&&(p=i(e,s(n)));++d<h;)for(var f=0,m=t[d],x=n?n(m):m;(f=u(p,x,f,c))>-1;)p!==e&&l.call(p,f,1),l.call(e,f,1);return e}},36740:function(e,t,n){var i=n(65338),r=n(35730),o=n(68286),s=n(86152);e.exports=function(e,t){return function(n,a){var l=s(n)?i:r,c=t?t():{};return l(n,e,o(a,2),c)}}},67320:function(e,t,n){var i=n(37772),r=n(38101),o=n(7642),s=n(66188),a=i.isFinite,l=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),(n=null==n?0:l(r(n),292))&&a(e)){var i=(s(e)+"e").split("e");return+((i=(s(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}},82302:function(e,t,n){var i=n(8589),r=n(33880),o=n(35555);e.exports=function(e){return r(e)?o(e):i(e)}},35555:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\ud83c[\udffb-\udfff]",r="[^"+t+"]",o="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",a="(?:"+n+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",c="(?:\\u200d(?:"+[r,o,s].join("|")+")"+l+a+")*",u=RegExp(i+"(?="+i+")|(?:"+[r+n+"?",n,o,s,"["+t+"]"].join("|")+")"+(l+a+c),"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},54004:function(e,t,n){var i=n(18874);e.exports=function(e){return i(e,4)}},12982:function(e,t,n){var i=n(21359),r=n(68286),o=n(38101),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return -1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),i(e,r(t,3),l)}},35838:function(e,t,n){var i=n(62034),r=n(16760);e.exports=function(e,t){return i(r(e,t),1)}},3440:function(e,t,n){var i=n(13940),r=n(36740),o=Object.prototype.hasOwnProperty,s=r(function(e,t,n){o.call(e,n)?e[n].push(t):i(e,n,[t])});e.exports=s},55461:function(e,t,n){var i=n(37036),r=n(49882);e.exports=function(e,t,n){return n="function"==typeof n?n:void 0,i(e,t,r(t),n)}},40859:function(e,t,n){var i=n(24333),r=n(47826),o=n(4146),s=o&&o.isRegExp,a=s?r(s):i;e.exports=a},87622:function(e,t,n){var i=n(13940),r=n(36740)(function(e,t,n){i(e,n,t)});e.exports=r},16760:function(e,t,n){var i=n(50343),r=n(68286),o=n(93401),s=n(86152);e.exports=function(e,t){return(s(e)?i:o)(e,r(t,3))}},71644:function(e,t,n){var i=n(2229),r=n(84134),o=n(23059);e.exports=function(e){return e&&e.length?i(e,o,r):void 0}},2284:function(e,t,n){var i=n(36060)(n(78911));e.exports=i},78911:function(e,t,n){var i=n(16504);e.exports=function(e,t){return e&&e.length&&t&&t.length?i(e,t):e}},68015:function(e,t,n){var i=n(67320)("round");e.exports=i},38101:function(e,t,n){var i=n(5707);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},36585:function(e,t,n){var i=n(1054),r=n(23895),o=n(33880),s=n(29259),a=n(40859),l=n(82302),c=n(8435),u=n(38101),d=n(66188),h=/\w*$/;e.exports=function(e,t){var n=30,p="...";if(s(t)){var f="separator"in t?t.separator:f;n="length"in t?u(t.length):n,p="omission"in t?i(t.omission):p}var m=(e=d(e)).length;if(o(e)){var x=c(e);m=x.length}if(n>=m)return e;var g=n-l(p);if(g<1)return p;var v=x?r(x,0,g).join(""):e.slice(0,g);if(void 0===f)return v+p;if(x&&(g+=v.length-g),a(f)){if(e.slice(g).search(f)){var j,b=v;for(f.global||(f=RegExp(f.source,d(h.exec(f))+"g")),f.lastIndex=0;j=f.exec(b);)var y=j.index;v=v.slice(0,void 0===y?g:y)}}else if(e.indexOf(i(f),g)!=g){var C=v.lastIndexOf(f);C>-1&&(v=v.slice(0,C))}return v+p}},53207:function(e,t,n){var i=n(96570);i.prototype.formulaEval=function(){"use strict";for(var e,t,n,i=[],r=this.value,o=0;o<r.length;o++)1===r[o].type||3===r[o].type?i.push({value:3===r[o].type?r[o].show:r[o].value,type:1}):13===r[o].type?i.push({value:r[o].show,type:1}):0===r[o].type?i[i.length-1]={value:r[o].show+("-"!=r[o].show?"(":"")+i[i.length-1].value+("-"!=r[o].show?")":""),type:0}:7===r[o].type?i[i.length-1]={value:(1!=i[i.length-1].type?"(":"")+i[i.length-1].value+(1!=i[i.length-1].type?")":"")+r[o].show,type:7}:10===r[o].type?(e=i.pop(),t=i.pop(),"P"===r[o].show||"C"===r[o].show?i.push({value:"<sup>"+t.value+"</sup>"+r[o].show+"<sub>"+e.value+"</sub>",type:10}):i.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===r[o].type||9===r[o].type?(e=i.pop(),t=i.pop(),i.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+r[o].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:r[o].type})):12===r[o].type&&(e=i.pop(),t=i.pop(),n=i.pop(),i.push({value:r[o].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return i[0].value},e.exports=i},66655:function(e,t,n){"use strict";var i=n(72346);function r(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}for(var o=[{token:"sin",show:"sin",type:0,value:i.math.sin},{token:"cos",show:"cos",type:0,value:i.math.cos},{token:"tan",show:"tan",type:0,value:i.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:i.math.P},{token:"C",show:"C",type:10,value:i.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:i.math.asin},{token:"acos",show:"acos",type:0,value:i.math.acos},{token:"atan",show:"atan",type:0,value:i.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:i.math.cosh},{token:"acosh",show:"acosh",type:0,value:i.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:i.math.div},{token:"!",show:"!",type:7,value:i.math.fact},{token:"tanh",show:"tanh",type:0,value:i.math.tanh},{token:"atanh",show:"atanh",type:0,value:i.math.atanh},{token:"Mod",show:" Mod ",type:2,value:i.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:i.math.mul},{token:"sinh",show:"sinh",type:0,value:i.math.sinh},{token:"asinh",show:"asinh",type:0,value:i.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:i.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:i.math.add},{token:"-",show:"-",type:9,value:i.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:i.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:i.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:i.math.and}],s={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},a=0;a<o.length;a++)o[a].precedence=s[o[a].type];var l={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},c={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},u={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},d={},h={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},p={1:!0},f=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function m(e,t){for(var n=0;n<t.length;n++)if(t[n].token===e)return n;return -1}i.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},i.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,r=-1;e[t].type===i.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),f[n]=f[n]||[];for(var a=0;a<f[n].length;a++)if(e[t].token===f[n][a]){r=m(f[n][a],o);break}-1===r?(o.push(e[t]),e[t].precedence=s[e[t].type],f.length<=e[t].token.length&&(f[e[t].token.length]=[]),f[e[t].token.length].push(e[t].token)):(o[r]=e[t],e[t].precedence=s[e[t].type])}};var x={value:i.math.changeSign,type:0,pre:21,show:"-"},g={value:")",show:")",type:5,pre:0},v={value:"(",type:4,pre:0,show:"("};i.lex=function(e,t){var n=[v],s=[],a=l,j=0,b=d,y="";void 0!==t&&i.addToken(t);var C={},k=function(e){for(var t,n,r,s=[],a=e.length,l=0;l<a;l++)if(!(l<a-1)||" "!==e[l]||" "!==e[l+1]){for(t="",n=e.length-l>f.length-2?f.length-1:e.length-l;n>0;n--)if(void 0!==f[n])for(r=0;r<f[n].length;r++)(function(e,t,n,i){for(var r=0;r<i;r++)if(e[n+r]!==t[r])return!1;return!0})(e,f[n][r],l,n)&&(t=f[n][r],r=f[n].length,n=0);if(l+=t.length-1,""===t)throw new i.Exception("Can't understand after "+e.slice(l));s.push(o[m(t,o)])}return s}(e);for(w=0;w<k.length;w++){var w,D,_=k[w];if(14===_.type){if(w>0&&w<k.length-1&&1===k[w+1].type&&(1===k[w-1].type||6===k[w-1].type))throw new i.Exception("Unexpected Space");continue}var E=_.token,S=_.type,A=_.value,T=_.precedence,I=_.show,O=n[n.length-1];for(D=s.length;D--&&0===s[D];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(S)){if(!0!==a[S])throw new i.Exception(E+" is not allowed after "+y);n.push(g),a=c,b=h,s.pop()}if(!0!==a[S])throw new i.Exception(E+" is not allowed after "+y);if(!0===b[S]&&(S=2,A=i.math.mul,I="&times;",T=3,w-=1),C={value:A,type:S,pre:T,show:I,numberOfArguments:_.numberOfArguments},0===S)a=l,b=d,r(s,2),n.push(C),4!==k[w+1].type&&(n.push(v),s.push(2));else if(1===S)1===O.type?(O.value+=A,r(s,1)):n.push(C),a=c,b=u;else if(2===S)a=l,b=d,r(s,2),n.push(C);else if(3===S)n.push(C),a=c,b=h;else if(4===S)r(s,1),j++,a=l,b=d,n.push(C);else if(5===S){if(!j)throw new i.Exception("Closing parenthesis are more than opening one, wait What!!!");j--,a=c,b=h,n.push(C),r(s,1)}else if(6===S){if(O.hasDec)throw new i.Exception("Two decimals are not allowed in one number");1!==O.type&&(O={value:0,type:1,pre:0},n.push(O)),a=p,r(s,1),b=d,O.value+=A,O.hasDec=!0}else 7===S&&(a=c,b=h,r(s,1),n.push(C));8===S?(a=l,b=d,r(s,_.numberOfArguments+2),n.push(C),4!==k[w+1].type&&(n.push(v),s.push(_.numberOfArguments+2))):9===S?(9===O.type?O.value===i.math.add?(O.value=A,O.show=I,r(s,1)):O.value===i.math.sub&&"-"===I&&(O.value=i.math.add,O.show="+",r(s,1)):5!==O.type&&7!==O.type&&1!==O.type&&3!==O.type&&13!==O.type?"-"===E&&(a=l,b=d,r(s,2).push(2),n.push(x),n.push(v)):(n.push(C),r(s,2)),a=l,b=d):10===S?(a=l,b=d,r(s,2),n.push(C)):11===S?(a=l,b=d,n.push(C)):12===S?(a=l,b=d,r(s,6),n.push(C),4!==k[w+1].type&&(n.push(v),s.push(6))):13===S&&(a=c,b=h,n.push(C)),r(s,-1),y=E}for(D=s.length;D--;)n.push(g);if(!0!==a[5])throw new i.Exception("complete the expression");for(;j--;)n.push(g);return n.push(g),new i(n)},e.exports=i},72346:function(e){"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var i=1,r=e-n,o=n;o<r&&(o=r,r=n);for(var s=o+1;s<=e;s++)i*=s;return i/t.math.fact(r)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,i=Math.floor(e)-Math.floor(t)+1;i<=Math.floor(e);i++)n*=i;return n},Pi:function(e,t,n){for(var i=1,r=e;r<=t;r++)i*=Number(n.postfixEval({n:r}));return i},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var i=0,r=e;r<=t;r++)i+=Number(n.postfixEval({n:r}));return i},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},t.Exception=function(e){this.message=e},e.exports=t},84692:function(e,t,n){var i=n(66655);i.prototype.toPostfix=function(){"use strict";for(var e,t,n,r,o,s=[],a=[{value:"(",type:4,pre:0}],l=this.value,c=1;c<l.length;c++)if(1===l[c].type||3===l[c].type||13===l[c].type)1===l[c].type&&(l[c].value=Number(l[c].value)),s.push(l[c]);else if(4===l[c].type)a.push(l[c]);else if(5===l[c].type)for(;4!==(t=a.pop()).type;)s.push(t);else if(11===l[c].type){for(;4!==(t=a.pop()).type;)s.push(t);a.push(t)}else{r=(e=l[c]).pre,n=(o=a[a.length-1]).pre;var u="Math.pow"==o.value&&"Math.pow"==e.value;if(r>n)a.push(e);else{for(;n>=r&&!u||u&&r<n;)t=a.pop(),o=a[a.length-1],s.push(t),n=o.pre,u="Math.pow"==e.value&&"Math.pow"==o.value;a.push(e)}}return new i(s)},e.exports=i},96570:function(e,t,n){var i=n(84692);i.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,r,o=[],s=this.value,a=void 0!==e.n,l=0;l<s.length;l++)if(1===s[l].type)o.push({value:s[l].value,type:1});else if(3===s[l].type)o.push({value:e[s[l].value],type:1});else if(0===s[l].type)void 0===o[o.length-1].type?o[o.length-1].value.push(s[l]):o[o.length-1].value=s[l].value(o[o.length-1].value);else if(7===s[l].type)void 0===o[o.length-1].type?o[o.length-1].value.push(s[l]):o[o.length-1].value=s[l].value(o[o.length-1].value);else if(8===s[l].type){for(var c=[],u=0;u<s[l].numberOfArguments;u++)c.push(o.pop().value);o.push({type:1,value:s[l].value.apply(s[l],c.reverse())})}else 10===s[l].type?(t=o.pop(),void 0===(n=o.pop()).type?(n.value=n.concat(t),n.value.push(s[l]),o.push(n)):void 0===t.type?(t.unshift(n),t.push(s[l]),o.push(t)):o.push({type:1,value:s[l].value(n.value,t.value)})):2===s[l].type||9===s[l].type?(t=o.pop(),void 0===(n=o.pop()).type?((n=n.concat(t)).push(s[l]),o.push(n)):void 0===t.type?(t.unshift(n),t.push(s[l]),o.push(t)):o.push({type:1,value:s[l].value(n.value,t.value)})):12===s[l].type?(void 0!==(t=o.pop()).type&&(t=[t]),n=o.pop(),r=o.pop(),o.push({type:1,value:s[l].value(r.value,n.value,new i(t))})):13===s[l].type&&(a?o.push({value:e[s[l].value],type:3}):o.push([s[l]]));if(o.length>1)throw new i.Exception("Uncaught Syntax error");return o[0].value>1e15?"Infinity":parseFloat(o[0].value.toFixed(15))},i.eval=function(e,t,n){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0!==n?this.lex(e,t).toPostfix().postfixEval(n):void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t)},e.exports=i},38095:function(e,t){"use strict";t.Z={src:"/_next/static/media/Sal-Spray.5abcbf19.svg",height:1657,width:2161,blurWidth:0,blurHeight:0}},71508:function(e,t){"use strict";t.Z={src:"/_next/static/media/gamma-logo-profile-image.c51e9197.png",height:265,width:265,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEX16+XLN8P46dv3yMDq2ebQsOnXkrP27+b28+j8+uP1w9vlo5713+Xxt9TdU5zYdLqnmfHgbYyTKuagQremCurcuOzIi+KQVuzwqpHqrO3vdcz3U6Pc/F4nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nCWLSRKAIBDEGgVmGnFXVPj/P6kpc8klAQAqDJEt0OyfMxYvYHDxuG6Cn3vXJSkk17ZPg0U6j/8GNXdHWAH663uVwQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},26301:function(e,t,n){"use strict";n.d(t,{z:function(){return eo}});var i=n(52322);n(98248);var r=n(55671),o=n(62202),s=n(18200),a=n(81674),l=n(94523),c=n(97729),u=n.n(c),d=n(5632),h=n(2784),p=n(43997),f=n(14274),m=n(93202),x=n(2013);let g=e=>{let t=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>t.includes(e))};class v extends h.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,t){if("dev"===f.v.APPLICATION_ENVIRONMENT)throw e}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===f.v.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){let t=this.props.unhandledRejectionFilter(e);if(t){var n;let t=(null===(n=e.reason)||void 0===n?void 0:n.message)||"";this.setState({hasError:!0,errMessage:t})}}render(){let e=!0===g(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,i.jsxs)(i.Fragment,{children:[this.state.hasError&&(0,i.jsx)(x.q,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}v.defaultProps={unhandledRejectionFilter:e=>{var t;return!!g((null===(t=e.reason)||void 0===t?void 0:t.message)||"")||e.reason instanceof m.YBv&&!1===document.hidden||e.reason instanceof m.R5s}},n(61036),n(62376),n(6991),n(76298),n(4466),n(43839),n(40917);var j=n(98518),b=n(79254),y=n(2765),C=n(3892),k=n(27354),w=n(42111),D=n(32019),_=n(99092),E=n(11050),S=n(36651);let A=(e,t)=>{_.H.init(f.v.HIGHLIGHT_PROJECT_ID,{environment:f.v.APPLICATION_ENVIRONMENT,sessionShortcut:!!t&&"shift+command+0",enableStrictPrivacy:e,enableSegmentIntegration:!0,networkRecording:{enabled:!0,recordHeadersAndBody:!0}}),E.co.loadSdkPromise.then(e=>{e&&e.addSourceMiddleware(_.LZ)})},T=e=>{let{children:t}=e,{user:n,anonymousUser:r,isGammaOrgUser:o,isUserLoading:s}=(0,S.SE)(),{enabled:a,enableStrictPrivacy:l}=(0,w.ye)("highlight");return(0,h.useEffect)(()=>{a&&!s&&n&&A(l,o)},[l,a,o,s,n]),(0,h.useEffect)(()=>{if(!s){if(n){let{id:e,displayName:t,email:i,profileImageUrl:r}=n;_.H.identify(e,{highlightDisplayName:t,email:i,avatar:r})}else if(null==r?void 0:r.id){let{id:e,displayName:t}=r;_.H.identify("",{anonDisplayName:t||"",anonId:e})}}},[n,r,s]),(0,i.jsx)(i.Fragment,{children:t})};var I=n(34881),O=n(87254),M=n(5879),F=n(44754),R=n(36491);let N=e=>{let{children:t}=e;return(0,R.K)(),(0,F.b)(),(0,i.jsx)(M.bd,{i18n:O.ag,children:t})};var P=n(18875),L=n(17292),z=n(58786),G=n(99268),U=n(25944),B=n(19902);let H="no_org_id",W=e=>{let{children:t}=e;(0,U.iZ)();let{user:n,anonymousUser:r,currentWorkspace:o,isUserLoading:s}=(0,S.SE)();return(0,h.useEffect)(()=>{let e=(0,B.K)();(0,G.$n)(e.get()),e.fetch().then(G.$n).catch(()=>{})},[]),(0,h.useEffect)(()=>{let e;if(!s){if(n){let{id:t,email:i}=n,r=!!i&&i.endsWith("@gamma.app"),s=(null==o?void 0:o.id)||H;e={userId:t,isGammaUser:r,userOrgId:s,anonymousUser:!1,gammaUserFirstName:r?n.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:H,anonymousUser:!0,gammaUserFirstName:""};(0,G.$n)(e)}},[s,n,r,o]),(0,i.jsx)(i.Fragment,{children:t})};var V=n(93206),q=n(91994),Z=n(89311),K=n(27902),Y=n(95426),X=n(1198),$=n(90221),J=n(60742),Q=n(13265),ee=n(90383);a.vc.autoAddCss=!1;let et=(0,q.bh)(),en=(0,m.RqP)(),ei=(0,m.PGq)(),er=(0,o.B1)(l.qZ,{styles:{global:{".ProseMirror":{outline:"0 none"}}}});(0,V.s)(window,er),(0,J.Lq)(),L.F7.initialize(),(0,I.lt)(),E.co.init(),C.fy.init({clientToken:f.v.DATADOG_CLIENT_TOKEN,service:"gamma-client",env:f.v.APPLICATION_ENVIRONMENT.replace("production","prod"),site:"datadoghq.com",forwardErrorsToLogs:!1,forwardConsoleLogs:[],sessionSampleRate:100}),(0,P.S1)(),(0,k.u7)(),(0,Y.a)("appMainBundleLoaded"),console.log("\uD83D\uDE80 GammaApp main wrapper imported"),w.VH.get("debugLogging")||(window.console.debug=()=>{});let eo=e=>function(t){return(0,i.jsx)(es,{children:(0,i.jsx)(e,{...t})})},es=e=>{let{children:t}=e;console.log("\uD83D\uDE80 GammaApp main wrapper rendered");let n=(0,d.useRouter)();(0,Z.l)(),(0,Q.k)(),(0,j.U)(),(0,h.useEffect)(()=>{let e=(e,t)=>{let{shallow:n}=t;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(n?"with":"without"," shallow routing"))};return n.events.on("routeChangeStart",e),()=>{n.events.off("routeChangeStart",e)}},[n]);let o=(0,X.aY)();return(0,i.jsx)(p.zt,{store:et,children:(0,i.jsx)(N,{children:(0,i.jsx)(s.x,{theme:er,resetCSS:!0,children:(0,i.jsx)(v,{children:(0,i.jsx)(r.e,{client:en,children:(0,i.jsxs)(m.mdV,{client:ei,children:[(0,i.jsx)(el,{}),(0,i.jsx)(b.H6,{}),(0,i.jsx)(P.GQ,{}),(0,i.jsx)(y.S,{}),(0,i.jsxs)(S.fS,{children:[(0,i.jsx)(K.qA,{children:(0,i.jsx)(w.dF,{children:(0,i.jsx)(z.S,{children:(0,i.jsx)(m.Imj,{children:(0,i.jsx)(W,{children:(0,i.jsx)(T,{children:(0,i.jsx)(X.dv,{value:o,children:(0,i.jsx)(D.u,{children:t})})})})})})})}),(0,i.jsx)(w.MG,{})]})]})})})})})})},ea="A new medium for presenting ideas, powered by AI. Beautiful, engaging content with none of the formatting and design work.",el=()=>{let e=f.v.APPLICATION_ENVIRONMENT;return(0,i.jsxs)(u(),{children:[(0,i.jsx)("title",{children:"Gamma"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,i.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,i.jsx)("link",{rel:"shortcut icon",href:"production"===e?"/favicons/favicon-transparent-96x96.png":"staging"===e?"/favicons/favicon_staging.jpg":"/favicons/favicon_local.jpg"}),(0,i.jsx)("meta",{content:ea,name:"description"},"description"),(0,i.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,i.jsx)("meta",{content:ea,property:"og:description"},"og:description"),(0,i.jsx)("meta",{content:f.v.OG_IMAGE_URL,property:"og:image"},"og:image"),(0,i.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,i.jsx)("meta",{content:ea,property:"twitter:description"},"twitter:description"),(0,i.jsx)("meta",{content:f.v.OG_IMAGE_URL,property:"twitter:image"},"twitter:image"),(0,i.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,i.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,i.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,$.l6)()&&!(0,ee.wg)()&&(0,i.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,i.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},16983:function(e,t,n){"use strict";n.d(t,{X:function(){return y}});var i=n(52322),r=n(11881),o=n(28535),s=n(62614),a=n(43297),l=n(38035),c=n(75009),u=n(29117),d=n(82554),h=n(74409),p=n(77533),f=n(82655),m=n(49929),x=n(5879),g=n(39097),v=n.n(g),j=n(90221);let b=e=>{let{children:t,href:n,onClick:a,as:l=v()}=e;return n?(0,i.jsx)(r.f,{as:o.xu,role:"group",onClick:a,children:(0,i.jsx)(r.A,{href:n,as:l,_focusVisible:{boxShadow:"none",outline:"0 none !important"},_hover:{textDecoration:"none !important"},children:t})}):(0,i.jsx)(o.xu,{as:s.z,w:"100%",variant:"unstyled",display:"inline-flex",h:"fit-content",role:"group",onClick:a,maxW:{base:"none",md:"18em"},tabIndex:0,_focusVisible:{boxShadow:"none",outline:"0 none !important"},children:t})},y=e=>{let{label:t,description:n,isPopular:r,colorScheme:s,imageUrl:g,href:y,transform:C,onClick:k,ctaIcon:w,ctaLabel:D,as:_}=e;return(0,i.jsx)(b,{href:y,onClick:e=>{null==k||k(e)},as:_||v(),children:(0,i.jsxs)(a.K,{cursor:"pointer",direction:{base:"row",md:"column"},px:"0",flex:"1",whiteSpace:"normal",textAlign:"left",spacing:"0",border:"none",bg:"white",borderRadius:"lg",boxShadow:{base:"sm",md:"md"},transition:"all 300ms ease",bottom:"0",outline:"none",_groupHover:(0,j.s2)()?{}:{bottom:3,boxShadow:"xl",transform:"scale(1.03)"},position:"relative",transform:{base:"auto",md:C&&!(0,j.s2)()?C:"auto"},_groupFocusWithin:{shadow:"outline"},overflow:"hidden",children:[(0,i.jsxs)(l.k,{flex:"1",justifyContent:"center",textAlign:"center",color:"".concat(s,".500"),bg:"".concat(s,".100"),position:"relative",minH:{base:"none",md:"190px"},children:[(0,i.jsx)(c.E,{src:g,objectFit:"cover",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.02)"}}),r&&(0,i.jsx)(u.U,{position:"absolute",bottom:"2",left:"2",children:(0,i.jsxs)(d.C,{colorScheme:"teal",fontSize:"md",p:"0.5",px:"2",textTransform:"none",fontWeight:"600",borderRadius:["sm","md"],children:[(0,i.jsx)(m.G,{icon:f.BDt})," ",(0,i.jsx)(x.cC,{id:"gL/sdV"})]})})]}),(0,i.jsxs)(a.K,{spacing:"1.5",p:4,maxW:"100%",minH:{base:"100px",md:"none"},justifyContent:"space-between",alignItems:"stretch",flex:"1.5",direction:{base:"row",md:"column"},position:"relative",h:"100%",children:[(0,i.jsxs)(a.K,{children:[(0,i.jsx)(h.X,{fontSize:{base:"xl",md:"2xl"},fontWeight:"600",children:t}),(0,i.jsx)(u.U,{children:(0,i.jsx)(o.xu,{fontSize:{base:"sm",md:"md"},fontWeight:"500",lineHeight:"1.4",color:"gray.600",children:n})})]}),(0,i.jsxs)(u.U,{maxW:"100%",justifyContent:"flex-end",alignItems:"flex-start",fontSize:{base:"sm",sm:"md"},p:{base:.5,md:0},children:[(0,i.jsx)(p.x,{display:{base:"none",md:"block"},transition:"all 300ms ease",opacity:0,color:"".concat(s,".700"),_groupFocusWithin:{opacity:1},_groupHover:{opacity:1},children:D}),(0,i.jsx)(o.xu,{fontSize:{base:"md",sm:"lg"},_groupFocusWithin:{color:"".concat(s,".700")},_groupHover:{color:"".concat(s,".700")},children:w})]})]})]})})}},2013:function(e,t,n){"use strict";n.d(t,{q:function(){return C}});var i=n(52322),r=n(38035),o=n(77533),s=n(49259),a=n(87436),l=n(95897),c=n(28535),u=n(89511),d=n(11121),h=n(44438),p=n(42822),f=n(62614),m=n(75009),x=n(94523),g=n(5879),v=n(3543),j=n(92981);let b=(0,i.jsx)(g.cC,{id:"HiX9QN"}),y={bgImage:"radial-gradient(1px 1px at 20px 30px, #eee, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 40px 70px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 50px 160px, #ddd, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 90px 40px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 130px 80px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 160px 120px, #ddd, rgba(0,0,0,0))",bgRepeat:"repeat",bgSize:"200px 200px",transform:"translate(-50%,-50%)",borderRadius:{base:0,lg:"100px"},pos:"relative",maxW:"8xl",maxH:"5xl",minH:{base:0,lg:"5xl"}},C=e=>{let{errMessage:t=b,showDisclosure:n=!1,opacity:C=1,starOverlay:k=!0,backgroundColor:w=x.qZ.colors.trueblue[900],...D}=e,_=k?y:{};return(0,i.jsx)(r.k,{"data-error-component":!0,w:"100vw",h:"100vh",overflow:"hidden",zIndex:99999,backgroundColor:(0,v.tT)(w,C),...D,children:(0,i.jsx)(r.k,{..._,justifyContent:"center",alignItems:"center",flex:1,p:[4,16],left:"50%",top:"50%",children:(0,i.jsxs)(j.qX,{lede:"",title:(0,i.jsx)(g.cC,{id:"HbR60U"}),stackProps:{shadow:"lg-dark",position:"relative"},children:[(0,i.jsx)(o.x,{children:(0,i.jsx)(g.cC,{id:"1gm+lP"})}),n&&(0,i.jsx)(s.U,{allowToggle:!0,pt:4,children:(0,i.jsxs)(a.Q,{children:[(0,i.jsxs)(l.K,{px:0,_hover:{bgColor:"none"},borderStyle:"none",children:[(0,i.jsx)(c.xu,{flex:"1",textAlign:"left",children:(0,i.jsx)(g.cC,{id:"qug3k/"})}),(0,i.jsx)(u.X,{})]}),(0,i.jsx)(d.H,{pb:4,children:(0,i.jsx)(h.E,{colorScheme:"red",children:t})})]})}),(0,i.jsx)(p.M,{children:(0,i.jsx)(f.z,{variant:"solid",size:"lg",m:6,onClick:()=>{window.location.reload()},children:(0,i.jsx)(g.cC,{id:"C6f2hU"})})}),(0,i.jsx)(m.E,{pos:"absolute",w:36,bottom:"calc(-100% + 120px)",right:-12,src:"/_next/static/media/Sal-Asteroid-Parachute.ad317576.png",pointerEvents:"none",opacity:{base:0,md:1}})]})})})}},4661:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var i=n(52322),r=n(38035),o=n(60510);let s=e=>{let{children:t,withFooter:n,isViewOnly:s}=e;return(0,i.jsxs)(r.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",children:[(0,i.jsx)(o.r,{isViewOnly:s}),(0,i.jsx)(r.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",children:t}),n&&(0,i.jsxs)(r.k,{fontSize:"12px",color:"gray.400",pb:8,id:"footer",justifyContent:"center",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withFooter:!1,isViewOnly:!1},{withFooter:n,isViewOnly:r}=t,o=t=>(0,i.jsx)(s,{withFooter:n,isViewOnly:r,children:(0,i.jsx)(e,{...t})});return"getInitialProps"in e&&(o.getInitialProps=e.getInitialProps),o}},34211:function(e,t,n){"use strict";n.d(t,{oO:function(){return i.o},GE:function(){return es}});var i=n(4661),r=n(52322),o=n(38035),s=n(15706),a=n(17190),l=n(43297),c=n(20437),u=n(28535),d=n(11082),h=n(75009),p=n(74409),f=n(97010),m=n(42822),x=n(5879),g=n(39097),v=n.n(g),j=n(44663),b=n(10649),y=n(62573),C=n(91994);let k=()=>{let e=(0,C.CG)(y.G5),t="en"===e||!e||!b.p_.includes(e);return{homeUrl:t?"/":"/".concat(e),pricingUrl:t?"/pricing":"/".concat(e,"/pricing")}};var w=n(82979),D=n(42946),_=n(54933),E=n(49929),S=n(5632),A=n(2784),T=n(89606),I=n(49152);let O=["/","/pricing"],M=()=>{let{query:e,asPath:t}=(0,S.useRouter)(),n=(0,A.useCallback)(n=>{let i="en"===e.locale?t:t==="/".concat(e.locale)?"/":t.replace("/".concat(e.locale,"/"),"/"),r=t,o=O.includes(i);return o?(b.p_.includes(n)&&(r="en"===n?""===i?"/":i:"/".concat(n).concat("/"===i?"":i)),r):null},[t,e]);return n};var F=n(89458),R=n(88640);let N=()=>{let e=M(),{replace:t}=(0,S.useRouter)(),[n,i]=(0,F.I)(R.H.gammaLocale,null),s=(0,I.l)(),a=(0,A.useCallback)(n=>{let r=e(n);r?t(r,void 0,{shallow:!1,scroll:!1}):(i(n),window.location.reload())},[e,t,i]);return(0,r.jsx)(o.k,{justify:"flex-end",children:(0,r.jsx)(T.p,{matchWidth:!1,selectedLocale:b.w$[s],onLocaleSelect:e=>{a(e)},buttonProps:{variant:"solid",colorScheme:"gray",rightIcon:(0,r.jsx)(E.G,{size:"xs",icon:D.ptq}),leftIcon:(0,r.jsx)(E.G,{size:"1x",icon:_.BCn})},menuListProps:{fontSize:"sm",minW:"300px",fontWeight:"700"}})})},P=e=>{let{pricingUrl:t}=k();return[{category:(0,r.jsx)(x.cC,{id:"K47k8R"}),items:[{text:(0,r.jsx)(x.cC,{id:"c3XJ18"}),url:w.mc.help},{text:(0,r.jsx)(x.cC,{id:"bVQpMy"}),url:w.mc.changeLog},{text:(0,r.jsx)(x.cC,{id:"aHCEmh"}),url:t},{text:(0,r.jsx)(x.cC,{id:"iTylMl"}),url:w.mc.templates},{text:(0,r.jsx)(x.cC,{id:"K2fjhl"}),url:w.mc.inspiration},{text:(0,r.jsx)(x.cC,{id:"Bhgd0l"}),onClick:e}]},{category:(0,r.jsx)(x.cC,{id:"7i8j3G"}),items:[{text:(0,r.jsx)(x.cC,{id:"V+D/YP"}),url:w.mc.careers},{text:(0,r.jsx)(x.cC,{id:"KM6m8p"}),url:w.mc.team},{text:(0,r.jsx)(x.cC,{id:"xowcRf"}),url:w.mc.terms},{text:(0,r.jsx)(x.cC,{id:"LcET2C"}),url:w.mc.privacy}]},{category:(0,r.jsx)(x.cC,{id:"+wrjWz"}),items:[{text:(0,r.jsx)(x.cC,{id:"0F2sI+"}),url:"https://twitter.com/meetgamma"},{text:(0,r.jsx)(x.cC,{id:"CTWsuc"}),url:"https://www.instagram.com/meetgamma/"},{text:(0,r.jsx)(x.cC,{id:"gggTBm"}),url:"https://www.linkedin.com/company/gamma-app/"},{text:(0,r.jsx)(x.cC,{id:"zyUxcw"}),url:"https://www.tiktok.com/@meetgamma"}]}]},L=()=>{let e=(0,j.G)(),{homeUrl:t}=k(),n=P(e);return(0,r.jsx)(o.k,{fontSize:"12px",bgColor:"#1d0042",py:20,id:"footer",justifyContent:"center",children:(0,r.jsx)(a.W,{maxW:"940px",children:(0,r.jsxs)(l.K,{spacing:12,children:[(0,r.jsxs)(c.M,{columns:4,spacing:6,minChildWidth:"200px",children:[(0,r.jsx)(u.xu,{w:"100%",children:(0,r.jsx)(d.r,{href:t,children:(0,r.jsx)(h.E,{src:"https://assets.website-files.com/60de2701a7b28f308f619d3d/60de2701a7b28ff7e9619d49_White%20Logo%20g%20spot.svg",loading:"lazy",width:"120px",alt:"Gamma logo"})})}),n.map((e,t)=>{let{category:n,items:i}=e;return(0,r.jsxs)(u.xu,{w:"100%",children:[(0,r.jsx)(p.X,{marginBottom:"25px",color:"rgba(239, 208, 255, 0.7)",fontWeight:"bold",fontSize:"14px",fontFamily:"var(--body-font)",letterSpacing:"normal",children:n}),(0,r.jsx)(f.QI,{listStyleType:"none",margin:0,children:i.map((e,t)=>{let{text:n,url:i,onClick:o}=e;return(0,r.jsx)(f.HC,{fontSize:"14px",pb:4,children:(0,r.jsx)(d.r,{as:o?void 0:v(),color:"hsla(0, 0%, 100%, 0.86)",href:i||void 0,onClick:o||void 0,children:n})},t)})})]},t)})]}),(0,r.jsxs)(m.M,{color:"rgba(239, 208, 255, 0.7)",fontSize:"13px",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]}),(0,r.jsx)(N,{})]})})})};var z=n(62614),G=n(36474),U=n(36651),B={src:"/_next/static/media/gamma-logo-white.9613e68b.svg"},H=n(90221);let W=e=>{let{children:t,href:n,buttonProps:i}=e;return(0,r.jsx)(z.z,{as:d.r,href:n,maxHeight:"32px",borderStyle:"solid",colorScheme:"gray",borderWidth:"0.5px",fontSize:"14px",borderColor:"rgba(0, 0, 0, 0.24)",backgroundColor:"#fff",boxShadow:"0 4px 4px 0 rgb(0 0 0 / 5%)",fontWeight:"700",borderRadius:"100px",color:"#3b3a40",_hover:{color:"black",textDecoration:"none"},...i,children:t})},V=()=>(0,r.jsx)(W,{href:"/",buttonProps:{rightIcon:(0,r.jsx)(E.G,{icon:D.eFW})},children:(0,r.jsx)(x.cC,{id:"UveK6V"})}),q=e=>{let{isLight:t}=e,{pricingUrl:n}=k(),i=[{text:(0,r.jsx)(x.cC,{id:"aHCEmh"}),url:n,hideWhenSmall:!0},{text:(0,r.jsx)(x.cC,{id:"V+D/YP"}),url:w.mc.careers,hideWhenSmall:!0},{text:(0,r.jsx)(x.cC,{id:"z0t9bb"}),url:w.mc.login}];return(0,r.jsxs)(r.Fragment,{children:[i.map((e,n)=>{let{text:i,url:o,hideWhenSmall:s}=e;return(0,r.jsx)(d.r,{as:v(),display:s?["none","none","block"]:"block",href:o,color:t?void 0:"whiteAlpha.800",_hover:{color:t?"#000":"whiteAlpha.900",textDecoration:"none"},children:i},n)}),(0,r.jsx)(W,{href:w.mc.signup,children:(0,r.jsx)(x.cC,{id:"XjMylT"})})]})},Z=e=>{let{headerMode:t="light",fixed:n=!1}=e,{homeUrl:i}=k(),{user:o,isUserLoading:s}=(0,U.SE)(),a="light"===t,c=n&&!(0,H.s2)();return(0,r.jsx)(u.xu,{w:"100%",py:4,px:[6,6,12],h:w.AP,pr:[4,6,12],zIndex:"999",top:["auto","auto","0"],position:c?"fixed":"relative",backdropFilter:c?"blur(20px)":"none",backgroundColor:c?a?"whiteAlpha.800":"blackAlpha.800":"transparent",children:(0,r.jsxs)(l.K,{direction:"row",children:[(0,r.jsx)(d.r,{href:i,"aria-current":"page",as:v(),children:(0,r.jsx)(h.E,{w:"100px",src:a?"https://assets.website-files.com/62e823626cd4fdd0e5dc1527/62e823626cd4fdc26bdc1576_Gamma.svg":B.src,loading:"lazy",alt:"Gamma logo"})}),(0,r.jsx)(G.L,{}),(0,r.jsx)(l.K,{direction:"row",spacing:[4,4,8],fontWeight:"500",fontSize:"14px",color:a?"#3b3a40":"#fff",alignItems:"center",transition:"color 300ms ease",children:!o&&s?(0,r.jsx)(r.Fragment,{}):o&&!s?(0,r.jsx)(V,{}):(0,r.jsx)(q,{isLight:a})})]})})};var K=n(62202),Y=n(15193),X=n(94523);let $={fancy:{light:"linear-gradient(79deg, #2b0aff, #ff5b8a 49%, #ff5b8a 55%, #fba64b 77%, #f99b52)",dark:"radial-gradient(circle at -20% 0, #2b0aff, #e93abf 31%, #f658a8 48%, #febf72)"}},J={colors:X.qZ.colors,zIndices:{tooltip:5600,modal:1800,dropdown:1600},fonts:{body:"'Eudoxus Sans', sans-serif",heading:"'p22-mackinac-pro', sans-serif"},fontSizes:{xxs:"11px"},components:{Link:{baseStyle:{textDecoration:"none"}},Button:{sizes:{xl:{h:14,fontSize:"lg",px:8}},variants:{fancy:{shadow:"md",bg:$.fancy.light,textShadow:"0px 1px 2px rgba(0,0,0,.5)",color:"gray.100",backgroundSize:"400%",transitionProperty:"all",transitionDuration:"normal",_hover:{filter:"brightness(120%)",backgroundSize:"200%",bg:$.fancy.light,textDecoration:"none !important"},"&[disabled]":{_hover:{bg:$.fancy.light,backgroundSize:"400%",textDecoration:"none !important"}},_active:{bg:$.fancy.light,shadow:"md-inner",filter:"brightness(90%)",backgroundSize:"200%",textDecoration:"none !important"}}}},Text:{baseStyle:{textWrap:"pretty"}},Heading:{sizes:{"5xl":{fontSize:{base:"4.5rem"},lineHeight:"1",fontWeight:"500"},"6xl":{fontSize:{base:"5rem"},lineHeight:"1",fontWeight:"500"}},baseStyle:{letterSpacing:"-0.04em",textWrap:"pretty"},variants:{fancy:{backgroundImage:$.fancy.light,backgroundClip:"text",color:"transparent",fontWeight:"500"},fancyDark:{backgroundImage:$.fancy.dark,backgroundClip:"text",color:"transparent"},sansSerif:{fontFamily:"var(--body-font)",letterSpacing:"normal",fontWeight:"regular"}}}}},Q=(0,K.B1)(J,(0,Y.A)({colorScheme:"trueblue"}));var ee=n(21805),et=n(14274),en=n(82245);let ei=()=>{let{user:e,isUserLoading:t}=(0,U.SE)(),n=et.v.API_HOST.endsWith("api.staging.gamma.app"),i=null!==window.location.hostname.match(/localhost/)||null!==window.location.hostname.match(/\.*-gamma-app.vercel.app/);(0,A.useEffect)(()=>{!n||!i||t||!e||ee.Z.get(en.ir)||(ee.Z.set(en.ir,"true",{expires:en.bI,secure:!0,httpOnly:!1}),window.location.reload())},[t,e,n,i])};var er=n(17821);let eo=e=>{let{children:t,headerMode:n,fixed:i}=e;return ei(),(0,r.jsxs)(o.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",color:"gray.800",overflowX:"hidden",children:[(0,r.jsx)(Z,{headerMode:n,fixed:i}),(0,r.jsx)(o.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"flex-start",alignItems:"center",direction:"column",position:"relative",minH:"50vh",children:t}),(0,r.jsx)(L,{})]})};function es(e,t){let n=n=>{let{headerMode:i,fixed:o}=t||{};return(0,r.jsxs)(s.f6,{theme:Q,children:[(0,r.jsx)(er.ZP,{}),(0,r.jsx)(eo,{headerMode:i,fixed:o,children:(0,r.jsx)(e,{...n})})]})};return"getInitialProps"in e&&(n.getInitialProps=e.getInitialProps),n}},79254:function(e,t,n){"use strict";n.d(t,{$C:function(){return h},H6:function(){return d},Uj:function(){return p}});var i=n(52322),r=n(5632),o=n(73534),s=n.n(o),a=n(14274),l=n(93441),c=n(34385);let u=["/signin","/signup","/invitations/workspaces/[workspaceId]"],d=()=>{let e=(0,r.useRouter)().pathname;return!(0,l.gF)()||u.includes(e)?null:(0,i.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},h=()=>(0,i.jsx)(s(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(a.v.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),p=async e=>(await (0,c.X)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((t,n)=>{grecaptcha.enterprise.ready(async()=>{try{let n=await grecaptcha.enterprise.execute(a.v.RECAPTCHA_SCORING_KEY,{action:e});t(n)}catch(e){console.log(e),n(e)}})}))},45820:function(e,t,n){"use strict";n.d(t,{N:function(){return ex}});var i=n(52322),r=n(69251),o=n(30523),s=n(28535),a=n(42946),l=n(5879),c=n(2784),u=n(704),d=n(13734),h=n(75816),p=n(45760),f=n(18153),m=n(91994),x=n(76282),g=n(17993),v=n(5740),j=n(43297),b=n(29117),y=n(77533),C=n(54933),k=n(49929),w=n(74153),D=n(75258);let _=(0,c.memo)(()=>{let[e]=(0,w.Ns)("editorMode");return(0,i.jsxs)(g.g,{spacing:3,align:"stretch",children:[(0,i.jsx)(s.xu,{fontSize:"sm",children:(0,i.jsx)(l.cC,{id:"x4f8pZ"})}),"freeform"===e?(0,i.jsx)(E,{title:D.D.freeform.label(),icon:D.D.freeform.icon,children:(0,i.jsx)(l.cC,{id:"ELg7Zs",values:{0:D.D.freeform.label()}})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E,{title:D.D.structured.label(),icon:D.D.structured.icon,children:(0,i.jsx)(l.cC,{id:"iKG7iK",values:{0:D.D.structured.label()}})}),(0,i.jsx)(E,{title:(0,i.jsx)(l.cC,{id:"+mgW41"}),icon:a.Yai,children:(0,i.jsx)(l.cC,{id:"oGNrqw",components:{0:(0,i.jsx)(v.T,{})}})}),(0,i.jsx)(E,{title:(0,i.jsx)(l.cC,{id:"1Nr9Bi"}),icon:C.BDt,children:(0,i.jsx)(l.cC,{id:"5cPTto",components:{0:(0,i.jsx)(v.T,{})}})})]})]})});_.displayName="AIGeneratorTips";let E=e=>{let{icon:t,title:n,children:r}=e;return(0,i.jsx)(s.xu,{p:4,borderRadius:"md",bg:"whiteAlpha.700",children:(0,i.jsxs)(j.K,{color:"gray.700",spacing:"1",children:[(0,i.jsxs)(b.U,{spacing:"1",fontSize:"sm",children:[null!==t&&(0,i.jsx)(k.G,{icon:t}),(0,i.jsx)(y.x,{fontWeight:"600",color:"gray.800",children:n})]}),(0,i.jsx)(y.x,{fontSize:"sm",children:r})]})})};var S=n(51874),A=n(93546),T=n(8484),I=n(87651),O=n(62614);let M=(0,c.memo)(()=>{let e=(0,m.TL)(),t=(0,m.qr)(),n=(0,m.CG)(x.Zm),r=(0,m.CG)(x.d_),o=(0,m.CG)(x.Vn),u=(0,w.o7)(),d=(0,c.useCallback)(()=>{let n=(0,x.jj)(t.getState()),i=n.find(e=>e.isDraft);i&&e((0,x.J7)({num:i.num}))},[e,t]);return(0,i.jsx)(s.xu,{children:n&&(0,i.jsx)(I.U,{in:o,children:(0,i.jsxs)(j.K,{direction:{base:"column",md:"row"},alignItems:{base:"stretch",md:"center"},spacing:4,bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:[(0,i.jsxs)(b.U,{flex:"1",children:[(0,i.jsx)(k.G,{icon:a.On6}),(0,i.jsxs)(j.K,{spacing:0,children:[(0,i.jsx)(y.x,{fontWeight:"600",fontSize:"lg",children:(0,i.jsx)(l.cC,{id:"YU/AK+",values:{0:null==r?void 0:r.num}})}),(0,i.jsx)(y.x,{children:(0,i.jsx)(l.cC,{id:"J4c0Rh"})})]})]}),(0,i.jsx)(O.z,{variant:"solid",colorScheme:"primary",onClick:u,children:(0,i.jsx)(l.cC,{id:"u52q7m"})}),(0,i.jsx)(O.z,{onClick:d,variant:"plain",children:(0,i.jsx)(l.cC,{id:"dEgA5A"})})]})})})});M.displayName="OverrideDraftWarning";var F=n(75768),R=n(32899),N=n(10625),P=n(67046),L=n(332),z=n(99058),G=n(44035),U=n(39237),B=n(27599),H=n(94523),W=n(18149),V=n.n(W);let q={size:"sm",variant:"ghost",colorScheme:"gray",color:"gray.800"},Z=(0,c.memo)(()=>{let e=(0,m.qr)(),t=(0,m.TL)(),n=(0,w.vS)(),r=(0,m.CG)(x.jj,(e,t)=>V()(e,t)),{hideTooltips:o,GammaTooltipHiderContext:u}=(0,H.o5)(),d=(0,m.CG)(x.Zm),h=(0,c.useCallback)(()=>{t((0,x.ly)());let i=(0,x.au)(e.getState());n(i,!1)},[t,n,e]),p=(0,c.useCallback)(()=>{t((0,x.np)());let i=(0,x.au)(e.getState());n(i,!1)},[t,n,e]),f=(0,c.useCallback)(i=>{t((0,x.J7)({num:i}));let r=(0,x.au)(e.getState());n(r,!1)},[t,n,e]);if(0===r.length)return null;let g=r.findIndex(e=>e.isCurrent),v=r[g],j=g<r.length-1;return d?(0,i.jsxs)(F.h,{isAttached:!0,bg:"whiteAlpha.500",borderRadius:"md",children:[(0,i.jsx)(R.h,{display:{base:"none",md:"inline-flex"},isDisabled:!(g>0),"aria-label":"previous version",onClick:p,...q,icon:(0,i.jsx)(k.G,{icon:a.A35,fixedWidth:!0})}),(0,i.jsxs)(N.v,{closeOnSelect:!0,children:[(0,i.jsx)(u,{children:(0,i.jsx)(H.kH,{label:"Version ".concat(v.num," ").concat(v.isDraft?"(current draft)":""),closeOnClick:!1,children:(0,i.jsx)(P.j,{colorScheme:"gray",minW:"10",size:"sm",as:O.z,variant:"ghost",onClick:()=>{o()},children:v.num})})}),(0,i.jsx)(L.h,{children:(0,i.jsxs)(z.q,{maxW:"260px",children:[(0,i.jsx)(G._,{title:"Version history",type:"radio",value:String(v.num),children:[...r].reverse().map((e,t)=>(0,i.jsx)(U.i,{value:String(e.num),onClick:()=>{f(e.num),setTimeout(()=>{o()},0)},children:(0,i.jsxs)(y.x,{children:["Version ",e.num," ",e.isDraft&&"(current draft)"]})},t))}),(0,i.jsx)(B.R,{}),(0,i.jsx)(s.xu,{py:1,px:2,children:(0,i.jsx)(y.x,{fontSize:"xs",children:(0,i.jsx)(l.cC,{id:"gdzgeC"})})})]})})]}),(0,i.jsx)(R.h,{display:{base:"none",md:"inline-flex"},isDisabled:!j,onClick:h,"aria-label":"next version",...q,icon:(0,i.jsx)(k.G,{icon:a._tD,fixedWidth:!0})})]}):null});Z.displayName="VersionSwitcher";var K=n(67109),Y=n(49259),X=n(74008),$=n(90980),J=n(1071),Q=n(35183),ee=n(97166),et=n(29494),en=n(87254),ei=n(16893),er=n(97412),eo=n(63304),es=n(22902),ea=n(39092);let el=(0,c.memo)(()=>{let[e,t]=(0,w.ip)(),[n,r]=(0,w.Ns)("cardDimensions"),o=(0,ei.A)(es._J);return(0,i.jsx)(ea.j,{label:(0,i.jsx)(l.cC,{id:"kI1qVD"}),colorScheme:"orchid",icon:C.Y$l,values:[o[e].label()],children:(0,i.jsxs)(g.g,{spacing:4,align:"start",children:[(0,i.jsxs)(Q.NI,{children:[(0,i.jsx)(es.FQ,{selectedFormat:e,setSelectedFormat:e=>{t(e);let{cardDimensions:n}=(0,eo.sJ)(e);n&&r(n)}}),(0,i.jsx)(ea.i,{children:(0,i.jsx)(l.cC,{id:"qJHyoI"})})]}),(0,i.jsxs)(Q.NI,{children:[(0,i.jsx)(ee.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(l.cC,{id:"jBvtuq"})}),(0,i.jsx)(er.Ft,{cardDimensions:n,updateCardDimensions:r}),(0,i.jsx)(ea.i,{children:(0,i.jsx)(y.x,{mt:2,children:(0,i.jsx)(l.cC,{id:"Q3Qdcd"})})})]}),(0,i.jsxs)(Q.NI,{children:[(0,i.jsx)(ee.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(l.cC,{id:"G57+qO"})}),(0,i.jsx)(ec,{})]})]})})});el.displayName="FormatSettingsGroup";let ec=(0,c.memo)(()=>{let[e,t]=(0,w.Q_)(),n=(0,c.useCallback)(e=>t(e.target.value),[t]);return(0,i.jsx)(et.g,{value:e||"",onChange:n,bg:"white",placeholder:en.ag._({id:"LLAa/9"})})});ec.displayName="PromptInput";var eu=n(33872),ed=n(62141);let eh=(0,c.memo)(e=>{let{isLoading:t}=e,n=(0,m.CG)(x.Vn);return(0,i.jsxs)(g.g,{flex:"1",overflow:"hidden auto",spacing:3,align:"start",alignItems:"stretch",transition:"all 300ms ease",opacity:n?.75:1,pointerEvents:n?"none":"inherit",cursor:n?"not-allowed":"default",children:[(0,i.jsxs)(s.xu,{fontSize:"sm",children:[(0,i.jsx)(l.cC,{id:"Tz0i8g"})," ",(0,i.jsx)(H.Yq,{label:(0,i.jsx)(l.cC,{id:"FDel/s"})})]}),t?(0,i.jsxs)(j.K,{children:[(0,i.jsx)(K.O,{height:16}),(0,i.jsx)(K.O,{height:16}),(0,i.jsx)(K.O,{height:16})]}):(0,i.jsxs)(Y.U,{allowMultiple:!0,defaultIndex:[0],allowToggle:!0,as:j.K,w:"100%",bg:"white",borderRadius:"lg",overflow:"hidden",spacing:0,divider:(0,i.jsx)(X.i,{}),boxShadow:"sm",children:[(0,i.jsx)(ed.o,{}),(0,i.jsx)(eu.Td,{}),(0,i.jsx)(el,{})]}),(0,i.jsx)(s.xu,{display:{base:"none",lg:"block"},children:(0,i.jsx)(ep,{})})]})});eh.displayName="AIGeneratorSettings";let ep=(0,c.memo)(()=>{let e=(0,m.CG)(x.mO),{maxTokens:t}=(0,J.ml)();return(0,i.jsx)($.H,{charCount:e,max:t,shouldShow:!0})});ep.displayName="AIGeneratorCharacterCount";var ef=n(43305),em=n(4123);let ex=(0,c.memo)(()=>{let[e,t]=(0,c.useState)("outline"),{skipThemeStep:n}=(0,u.R)(),g=(0,m.TL)();(0,f.j)({queryKey:"ref"}),(0,c.useEffect)(()=>()=>{g((0,x.fB)())},[g]);let v=(0,c.useCallback)(()=>{t("outline")},[]),j="theme"===e?void 0:(0,i.jsx)(l.cC,{id:"opD9db"});return(0,i.jsx)(p.jX,{children:(0,i.jsxs)(S.v4,{children:[(0,i.jsx)(T.D,{navLabel:(0,i.jsx)(l.cC,{id:"iH8pgl"}),navIcon:a.acZ,onClick:"theme"===e?v:void 0,styleProps:"theme"===e?{position:"absolute"}:void 0,pageTitle:j,rightItem:"outline"===e?(0,i.jsx)(Z,{}):void 0}),"outline"===e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.r,{templateAreas:{base:'"overrideWarning" \n                   "settings" \n                   "editor"\n                   "tips"',md:'"overrideWarning overrideWarning"\n                   "settings editor"\n                   "tips editor"',xl:'". overrideWarning ." \n                 "settings editor tips" \n                 "settings editor tips"'},gridTemplateColumns:{base:"1fr",md:"2fr 3fr",xl:"3fr 6fr 3fr"},gridTemplateRows:{base:"auto",md:"auto auto 1fr",xl:"auto"},gap:4,mx:"auto",alignItems:"flex-start",p:{base:4,lg:6},pt:{base:4,lg:4},maxW:"1800px",children:[(0,i.jsx)(o.P,{area:"overrideWarning",children:(0,i.jsx)(M,{})}),(0,i.jsx)(o.P,{area:"settings",alignSelf:"start",children:(0,i.jsx)(eh,{isLoading:!1})}),(0,i.jsx)(o.P,{area:"editor",h:"100%",children:(0,i.jsx)(A.e,{showTopbar:!0,showAddBreaks:!0,enableModes:!0,containerProps:{minH:{base:"40vh",lg:"60vh"}},showContentTip:!0})}),(0,i.jsx)(o.P,{area:"tips",children:(0,i.jsx)(_,{})})]}),(0,i.jsx)(s.xu,{height:"20vh"})," ",(0,i.jsx)(em.U,{cta:n?(0,i.jsx)(h.j,{children:(0,i.jsx)(l.cC,{id:"ziAjHi"})}):(0,i.jsx)(ef.O,{onClick:()=>t("theme")})})]}):"theme"===e?(0,i.jsx)(d.O,{}):null]})})});ex.displayName="AIGeneratorPage"},24551:function(e,t,n){"use strict";n.d(t,{C:function(){return w},O:function(){return D}});var i=n(52322),r=n(38035),o=n(17993),s=n(62614),a=n(67109),l=n(42946),c=n(49929),u=n(5879),d=n(55388),h=n(2689),p=n.n(h),f=n(2784),m=n(91994),x=n(62040),g=n(90507),v=n(28858),j=n(46741),b=n(76282),y=n(74720),C=n(14874);let k={...v.I,...y.R,...j.dE},w="ai-card-editor",D=(0,f.memo)(e=>{let{...t}=e,n=(0,m.CG)(b.$X),a=(0,d.jE)({...t,extensions:C.XL});a&&(a.editorId=w);let h=(0,m.CG)(b.g8),v=(0,m.CG)(b.CC);(0,f.useEffect)(()=>{a&&a.setEditable(!n)},[n,a]);let j=(0,f.useCallback)(()=>{null==a||a.chain().insertContentAt(null==a?void 0:a.state.doc.content.size,{type:"card",content:[{type:"paragraph"}]}).selectInsertedNode().run()},[a]);return(0,x.n)(a),(0,i.jsxs)(r.k,{flex:"1",direction:"column",sx:k,p:{base:2,md:3},children:[(0,i.jsx)(g.kg,{editor:a,style:{wordBreak:"break-word",display:"flex",flexDirection:"column"}}),n&&(0,i.jsx)(o.g,{children:p()(h-v).map(e=>(0,i.jsx)(_,{},e))}),!n&&(0,i.jsx)(s.z,{boxShadow:"none",leftIcon:(0,i.jsx)(c.G,{icon:l.r8p,fixedWidth:!0}),onClick:j,children:(0,i.jsx)(u.cC,{id:"sFY+gw"})})]})});D.displayName="AICardEditor";let _=()=>(0,i.jsx)(a.O,{height:14,width:"100%",borderRadius:"md"})},93546:function(e,t,n){"use strict";n.d(t,{e:function(){return P}});var i=n(52322),r=n(17993),o=n(28535),s=n(38035),a=n(29117),l=n(36474),c=n(62614),u=n(77533),d=n(5740),h=n(43297),p=n(97143),f=n(42946),m=n(49929),x=n(94523),g=n(5879),v=n(2784),j=n(90980),b=n(45760),y=n(91994),C=n(86581),k=n(45339),w=n(74153),D=n(1071),_=n(76282),E=n(75258),S=n(24551),A=n(55388),T=n(62040),I=n(90507),O=n(46741),M=n(74720),F=n(14874);let R={...M.R,...O.dE},N=(0,v.memo)(e=>{let{...t}=e,n=(0,A.jE)({...t,extensions:F.uJ});return(0,T.n)(n),(0,i.jsx)(s.k,{flex:"1",direction:"column",sx:R,children:(0,i.jsx)(I.kg,{editor:n,style:{wordBreak:"break-word",flex:1,display:"flex",flexDirection:"column"}})})});N.displayName="AIFreeformEditor";let P=(0,v.memo)(e=>{let{showAddBreaks:t,showTopbar:n=!1,hideFooter:h=!1,containerProps:p,onEditorUpdate:A,showContentTip:T,onAddClick:I,isAdding:O}=e,M=(0,y.CG)(_.Vn),R=(0,y.CG)(_.$X),{setEditorInstance:P}=(0,b.vZ)(),z=(0,w.ex)({debounce:500}),G=(0,y.qr)(),[U]=(0,w.Ns)("editorMode"),B=(0,v.useRef)(!1),H=(0,v.useCallback)(e=>{let t,{editor:n,transaction:i}=e;if(B.current&&i.docChanged){if(null==A||A({editor:n}),"structured"===U){let e=[];n.state.doc.forEach(t=>{let n=(0,C.MF)(t);e.push(n)}),t=e.join("\n\n---\n\n")}else t=(0,C.MF)(n.state.doc);z({content:t})}},[A,z,U]),W=(0,y.CG)(_.mO),V=(0,v.useCallback)(e=>{let{editor:t}=e;P(t);let n=(0,_.au)(G.getState()),i=(0,C.c8)(n),r=(0,F.dW)(i,U).content.toJSON();t.commands.setContent(r),B.current=!0},[P,G,U]),{isAddingBreaks:q,canAddBreaks:Z,canRemoveBreaks:K,removeSectionBreaks:Y,addSectionBreaks:X}=(0,k.N)(),$="structured"===U,J=(0,y.CG)(_.au),Q=0===J.length,ee=(0,y.CG)(_.CC),{maxTokens:et}=(0,D.ml)();return(0,i.jsxs)(r.g,{borderRadius:"md",spacing:3,align:"start",opacity:M?.75:1,pointerEvents:M?"none":"inherit",cursor:M?"not-allowed":void 0,h:"100%",children:[T&&(0,i.jsxs)(o.xu,{fontSize:"sm",pos:"relative",w:"100%",children:[(0,i.jsx)(g.cC,{id:"4b3oEV"})," ",(0,i.jsx)(x.Yq,{label:(0,i.jsx)(g.cC,{id:"tztPjl"})})]}),(0,i.jsxs)(s.k,{flex:"1",w:"100%",bg:"white",borderRadius:"lg",boxShadow:"sm",direction:"column",children:[n&&(0,i.jsxs)(a.U,{position:"relative",py:2,px:4,borderBottom:"1px",borderColor:"var(--chakra-colors-chakra-border-color)",children:[(0,i.jsx)(l.L,{}),(0,i.jsx)(E.x,{}),(0,i.jsx)(l.L,{}),t&&K&&(0,i.jsx)(x.kH,{label:(0,i.jsx)(g.cC,{id:"SAXakl"}),placement:"top",children:(0,i.jsx)(c.z,{size:"sm",onClick:Y,boxShadow:"none",children:(0,i.jsx)(m.G,{icon:f.UPy})})}),t&&Z&&(0,i.jsx)(x.kH,{label:(0,i.jsx)(g.cC,{id:"SuUA6H"}),placement:"top",children:(0,i.jsx)(c.z,{boxShadow:"none",size:"sm",isLoading:q,onClick:()=>X(J),children:(0,i.jsx)(m.G,{icon:f.EQg,fixedWidth:!0})})})]}),(0,i.jsxs)(s.k,{fontSize:"sm",direction:"column",flex:"1",pos:"relative",sx:{".ProseMirror":{padding:"freeform"===U?6:0,fontSize:"16px"}},...p,children:["freeform"===U?(0,i.jsx)(N,{onUpdate:H,onCreate:V}):(0,i.jsx)(S.O,{onUpdate:H,onCreate:V}),Q&&!R&&"freeform"===U&&(0,i.jsx)(o.xu,{pos:"absolute",top:6,left:6,pointerEvents:"none",color:"gray.500",fontSize:"md",children:(0,i.jsx)(g.cC,{id:"xafDnF"})})]}),!h&&(0,i.jsxs)(a.U,{fontSize:"sm",px:4,py:3,alignItems:"center",color:"gray.500",children:[$?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.k,{flex:"1",children:(0,i.jsx)(u.x,{children:(0,i.jsx)(g.cC,{id:"Psk6LY",values:{cardCount:ee}})})}),(0,i.jsx)(s.k,{flex:"2",justifyContent:"center",display:{base:"none",md:"flex"},children:(0,i.jsx)(u.x,{children:(0,i.jsx)(g.cC,{id:"c3ugvF",components:{0:(0,i.jsx)(d.T,{})}})})}),(0,i.jsx)(s.k,{flex:"1",justifyContent:"flex-end",children:(0,i.jsx)(j.H,{charCount:W,max:et,shouldShow:!0,bg:"white",borderColor:"white",fontFamily:"mono"})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.L,{flex:"1"}),(0,i.jsx)(s.k,{flex:"2",justifyContent:"center",children:(0,i.jsx)(L,{})}),(0,i.jsx)(s.k,{flex:"1",justifyContent:"flex-end",children:(0,i.jsx)(j.H,{charCount:W,max:et,shouldShow:!0,bg:"white",borderColor:"white",fontFamily:"mono"})})]}),I&&(0,i.jsx)(c.z,{variant:"solid",size:"sm",onClick:I,isLoading:O,leftIcon:(0,i.jsx)(m.G,{icon:f.JyM}),children:(0,i.jsx)(g.cC,{id:"sFY+gw"})})]})]})]})});P.displayName="AIGeneratorContent";let L=(0,v.memo)(()=>(0,i.jsx)(x.kH,{placement:"top",bg:"gray.900",label:(0,i.jsxs)(h.K,{spacing:1,fontFamily:"mono",children:[(0,i.jsx)(u.x,{children:"# Heading 1"}),(0,i.jsx)(u.x,{children:"## Heading 1"}),(0,i.jsx)(u.x,{children:"### Heading 3"}),(0,i.jsx)(u.x,{children:"- Item 1"}),(0,i.jsx)(u.x,{children:"- Item 2"}),(0,i.jsx)(u.x,{children:"- Item 3"}),(0,i.jsx)(u.x,{children:"--- Divider"})]}),children:(0,i.jsxs)(u.x,{cursor:"help",children:[(0,i.jsx)(u.x,{as:"span",color:"gray.400",mr:1,children:(0,i.jsx)(m.G,{icon:p.cCZ})}),(0,i.jsx)(g.cC,{id:"u6Hp4N"})]})}));L.displayName="MarkdownTip"},74720:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var i=n(40212);let r={".ProseMirror":{flex:1,...i.U},".block":{my:"0.75rem",":first-child":{mt:"0px !important"},":last-child":{mb:"0px !important"}},".block-heading":{fontWeight:"bold",lineHeight:"1.25",_first:{mt:0}},h1:{fontSize:"1.5em"},h2:{fontSize:"1.25em"},h3:{fontSize:"1.125em"},"a[href]":{color:"var(--chakra-colors-trueblue-600)",textDecoration:"underline"}}},14874:function(e,t,n){"use strict";n.d(t,{XL:function(){return ev},uJ:function(){return eg},dW:function(){return ej}});var i=n(72338),r=n(86900),o=n(42626),s=n(74902),a=n(36518),l=n(71391),c=n(86509),u=n(9432),d=n(70675),h=n(38438),p=n(39615),f=n(39475),m=n(77381),x=n(6085),g=n(3402),v=n(17487),j=n(72762),b=n(73528),y=n(99173),C=n(41889),k=n(13653),w=n(59799),D=n(90507),_=n(47577),E=n(52322),S=n(28535);let A=e=>{let{selected:t}=e;return(0,E.jsx)(D.T5,{children:(0,E.jsx)(S.xu,{pos:"relative",draggable:"true","data-drag-handle":!0,cursor:"grab",contentEditable:"false",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"1.25rem",color:t?"trueblue.400":"gray.400",lineHeight:"1rem",fontWeight:"800",children:"---"})})},T=/^(---|___|-)/,I=i.NB.create({name:"sectionBreak",group:"block",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:"hr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",(0,i.P1)(t)]},addNodeView:()=>(0,D.fW)(A),addInputRules(){return[(0,_.ok)({find:T,type:this.type})]}});var O=n(60491),M=n(90062),F=n(91073),R=n(27191),N=n(52780);let P=new R.Sy({props:{decorations:e=>{let{doc:t}=e,n=[],i=1;return t.descendants((e,t)=>{"card"===e.type.name&&(n.push(N.p.node(t,t+e.nodeSize,{},{number:i,isSectionCardPluginDecoration:!0})),i++)}),0==n.length?N.EH.empty:N.EH.create(t,n)}}}),L=e=>{let t=e.find(e=>e.spec.isSectionCardPluginDecoration);return t?t.spec:{number:0,isSectionCardPluginDecoration:!0}};var z=n(29117),G=n(77533),U=n(38035),B=n(32899),H=n(10625),W=n(67046),V=n(332),q=n(99058),Z=n(25481),K=n(27599),Y=n(42946),X=n(49929),$=n(94523),J=n(5879),Q=n(87254),ee=n(2784),et=n(5026),en=n(76282),ei=n(91994),er=n(90221),eo=n(3543);let es={r:235,g:248,b:255},ea={r:255,g:245,b:255},el={r:107,g:70,b:193},ec={r:43,g:108,b:176},eu=(e,t,n,i)=>i?{bg:"gray.100",text:"gray.600"}:{bg:(0,eo.Py)(es,ea,e/Math.min(n,t)),text:(0,eo.Py)(ec,el,e/Math.min(n,t))},ed=e=>{let{decorations:t,editor:n,getPos:i}=e,{number:r}=L(t),o=(0,ei.CG)(en.CC),{maxCards:s,canUpgrade:a}=(0,et.hw)(),l=r>s,c=r===o,u=eu(r,o,s,l),d=(0,ee.useCallback)(()=>{let e=i(),t=n.view.state.doc.nodeAt(e);if(!t){console.error("[SectionCardView] Cannot append card. Node unknown");return}let r=e+t.nodeSize;n.chain().insertContentAt(r,{type:"card",content:[{type:"paragraph"}]}).focus().selectInsertedNode().run()},[n,i]),h=(0,ee.useCallback)(()=>{n.commands.selectNodeAtPos(i())},[n,i]),p=(0,ee.useCallback)(()=>{let e=i(),t=n.view.state.doc.nodeAt(e);if(!t){console.error("[SectionCardView] Cannot delete card. Node unknown");return}n.chain().deleteRange({from:e,to:e+t.nodeSize}).selectInsideNodeAtPos(e).focus().run()},[n,i]),f=(0,ee.useCallback)(()=>{let e=i(),t=n.view.state.doc.nodeAt(e);if(!t){console.error("[SectionCardView] Cannot focus card. Node unknown");return}n.chain().selectInsideNodeAtPos(e).focus().run()},[n,i]),m=(0,k.Od)(t);return(0,E.jsxs)(D.T5,{role:"group",children:[(0,E.jsxs)(z.U,{className:"card",border:"1px solid",borderColor:m?"var(--chakra-ring-color)":"blackAlpha.100",shadow:"sm",_hover:{shadow:"md"},transitionProperty:"box-shadow",transitionDuration:"normal",bg:"white",borderRadius:"md",spacing:0,align:"stretch","data-selection-ring":!0,pos:"relative",my:3,mt:1===r?0:void 0,role:"group",children:[!(0,er.s2)()&&(0,E.jsx)(S.xu,{position:"absolute",color:u.text,zIndex:"1",top:"3.5",left:"0",pointerEvents:"none",opacity:"0",_groupHover:{opacity:.75},children:(0,E.jsx)(X.G,{icon:Y.Okg,fixedWidth:!0})}),l&&(0,E.jsx)(S.Cd,{size:"6px",position:"absolute",zIndex:"2",top:"1.5",left:"1.5",bg:"sunglow.400"}),(0,E.jsx)($.kH,{label:l&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(G.x,{children:[(0,E.jsx)(J.cC,{id:"rayOuP"})," "]}),(0,E.jsx)(G.x,{color:"gray.400",children:a?(0,E.jsx)(J.cC,{id:"W8sobv",values:{MAX_CARDS_PRO:et.Fv}}):(0,E.jsx)(J.cC,{id:"yLG7qf"})})]}),placement:"top",children:(0,E.jsx)(U.k,{dir:"column",align:"start",justify:"center",pr:1,pl:2,py:{base:3.5,md:4},w:12,cursor:l?"help":"grab","data-drag-handle":!0,contentEditable:!1,onClick:h,fontSize:r>=100?"xs":"sm",fontFamily:"mono",fontWeight:"600",borderLeftRadius:"inherit",userSelect:"none",transitionProperty:"filter",transitionDuration:"normal",_hover:{filter:"brightness(0.95)"},bg:u.bg,color:u.text,children:r})}),(0,E.jsx)(S.xu,{p:{base:3,md:4},flex:1,color:l?"gray.600":void 0,position:"relative",children:(0,E.jsx)(D.ms,{})}),(0,E.jsx)(ep,{addCard:d,focusCard:f,deleteCard:p})]}),!(0,er.s2)()&&!c&&(0,E.jsx)(eh,{addCard:d})]})},eh=(0,ee.memo)(e=>{let{addCard:t}=e;return(0,E.jsxs)(U.k,{w:"100%",h:1,borderRadius:"md",bg:"trueblue.200",transitionProperty:"opacity",transitionDuration:"slow",opacity:0,_hover:{opacity:1},_focusWithin:{opacity:1},contentEditable:!1,my:1,dir:"column",align:"center",justify:"center",pos:"absolute",transform:"translateY(-0.75rem)",zIndex:1,children:[(0,E.jsx)(S.xu,{pos:"absolute",top:-2,bottom:-2,left:0,right:0}),(0,E.jsx)($.kH,{placement:"top",label:Q.ag._({id:"sFY+gw"}),shortcut:"---",children:(0,E.jsx)(B.h,{pos:"absolute",variant:"solid",icon:(0,E.jsx)(X.G,{icon:Y.r8p}),"aria-label":"Add card",isRound:!0,size:"xs",onClick:t,tabIndex:-1})})]})});eh.displayName="CardDivider";let ep=(0,ee.memo)(e=>{let{addCard:t,deleteCard:n,focusCard:i}=e;return(0,E.jsx)(z.U,{pr:{base:2,md:2.5},pt:{base:2,md:3},alignSelf:"start",children:(0,er.s2)()?(0,E.jsx)(H.v,{children:e=>{let{onClose:r}=e;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(W.j,{onClick:i,as:B.h,colorScheme:"gray",variant:"ghost",size:"sm",icon:(0,E.jsx)(X.G,{icon:Y.S6C,fixedWidth:!0})}),(0,E.jsx)(V.h,{children:(0,E.jsxs)(q.q,{zIndex:"tooltip",children:[(0,E.jsx)(Z.s,{onClick:()=>{r(),t()},icon:(0,E.jsx)(X.G,{icon:Y.L26,fixedWidth:!0}),children:(0,E.jsx)(J.cC,{id:"90n2YU"})}),(0,E.jsx)(K.R,{}),(0,E.jsx)(Z.s,{onClick:()=>{n(),r()},color:"red",icon:(0,E.jsx)(X.G,{icon:Y.Vui,fixedWidth:!0}),children:(0,E.jsx)(J.cC,{id:"nabda1"})})]})})]})}}):(0,E.jsx)($.kH,{label:(0,E.jsx)(J.cC,{id:"nabda1"}),placement:"top",children:(0,E.jsx)(B.h,{colorScheme:"gray",variant:"ghost",opacity:"0",_groupHover:{opacity:1},_focus:{opacity:1},transitionProperty:"opacity",transitionDuration:"slow",size:"sm",onClick:n,"aria-label":Q.ag._({id:"nabda1"}),icon:(0,E.jsx)(X.G,{icon:Y.Vui,fixedWidth:!0})})})})});ep.displayName="CardActions";let ef=/^(---|___|-)$/,em=i.NB.create({name:"card",content:"block+",selectable:!0,draggable:!0,isolating:!0,parseHTML:()=>[{tag:"section"}],renderHTML(e){let{HTMLAttributes:t}=e;return["section",(0,i.P1)(t),0]},addNodeView:()=>(0,D.fW)(ed),addProseMirrorPlugins:()=>[P],addInputRules:()=>[new i.VK({find:ef,handler:e=>{let{state:t,range:n}=e,{tr:i}=t;(0,O.X)({tr:i.deleteRange(n.from,n.to),dispatch:!0})}})],addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.mergeCardsOnDelete(!1),Delete:()=>this.editor.commands.mergeCardsOnDelete(!0),Tab:()=>this.editor.commands.selectNextCard(!0),"Shift-Tab":()=>this.editor.commands.selectNextCard(!1)}},addCommands:()=>({selectNextCard:e=>t=>{let{state:n,dispatch:r,commands:o}=t;if(!r)return!0;let{selection:s}=n,a=(0,i.Kk)(F.KH)(s);if(!a||!s.empty)return!1;let l=n.doc.resolve(a.pos),c=l.index();if(e){if(c===l.parent.childCount-1)return!1;o.selectInsideNodeAtPos(a.pos+a.node.nodeSize)}else{if(0===c)return!1;let e=l.posAtIndex(c-1);o.selectInsideNodeAtPos(e)}return!0},mergeCardsOnDelete:e=>t=>{let{tr:n,state:r,dispatch:o}=t;if(!o)return!0;let{selection:s}=r,a=(0,i.Kk)(F.KH)(s);if(!a||!s.empty)return!1;try{let t=(0,M.pt)(s,e);if(!t)return!1;return e?(0,M.Yh)(a.pos,n,r):(0,M.Gq)(a.pos,n)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}}})}),ex=[c.A,m.l,C.d,h.n,p.x,v.Hy,l.X,r.d8,f.v,u.Tx,d.Z.configure({openOnClick:!1}),b.aV,j.g,y.k,w.U,x.m,a.f,s.m.configure({color:"var(--chakra-colors-trueblue-200)",width:3,class:"ProseMirror-dropcursor"}),k.Jn],eg=[...ex,I,o.B.extend({content:"block+"})],ev=[...ex,em,o.B.extend({content:"card+"})],ej=(e,t)=>{let n=(0,i.J1)("freeform"===t?eg:ev);return"structured"===t&&(e=e.split("<hr>").map(e=>"<section>".concat(e,"</section>")).join("\n")),(0,g.T)(e,n)}},73230:function(e,t,n){"use strict";n.d(t,{m:function(){return eL}});var i=n(52322),r=n(42946),o=n(5879),s=n(5632),a=n(2784),l=n(51874),c=n(704),u=n(45760),d=n(76282),h=n(18153),p=n(91994),f=n(44754),m=n(74153),x=n(87651),g=n(43297),v=n(74409),j=n(17190),b=n(43305),y=n(75816),C=n(4123),k=n(28535),w=n(17993),D=n(93546),_=n(42822),E=n(62614),S=n(54933),A=n(49929),T=n(33872),I=n(62141);let O=(0,a.memo)(()=>{let e=(0,p.CG)(d.RB),{goToScreen:t}=(0,c.R)(),n=(0,a.useCallback)(()=>{t("promptEditor",{generateId:e})},[e,t]);return(0,i.jsxs)(g.K,{w:"100%",position:"relative",spacing:2,minH:{base:void 0,md:"430px"},transitionProperty:"height",transitionDuration:"normal",children:[(0,i.jsx)(v.X,{size:"sm",fontWeight:"regular",color:"gray.800",children:(0,i.jsx)(o.cC,{id:"Tz0i8g"})}),(0,i.jsx)(k.xu,{p:"4",pb:6,border:"none",bg:"white",borderRadius:"md",boxShadow:"sm",children:(0,i.jsxs)(g.K,{spacing:4,children:[(0,i.jsx)(I.B,{}),(0,i.jsx)(T.$3,{}),(0,i.jsx)(T.p3,{})]})}),e&&(0,i.jsx)(_.M,{children:(0,i.jsx)(E.z,{mt:2,size:"sm",colorScheme:"gray",variant:"link",onClick:n,rightIcon:(0,i.jsx)(A.G,{icon:S.gr5}),children:(0,i.jsx)(o.cC,{id:"02C6JB"})})})]})});O.displayName="SimpleAIGeneratorSettings";let M=(0,a.memo)(()=>{let e=(0,p.CG)(d.RB);return(0,i.jsx)(k.xu,{w:"100%",children:(0,i.jsx)(x.U,{in:"existing"==(e?"existing":"new"),children:(0,i.jsxs)(w.g,{w:"100%",spacing:4,children:[(0,i.jsxs)(g.K,{w:"100%",position:"relative",spacing:2,children:[(0,i.jsx)(v.X,{size:"sm",fontWeight:"regular",color:"gray.800",children:(0,i.jsx)(o.cC,{id:"dD7NPy"})}),(0,i.jsx)(D.e,{containerProps:{minH:{base:"30vh",lg:"30vh"},overflow:"auto",w:"100%"},showContentTip:!1})]}),(0,i.jsx)(O,{})]})})})});M.displayName="OutlineEditor";var F=n(70065),R=n(24772),N=n(29117),P=n(74105),L=n(92768),z=n(32899),G=n(75768),U=n(38035),B=n(74008),H=n(77533),W=n(20437),V=n(67109),q=n(84010),Z=n(94523),K=n(87254),Y=n(46152),X=n.n(Y),$=n(11355);let J=()=>[{prompt:K.ag._({id:"kqDU4e"}),type:"work",icon:S.FVb,artifact:"deck"},{prompt:K.ag._({id:"z0+Ezb"}),icon:S.FVb,type:"work",artifact:"deck"},{prompt:K.ag._({id:"15J9XL"}),type:"work",icon:S.TZC,artifact:"deck"},{prompt:K.ag._({id:"FOQX2r"}),icon:S.IV4,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"meKpPw"}),type:"work",icon:S.tq6,artifact:"document"},{prompt:K.ag._({id:"P3ZE6a"}),type:"work",icon:S.GTN,artifact:"document"}],Q=()=>[{prompt:K.ag._({id:"cs9eYK"}),icon:S.mSY,type:"work",artifact:"deck"},{prompt:K.ag._({id:"xwDEn1"}),icon:S.FlN,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"WShrNX"}),icon:S.mbJ,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"hiNsAB"}),icon:S.FVb,type:"work",artifact:"webpage"}],ee=()=>[{prompt:K.ag._({id:"uUkZM4"}),icon:S.Stf,type:"work",artifact:"deck"},{prompt:K.ag._({id:"Cx9riK"}),icon:S.scR,type:"work",artifact:"deck"},{prompt:K.ag._({id:"Mgf6fx"}),icon:S.HXv,type:"work",artifact:"deck"},{prompt:K.ag._({id:"olhuH7"}),icon:S.hG5,type:"work",artifact:"deck"},{prompt:K.ag._({id:"r7TRaL"}),icon:S.E9T,type:"work",artifact:"deck"},{prompt:K.ag._({id:"kfrSCr"}),icon:S.DL8,type:"work",artifact:"deck"},{prompt:K.ag._({id:"qIZzo+"}),type:"work",icon:S.HXv,artifact:"webpage"}],et=()=>[{prompt:K.ag._({id:"tfw6UW"}),icon:S.X8G,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"fJyJvk"}),icon:S.tx1,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"VPPO7T"}),icon:S.een,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"6QWJ67"}),icon:S.FVb,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"bT0M+P"}),type:"fun",icon:S.LBu,artifact:"document"}],en=()=>[{prompt:K.ag._({id:"xXvcr+"}),icon:S.q2v,type:"work",artifact:"deck"},{prompt:K.ag._({id:"VOdUia"}),icon:S.yOf,type:"work",artifact:"deck"},{prompt:K.ag._({id:"jimVcB"}),icon:S.bJI,type:"work",artifact:"deck"},{prompt:K.ag._({id:"a1YhjP"}),icon:S.ILF,type:"work",artifact:"deck"},{prompt:K.ag._({id:"6JKZ0b"}),icon:S.PK7,type:"work",artifact:"deck"},{prompt:K.ag._({id:"nR7t2g"}),icon:S.q2v,type:"work",artifact:"deck"},{prompt:K.ag._({id:"uQOk0H"}),icon:S.p2R,type:"work",artifact:"deck"},{prompt:K.ag._({id:"o8jXBg"}),icon:S.V3X,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"gElU4S"}),type:"work",icon:S.fGT,artifact:"webpage"}],ei=()=>[{prompt:K.ag._({id:"6vOwLL"}),icon:S.bhf,type:"work",artifact:"deck"},{prompt:K.ag._({id:"tu0rmw"}),icon:S.jZZ,type:"work",artifact:"deck"},{prompt:K.ag._({id:"tP4U3O"}),icon:S.Acd,type:"work",artifact:"deck"},{prompt:K.ag._({id:"jSMGRN"}),icon:S._zQ,type:"work",artifact:"deck"},{prompt:K.ag._({id:"6Vo4zF"}),icon:S.dkK,type:"work",artifact:"deck"},{prompt:K.ag._({id:"Ki8Mzz"}),icon:S.Xf_,type:"work",artifact:"deck"},{prompt:K.ag._({id:"d0vkkT"}),icon:S.HXv,type:"work",artifact:"deck"},{prompt:K.ag._({id:"FX+rEV"}),icon:S.dT$,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"LJoyjw"}),icon:S.yOe,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"I2RSm2"}),icon:S.dyi,type:"work",artifact:"deck"},{prompt:K.ag._({id:"oRQ3AS"}),type:"fun",icon:S.io7,artifact:"deck"},{prompt:K.ag._({id:"5mHzsl"}),type:"work",icon:S.IOb,artifact:"deck"}],er=()=>[{prompt:K.ag._({id:"jUY7QB"}),icon:S.XEC,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"Dm0E/i"}),icon:S.g4A,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"er0H+j"}),icon:S.yaV,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"/jlRrq"}),icon:S.Xf_,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"9ZJkJO"}),icon:S.VE0,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"8HIv1f"}),icon:S.cnt,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"P4NNIM"}),icon:S.xEp,type:"fun",artifact:"deck"}],eo=()=>[{prompt:K.ag._({id:"z9BKRx"}),icon:S.cwv,type:"work",artifact:"deck"},{prompt:K.ag._({id:"rhEf2n"}),icon:S.qxT,type:"work",artifact:"deck"},{prompt:K.ag._({id:"kLmaSc"}),icon:S.jPh,type:"work",artifact:"deck"},{prompt:K.ag._({id:"32bDbK"}),icon:S.DWN,type:"work",artifact:"deck"},{prompt:K.ag._({id:"FCjnNz"}),icon:S.U7t,type:"work",artifact:"deck"},{prompt:K.ag._({id:"hhny00"}),icon:S.ihg,type:"work",artifact:"deck"},{prompt:K.ag._({id:"GiJxP3"}),icon:S.$rF,type:"work",artifact:"deck"},{prompt:K.ag._({id:"EDUylO"}),icon:S.jZZ,type:"work",artifact:"deck"},{prompt:K.ag._({id:"b3NRze"}),icon:S.E9T,type:"work",artifact:"deck"},{prompt:K.ag._({id:"jyIlhY"}),type:"work",icon:S.Mw$,artifact:"deck"},{prompt:K.ag._({id:"sRLpel"}),type:"work",icon:S.GiY,artifact:"deck"}],es=()=>[{prompt:K.ag._({id:"HPvhIn"}),type:"work",icon:S.Stf,artifact:"deck"},{prompt:K.ag._({id:"3lctTF"}),icon:S.Stf,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"etsxle"}),type:"work",icon:S.lhK,artifact:"document"},{prompt:K.ag._({id:"ww+l5h"}),type:"fun",icon:S.vWT,artifact:"document"}],ea=()=>[{prompt:K.ag._({id:"qlwKtq"}),icon:S._C7,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"M7U1p2"}),icon:S.nkk,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"eIHwsO"}),type:"fun",icon:S.dER,artifact:"deck"},{prompt:K.ag._({id:"XZUS53"}),type:"fun",icon:S.QmK,artifact:"deck"},{prompt:K.ag._({id:"nn97aN"}),type:"fun",icon:S.Fli,artifact:"deck"},{prompt:K.ag._({id:"4pkbqe"}),type:"fun",icon:S.ytF,artifact:"deck"},{prompt:K.ag._({id:"raFuzm"}),type:"fun",icon:S.xTf,artifact:"deck"},{prompt:K.ag._({id:"qc/hyW"}),icon:S.But,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"gtqlRg"}),icon:S.sEp,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"tMeTk+"}),icon:S.NhH,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"JwKhV7"}),type:"fun",icon:S.g4A,artifact:"deck"},{prompt:K.ag._({id:"RE8MWx"}),type:"fun",icon:S.CjD,artifact:"deck"},{prompt:K.ag._({id:"3+3zfw"}),type:"fun",icon:S.FlN,artifact:"deck"},{prompt:K.ag._({id:"+ngjpx"}),type:"fun",icon:S.nkk,artifact:"deck"},{prompt:K.ag._({id:"znyENI"}),type:"fun",icon:S.Jnn,artifact:"deck"},{prompt:K.ag._({id:"ntD1J/"}),type:"fun",icon:S.ksp,artifact:"deck"},{prompt:K.ag._({id:"sXxsO8"}),type:"fun",icon:S.Elv,artifact:"deck"},{prompt:K.ag._({id:"814IWm"}),type:"fun",icon:S.Xig,artifact:"deck"},{prompt:K.ag._({id:"2GuYO+"}),icon:S.FcG,type:"work",artifact:"deck"},{prompt:K.ag._({id:"/DOuTv"}),type:"fun",icon:S.Dfm,artifact:"deck"},{prompt:K.ag._({id:"you5yT"}),icon:S.RRR,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"AItsa8"}),icon:S.d19,type:"fun",artifact:"webpage"},{prompt:K.ag._({id:"MfwlJs"}),type:"fun",icon:S.RcT,artifact:"webpage"},{prompt:K.ag._({id:"4yv77g"}),icon:S.HQd,type:"fun",artifact:"document"},{prompt:K.ag._({id:"3cKebJ"}),type:"fun",icon:S.thV,artifact:"document"},{prompt:K.ag._({id:"IMSFDD"}),icon:S.HQd,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"z4qYv+"}),icon:S.XCy,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"Fn+7Lk"}),icon:S.Elv,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"vppqKi"}),icon:S.CgH,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"xzJ0eW"}),icon:S.by_,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"ZbZjCz"}),icon:S.q2v,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"D1GFUx"}),icon:S.TRv,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"u+i9HG"}),icon:S.SBo,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"M9dp9c"}),icon:S.QNf,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"jEhpBa"}),icon:S.mbJ,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"9BZ9jQ"}),icon:S.Tab,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"NumOzw"}),icon:S.Vn$,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"c82E8n"}),icon:S.vNB,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"v5X7dm"}),icon:S.tMT,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"qpRqy5"}),icon:S.rQF,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"hRcqGm"}),icon:S.qxT,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"AIR0U6"}),icon:S.wDC,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"vptRa/"}),icon:S.dCw,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"H7DNgO"}),icon:S.YKZ,type:"fun",artifact:"deck"}],el=()=>[{prompt:K.ag._({id:"HGsbSz"}),type:"work",icon:S.TTu,artifact:"deck"},{prompt:K.ag._({id:"yt/k6I"}),icon:S.u13,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"Jqvt0L"}),type:"work",icon:S.mNe,artifact:"document"}],ec=()=>[{prompt:K.ag._({id:"n4a8iP"}),icon:S.KTG,type:"work",artifact:"deck"},{prompt:K.ag._({id:"5+KnDi"}),icon:S.VE0,type:"work",artifact:"deck"},{prompt:K.ag._({id:"kT/S2f"}),icon:S.EfQ,type:"work",artifact:"deck"},{prompt:K.ag._({id:"xdUU0C"}),icon:S.tMT,type:"work",artifact:"deck"},{prompt:K.ag._({id:"EJrpTq"}),icon:S.Stf,type:"work",artifact:"deck"},{prompt:K.ag._({id:"8GlKbZ"}),icon:S.g4A,type:"work",artifact:"deck"},{prompt:K.ag._({id:"EETVVN"}),icon:S.FVb,type:"work",artifact:"deck"},{prompt:K.ag._({id:"9eVkXK"}),icon:S.iGi,type:"work",artifact:"deck"},{prompt:K.ag._({id:"9HEcLR"}),icon:S.koM,type:"work",artifact:"deck"},{prompt:K.ag._({id:"0hgAA3"}),icon:S.J9Y,type:"work",artifact:"webpage"}],eu=()=>[{prompt:K.ag._({id:"J6sCsQ"}),icon:S.Poi,type:"fun",artifact:"deck"},{prompt:K.ag._({id:"NOzvim"}),type:"work",icon:S.wWp,artifact:"deck"},{prompt:K.ag._({id:"t/ny5a"}),type:"fun",icon:S.FVb,artifact:"deck"}],ed=()=>[{prompt:K.ag._({id:"X9g1U4"}),icon:S.cYw,type:"work",artifact:"deck"},{prompt:K.ag._({id:"9HiZDb"}),type:"work",icon:S.cYw,artifact:"document"}],eh=()=>[{prompt:K.ag._({id:"2DpRSo"}),icon:S.wn1,type:"work",artifact:"deck"},{prompt:K.ag._({id:"MDnCmX"}),icon:S.r$M,type:"work",artifact:"deck"},{prompt:K.ag._({id:"3kE2m2"}),icon:S.clv,type:"work",artifact:"deck"},{prompt:K.ag._({id:"lyawQk"}),icon:S.yOe,type:"work",artifact:"deck"},{prompt:K.ag._({id:"Zqh+Ff"}),icon:S.koM,type:"work",artifact:"deck"},{prompt:K.ag._({id:"Satk/X"}),icon:S.OGB,type:"work",artifact:"deck"},{prompt:K.ag._({id:"pRbfoj"}),icon:S.FVb,type:"work",artifact:"deck"},{prompt:K.ag._({id:"CoQWsB"}),icon:S.uqx,type:"work",artifact:"deck"},{prompt:K.ag._({id:"8flXsU"}),icon:S.TzT,type:"work",artifact:"deck"},{prompt:K.ag._({id:"QmyfID"}),icon:S.rxY,type:"work",artifact:"deck"}],ep=()=>[{prompt:K.ag._({id:"ke6b8l"}),icon:S.OS1,type:"work",artifact:"deck"},{prompt:K.ag._({id:"CDT0hH"}),icon:S.fkH,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"ZjzFyz"}),icon:S.BCn,type:"work",artifact:"webpage"},{prompt:K.ag._({id:"dQYE0e"}),type:"work",icon:S.Zr4,artifact:"webpage"},{prompt:K.ag._({id:"etsxle"}),type:"work",icon:S.lhK,artifact:"document"}],ef=()=>[{prompt:K.ag._({id:"ZQpymk"}),icon:S.N6K,type:"work",artifact:"document"}],em=()=>[...J(),...Q(),...ee(),...et(),...en(),...er(),...eo(),...ei(),...es(),...el(),...ec(),...eu(),...ed(),...eh(),...ep(),...ef(),...ea()],ex=()=>({deck:em().filter(e=>"deck"===e.artifact),document:em().filter(e=>"document"===e.artifact),webpage:em().filter(e=>"webpage"===e.artifact)});var eg=n(22902),ev=n(63304),ej=n(93202),eb=n(42111),ey=n(21733);let eC=()=>{let[e]=(0,ej.JBp)(),t=(0,a.useCallback)(async t=>{var n;let{prompt:i,format:r,locale:o,editorMode:s}=t,a=await e({variables:{input:{workspaceId:(0,ey.n_)(),generationType:ej.FJd.Generate,input:{format:r,prompt:i,settings:{...ev.zJ,...(0,ev.sJ)(r),imageProvider:eb.VH.get("aiGeneratorDefaultImageProvider"),locale:o,editorMode:s}}}}});return null===(n=a.data)||void 0===n?void 0:n.createDocGeneration},[e]);return t};var ek=n(5026),ew=n(50634),eD=n(48525),e_=n(45302),eE=n(16893),eS=n(62573),eA=n(36651),eT=n(50896);let eI=e=>e.replace(/^- /gm,"").split("\n").join("\n\n---\n\n"),eO=(0,a.memo)(()=>{let e=(0,F.p)(),t=(0,p.TL)(),{onDocGenerationLoaded:n,webpageOnly:s}=(0,c.R)(),l=eC(),h=(0,a.useRef)(null),[f,b]=(0,a.useState)(!1),y=(0,p.CG)(d.RB),C=y?"existing":"new",{canUpgrade:w,maxCards:D}=(0,ek.hw)(),_=(0,p.CG)(eS.Bf),[T,I]=(0,m.Q_)(),O=(0,a.useRef)(T),[M,V]=(0,m.Ns)("locale"),q=(0,p.CG)(d.g8),K=(0,p.CG)(d.$X),Y=(0,e_.jw)(M),J=(0,m.vS)(),{getEditorInstance:Q}=(0,u.vZ)(),[ee,et]=(0,a.useState)(s?"webpage":"deck"),en=(0,R.S)({base:3,md:6,default:3})||6,{generate:ei}=(0,ew.j)("GenerateOutlineSimple",{onStart(){t((0,d.tX)(!0)),J("",!1)},onContent(e){let t=eI(e);J(t,!1)},onComplete(e){var n;J(eI(e),!0),null===(n=Q())||void 0===n||n.commands.focus("start"),t((0,d.tX)(!1))},timeout:3e4}),er=(0,a.useCallback)(async()=>{let t=(0,eA.n_)();if(t)try{let{promise:e}=ei({variables:{topic:T,numBullets:q||ev.Qk,format:ee,language:Y.englishName||"English",model:eb.VH.get("llamaGenerate")?"meta-llama/Llama-3-8b-chat-hf":eb.VH.get("anthropicGenerate")?"claude-3-haiku-20240307":"gpt-3.5-turbo-1106"},workspaceId:t});await e}catch(t){console.error("[PromptAndOutlineSettings] error generating outline: ".concat(t.message)),e({status:"error",title:(0,i.jsx)(o.cC,{id:"RVmL+P"}),description:(0,i.jsx)(o.cC,{id:"fuwKpE"}),duration:5e3,isClosable:!0,position:"top"})}finally{(0,d.tX)(!1)}},[ei,Y.englishName,q,T,ee,e]),eo=(0,a.useCallback)(async()=>{K||(er(),b(!1))},[K,er]),es=(0,a.useCallback)(async()=>{if(!K){try{let r=await l({prompt:T,format:ee,locale:M,editorMode:"structured"});if(!r){e({title:(0,i.jsx)(o.cC,{id:"SlfejT"}),description:(0,i.jsx)(o.cC,{id:"J/Ajhz"}),status:"error",duration:5e3,isClosable:!0}),console.error("[PromptAndOutlingSettings]: No docGeneration found. This is unexpected.");return}t((0,d.Gn)(r)),null==n||n(r.id),er()}catch(e){console.error("[PromptAndOutlineSettings]: Error creating doc generation: ".concat(e.message))}b(!1)}},[l,t,K,M,er,n,T,ee,e]),ea=(0,eE.A)(ex),el=(0,a.useCallback)(e=>{var t,n;if(!e.shiftKey){if("Enter"===e.key){if(e.preventDefault(),K)return;y?eo():es(),b(!1),null==h||null===(t=h.current)||void 0===t||t.blur()}"Escape"===e.key&&f&&(b(!1),null===(n=h.current)||void 0===n||n.blur())}},[y,K,es,eo,f]),ec=(0,a.useCallback)(()=>{ed(X()(ea[ee]))},[ea,ee]),[eu,ed]=(0,a.useState)([]);return(0,a.useEffect)(()=>{0===eu.length&&_&&requestAnimationFrame(()=>{ed(X()(ex()[ee]))})},[ec,eu.length,ee,_]),(0,i.jsxs)(k.xu,{w:"100%",mt:{base:"2",md:"4"},children:[!1===s&&(0,i.jsx)(x.U,{in:"new"===C,children:(0,i.jsx)(j.W,{maxW:"sm",px:0,children:(0,i.jsx)(eg.FQ,{hideCheckbox:!0,setSelectedFormat:e=>{et(e),ed(X()(ea[e]))},selectedFormat:ee})})}),(0,i.jsx)(g.K,{spacing:{base:2,md:4},w:"100%",children:(0,i.jsxs)(k.xu,{w:"100%",textAlign:"center",children:[(0,i.jsxs)(g.K,{direction:{base:"column",sm:"row"},alignItems:{base:"flex-start",sm:"center"},justifyContent:"space-between",mb:"2",children:["existing"===C&&(0,i.jsx)(v.X,{size:"sm",fontWeight:"regular",color:"gray.800",textAlign:"left",children:(0,i.jsx)(o.cC,{id:"W9uQXX"})}),(0,i.jsxs)(N.U,{maxW:"100%",overflowX:"hidden",children:[w?(0,i.jsx)(eT.J,{cardCount:q,onChange:e=>{t((0,d.Go)(Number(e)))},maxCards:D}):(0,i.jsx)(eT.Y,{onIncrement:()=>{q!==ek.Fv&&t((0,d.O_)())},onDecrement:()=>{t((0,d.Jr)())},maxCards:D,cardCount:q,size:"sm"}),(0,i.jsx)(eD.k,{locale:Y,setLocale:V,buttonProps:{variant:"plain",size:"sm",textAlign:"left"}})]})]}),(0,i.jsxs)(P.B,{mb:{base:3,md:"5"},bg:"white",boxShadow:T||"existing"===C?"sm":"lg",borderRadius:"md",display:"flex",alignItems:"end",gap:"0",children:[(0,i.jsx)($.o,{ref:h,fontWeight:"500",placeholder:eF(),value:T,initialHeight:"1rem",border:"none",onChange:e=>{I(e.target.value)},onKeyDown:el,onFocus:()=>{O.current=T,b(!0)},onBlur:()=>{b(!1)},maxLength:500,p:{base:2.5,md:5},fontSize:{base:"md",md:"lg"}}),"existing"===C&&!f&&(0,i.jsx)(L.xW,{h:"100%",border:"none",bg:"none",p:{base:2,md:3},children:(0,i.jsx)(Z.kH,{label:(0,i.jsx)(o.cC,{id:"2b2I/9"}),placement:"top",children:(0,i.jsx)(z.h,{variant:"ghost",bg:"gray.50",color:"trueblue.400","aria-label":"Regenerate outline",isLoading:K,icon:(0,i.jsx)(A.G,{fixedWidth:!0,icon:S.SbL}),onClick:eo})})})]}),(0,i.jsx)(x.U,{in:!K&&"existing"===C&&f,children:(0,i.jsx)(g.K,{onFocusCapture:()=>{b(!0)},children:(0,i.jsxs)(G.h,{mx:"auto",size:{base:"md",md:"lg"},mb:"4",children:[(0,i.jsx)(E.z,{variant:"plain",onClick:()=>{b(!1),I(O.current)},children:(0,i.jsx)(o.cC,{id:"dEgA5A"})}),(0,i.jsx)(E.z,{variant:"solid",onClick:eo,children:(0,i.jsx)(o.cC,{id:"4tE6l+"})})]})})}),(0,i.jsx)(x.U,{in:!!("new"===C&&T),children:(0,i.jsx)(U.k,{w:"100%",justifyContent:"center",children:(0,i.jsx)(E.z,{isDisabled:!T||K,size:"lg",minW:{base:"100%",md:"16em"},onClick:es,variant:"solid",leftIcon:(0,i.jsx)(A.G,{icon:S.ddb}),children:(0,i.jsx)(o.cC,{id:"4tE6l+"})})})})]})}),(0,i.jsx)(x.U,{in:"new"===C&&!T,children:(0,i.jsxs)(g.K,{width:"100%",spacing:4,children:[(0,i.jsxs)(N.U,{w:"100%",spacing:"3",alignItems:"center",h:"10",children:[(0,i.jsx)(B.i,{borderColor:"blackAlpha.400"}),(0,i.jsx)(H.x,{flexShrink:"0",color:"gray.600",children:(0,i.jsx)(o.cC,{id:"hhefsV"})}),(0,i.jsx)(B.i,{borderColor:"blackAlpha.400"})]}),(0,i.jsx)(W.M,{columns:{base:1,md:3},spacing:{base:2,md:3},children:eu.length?eu.slice(0,en).map((e,t)=>(0,i.jsx)(eM,{starterPrompt:e,setPrompt:I},t)):Array.from({length:en}).map((e,t)=>(0,i.jsx)(eM,{isSkeleton:!0,starterPrompt:ea[ee][0],setPrompt:()=>{}},t))}),(0,i.jsx)(U.k,{justify:"center",w:"100%",children:(0,i.jsx)(E.z,{variant:"plain",size:{base:"sm",md:"md"},leftIcon:(0,i.jsx)(A.G,{icon:r.a_u}),onClick:ec,children:(0,i.jsx)(o.cC,{id:"gH5Gbn"})})})]})})]})});eO.displayName="PromptAndOutlineSettings";let eM=e=>{let{setPrompt:t,starterPrompt:n,isSkeleton:o}=e,s=(0,a.useCallback)(()=>{t(n.prompt)},[n.prompt,t]);return(0,i.jsx)(g.K,{as:E.z,direction:"row",alignItems:"flex-start",whiteSpace:"normal",textAlign:"left",display:"inline-flex",boxShadow:"sm",variant:"unstyled",h:"auto",p:3,spacing:3,bg:"whiteAlpha.700",border:"2px solid",borderColor:"transparent",borderRadius:"md",cursor:"pointer",_hover:{borderColor:"purple.400"},onClick:s,role:"group",minH:{base:"20",md:"24"},children:o?(0,i.jsxs)(N.U,{w:"100%",align:"top",children:[(0,i.jsx)(V.O,{boxSize:"4"}),(0,i.jsx)(q.N,{noOfLines:3,spacing:"2",skeletonHeight:"2",w:"100%"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.x,{color:"purple.300",_groupHover:{color:"purple.500"},children:(0,i.jsx)(A.G,{icon:n.icon,fixedWidth:!0})}),(0,i.jsx)(H.x,{title:n.prompt,fontSize:"sm",color:"gray.800",fontWeight:"medium",noOfLines:{base:2,md:3},flex:"1",children:n.prompt}),(0,i.jsx)(H.x,{fontSize:"sm",color:"blackAlpha.400",_groupHover:{color:"purple.500"},children:(0,i.jsx)(A.G,{icon:r.r8p,fixedWidth:!0})})]})})},eF=()=>K.ag._({id:"BiLwIi"}),eR=(0,a.memo)(e=>{let{goToThemeStep:t}=e,{skipThemeStep:n}=(0,c.R)(),r=(0,p.CG)(d.RB);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.U,{in:"new"==(r?"existing":"new"),children:(0,i.jsx)(g.K,{alignContent:"center",pt:{base:"9",md:"8vh"},w:"100%",children:(0,i.jsxs)(g.K,{spacing:{base:2,md:4},mb:{base:5,md:8},w:"100%",children:[(0,i.jsx)(v.X,{textAlign:"center",color:"gray.800",fontWeight:"600",fontFamily:"p22-mackinac-pro",w:"100%",size:{base:"xl",md:"2xl"},children:(0,i.jsx)(o.cC,{id:"ziAjHi"})}),(0,i.jsx)(v.X,{size:{base:"sm",md:"md"},textAlign:"center",fontWeight:"500",color:"blackAlpha.700",children:(0,i.jsx)(o.cC,{id:"yMWCRe"})})]})})}),(0,i.jsxs)(j.W,{maxW:"3xl",width:"100%",pb:{base:"120px",md:"150px"},children:[(0,i.jsx)(eO,{}),(0,i.jsx)(M,{})]}),r&&(0,i.jsx)(C.U,{cta:n?(0,i.jsx)(y.j,{children:(0,i.jsx)(o.cC,{id:"ziAjHi"})}):(0,i.jsx)(b.O,{onClick:t})})]})});eR.displayName="OutlineStep";var eN=n(13734),eP=n(8484);let eL=(0,a.memo)(e=>{let{autosetLocale:t}=e,[n,x]=(0,a.useState)("outline"),{webpageOnly:g,skipThemeStep:v,onGenerateSuccess:j}=(0,c.R)(),{query:b}=(0,s.useRouter)(),y=b.ref,C=(0,p.CG)(d.RB);(0,h.j)({queryKey:"ref"});let k=(0,p.TL)(),w=(0,p.qr)(),[D,_]=(0,m.Ns)("locale");(0,a.useEffect)(()=>{t&&_((0,f.K)())},[k,_,w]),(0,a.useEffect)(()=>()=>{k((0,d.mc)())},[]);let E=(0,a.useCallback)(()=>{x("outline")},[]),S=(0,a.useCallback)(()=>{v||x("theme")},[v]),A="new"==(C?"existing":"new")||"theme"===n?void 0:(0,i.jsx)(o.cC,{id:"ziAjHi"}),T=(0,a.useMemo)(()=>{let e;let t=("dashboard"===y||"sites-dashboard"==y)&&"outline"===n,s=t?(0,i.jsx)(o.cC,{id:"i0qMbr"}):(0,i.jsx)(o.cC,{id:"iH8pgl"}),a=t?r.J9Y:r.acZ,l={};return"theme"===n&&(l={position:"absolute"},e=E),{navLabel:s,navIcon:a,onClick:e,options:{ref:y},styleProps:l}},[E,y,n]);return(0,i.jsx)(u.jX,{children:(0,i.jsxs)(l.v4,{children:[(0,i.jsx)(eP.D,{...T,pageTitle:A}),"outline"===n?(0,i.jsx)(eR,{goToThemeStep:S}):(0,i.jsx)(eN.O,{})]})})});eL.displayName="CreateGeneratePage"},49516:function(e,t,n){"use strict";n.d(t,{j:function(){return et}});var i=n(52322),r=n(43297),o=n(28535),s=n(77533),a=n(11082),l=n(17993),c=n(74409),u=n(62614),d=n(54933),h=n(49929),p=n(5879),f=n(87254),m=n(2784),x=n(5632),g=n(76332),v=n(42111),j=n(91994),b=n(50260),y=n(21733),C=n(63304),k=n(39486),w=n(9449),D=n(31490),_=n(39122);let E={docFormatKey:"deck",imageOptions:{},lazyImages:!1,preserveLayouts:!0},S=()=>{let{push:e}=(0,x.useRouter)(),t=(0,j.qr)(),[n]=(0,g.Kb4)(),[i,r]=(0,m.useState)(!1),[o]=(0,g.JBp)(),[s]=(0,g.VS0)(),[a]=(0,g.Mhm)(),l=(0,m.useCallback)(async()=>{var e,t,i;let r=(0,D.nZ)(),s=(0,y.n_)(),a=await o({variables:{input:{workspaceId:(0,y.n_)(),generationType:g.FJd.UploadPpt,input:{interactionId:(0,D.nZ)(),settings:{...C.zJ},format:"deck"}}}}),l=null===(t=a.data)||void 0===t?void 0:null===(e=t.createDocGeneration.draftInput)||void 0===e?void 0:e.id;if(!l)throw Error("No docGenerateInputId");let c=await n({variables:{docGenerateInputId:l,options:{themeId:b.C4,cardDimensions:"16x9",aiOptions:{preserveLayouts:E.preserveLayouts,imageOptions:E.imageOptions}}}}),u=null===(i=c.data)||void 0===i?void 0:i.generateDoc;if(!u)throw Error("Could not create doc");return null==u||u.docGenerateInput.id,{docGenerateInputId:l,interactionId:r,workspaceId:s,docId:u.id}},[o,n]),[c]=(0,g.UoQ)(),u=(0,m.useCallback)(async e=>{var t;let{docId:n,themeId:i}=e,r=await c({variables:{id:n,themeId:i}});return null===(t=r.data)||void 0===t?void 0:t.updateDoc},[c]),d=(0,m.useCallback)(async e=>{var n,i;let r;let{file:o,docId:s,interactionId:l}=e;if(!o.thumbnails)throw Error("No thumbnails");let c=await a({variables:{input:{htmlUrl:o.htmlUrl,workspaceId:(0,y.n_)(),interactionId:l}}});if(!(null===(i=c.data)||void 0===i?void 0:null===(n=i.parsePptHtml)||void 0===n?void 0:n.slideHtml))throw Error("Could not parse ppt html");console.log("Got slides HTML",r=c.data.parsePptHtml.slideHtml);let{stream:u,cancel:d}=(0,w.ZE)({promptKey:"ImportPPT",interactionId:l,variables:{slidesHtml:r,thumbnails:o.thumbnails},workspaceId:(0,y.n_)()},{streamId:s,streamResumingEnabled:!0,retries:3});await (0,k.m3)({stream:u,onCancel:d,interactionId:l,options:E,bufferCards:1,store:t,docId:s}).promise},[a,t]),h=(0,m.useCallback)(async e=>{var t;let{interactionId:n,file:i,docId:r,docGenerateInputId:o}=e,a=await s({variables:{input:{interactionId:n,workspaceId:(0,y.n_)(),docId:r,docGenerateInputId:o,htmlUrl:i.htmlUrl,thumbnails:i.thumbnails}}}),l=null===(t=a.data)||void 0===t?void 0:t.generateImportPptThemes;if(!l)throw Error("Error generating theme");return l.themes},[s]),p=(0,m.useCallback)(async t=>{let{file:n}=t;console.log("[GENERATE] file",n),r(!0);try{let{docGenerateInputId:t,docId:i,interactionId:r,workspaceId:o}=await l();console.log("[GENERATE] createDoc",{docGenerateInputId:t,docId:i,interactionId:r,workspaceId:o});let s=d({file:n,docId:i,interactionId:r});if(v.VH.get("pptImportThemes")){let e=h({interactionId:r,file:n,docId:i,docGenerateInputId:t}),o=e.then(e=>(console.log("[GENERATE] themes",e),u({docId:i,themeId:e[0].id})));await Promise.all([o,s])}else await s;e("/docs/".concat(i,"?source=").concat(_.VY))}finally{r(!1)}},[l,d,h,e,u]);return{generate:p,isGenerating:i}};var A=n(93202),T=n(18153),I=n(26787),O=n(11050),M=n(86581),F=n(18455),R=n(17190),N=n(42946),P=n(82863),L=n(14274),z=n(51874),G=n(83633),U=n(8484);let B=e=>{let{children:t}=e,{query:n}=(0,x.useRouter)(),r="dashboard"===n.key?(0,i.jsx)(p.cC,{id:"i0qMbr"}):(0,i.jsx)(p.cC,{id:"iH8pgl"}),o="dashboard"===n.key?N.J9Y:N.acZ;return(0,i.jsx)(P.rg,{clientId:L.v.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,i.jsxs)(z.v4,{children:[(0,i.jsx)(U.D,{navLabel:r,navIcon:o,options:{ref:n.ref}}),(0,i.jsx)(G.U,{title:(0,i.jsx)(p.cC,{id:"eumYBf"}),subtitle:(0,i.jsx)(p.cC,{id:"7aFH7x"}),icon:(0,i.jsx)(h.G,{icon:d.Vmj}),iconBoxProps:{color:"purple.300"},children:(0,i.jsx)(R.W,{maxW:"3xl",children:t})})]})})};var H=n(29117),W=n(36474),V=n(32899),q=n(94523);let Z=e=>{let{importedFile:t,handleDelete:n,children:r}=e;return(0,i.jsxs)(l.g,{spacing:{base:8,md:10},maxW:"100%",w:"700px",alignSelf:"center",children:[(0,i.jsx)(l.g,{spacing:4,align:"stretch",w:"100%",children:(0,i.jsxs)(H.U,{justifyContent:"center",bg:"white",py:3,px:4,spacing:4,borderRadius:"md",shadow:"sm",children:[(0,i.jsx)(o.xu,{color:"green.500",fontSize:"lg",children:(0,i.jsx)(h.G,{icon:d.f8k})}),(0,i.jsx)(s.x,{noOfLines:1,children:null==t?void 0:t.filename}),(0,i.jsx)(W.L,{}),(0,i.jsx)(q.kH,{placement:"top",label:(0,i.jsx)(p.cC,{id:"cILfnJ"}),children:(0,i.jsx)(V.h,{onClick:n,variant:"ghost",colorScheme:"red","aria-label":f.ag._({id:"cILfnJ"}),icon:(0,i.jsx)(h.G,{icon:N.Vui})})})]})}),(0,i.jsx)(l.g,{spacing:4,w:"100%",children:r})]})};var K=n(82655),Y=n(22902);let X=(0,m.memo)(e=>{let{value:t,onSelect:n}=e;return(0,i.jsxs)(r.K,{direction:"row",mb:4,w:"100%",justifyContent:"center",children:[(0,i.jsx)(q.kH,{placement:"top",label:(0,i.jsx)(p.cC,{id:"MZZYy8"}),children:(0,i.jsx)(o.xu,{flex:"1",children:(0,i.jsx)(Y.qe,{label:(0,i.jsx)(p.cC,{id:"3b7s4O"}),icon:K.qHV,selectedIcon:d.qHV,onClick:()=>{n("vision")},description:(0,i.jsx)(p.cC,{id:"m7XeHS",components:{0:(0,i.jsx)("strong",{})}}),isSelected:"vision"===t})})}),(0,i.jsx)(q.kH,{placement:"top",label:(0,i.jsx)(p.cC,{id:"7IsDMu"}),children:(0,i.jsx)(o.xu,{flex:"1",children:(0,i.jsx)(Y.qe,{label:(0,i.jsx)(p.cC,{id:"jZBpoi"}),icon:K.JyM,selectedIcon:d.JyM,onClick:()=>{n("text")},isSelected:"text"===t,description:(0,i.jsx)(p.cC,{id:"piZd2g",components:{0:(0,i.jsx)("strong",{})}})})})})]})});X.displayName="PptImportTypeSelector";var $=n(704),J=n(96796),Q=n(76282);let ee={GoogleDocs:A.FJd.ImportGoogleDoc,GoogleSlides:A.FJd.ImportGoogleSlides,PptxUpload:A.FJd.UploadPpt,DocxUpload:A.FJd.UploadWordFile},et=(0,m.memo)(()=>{(0,T.j)({queryKey:"ref"});let e=(0,j.TL)(),t=(0,O.z$)(),{guessSettings:n,isLoading:x}=(0,J.d)(),{goToScreen:g}=(0,$.R)(),b=(0,v.ye)("pptImportV2"),[y,C]=(0,m.useState)("freeform"),k=(0,j.CG)(Q.$Q),w=(null==k?void 0:k.source)==="PptxUpload",[D,_]=(0,m.useState)("deck"),[E,A]=(0,m.useState)(b?"vision":"text"),R=(0,m.useCallback)(n=>{let{source:i,src:r}=n;e((0,Q.c_)(n)),"GoogleSlides"===i||"PptxUpload"===i?C("structured"):C("freeform"),null==t||t.track(O.AA.DOC_IMPORTED,{source:i,src:r,with_ai:!0})},[e,t]),{generate:N,isGenerating:P}=S(),L=(0,m.useCallback)(async()=>{if(!k)return;if(w&&b&&"vision"===E){await N({file:k});return}let e=ee[k.source],t=(0,F.B)(k.html,!1),i=(0,M.c$)(t),r="GoogleDocs"===k.source||"DocxUpload"===k.source;await n(e,{format:D,content:i,settings:{textMode:r&&"deck"==D?"condense":r||"document"!==D?"preserve":"generate",editorMode:y}})},[k,w,b,E,D,y,n,N]),z=(0,m.useCallback)(()=>{e((0,Q.c_)(void 0))},[e]);return(0,i.jsxs)(B,{children:[!k&&(0,i.jsxs)(r.K,{direction:"column",spacing:{base:6,md:8},align:"center",w:"100%",children:[(0,i.jsx)(I.v,{onImportComplete:R}),(0,i.jsx)(o.xu,{w:"100%",children:(0,i.jsx)(s.x,{textAlign:"center",color:"blackAlpha.800",children:(0,i.jsx)(p.cC,{id:"HmmZUO",components:{0:(0,i.jsx)(a.r,{textDecoration:"underline",fontWeight:"600",href:"/create/paste?ref=import",onClick:e=>{e.preventDefault(),g("createPaste",{ref:"import"})}})}})})})]}),k&&(0,i.jsxs)(Z,{importedFile:k,handleDelete:z,children:[!w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.g,{spacing:4,w:"100%",py:2,children:[(0,i.jsx)(c.X,{size:{base:"sm",md:"md"},textAlign:"center",fontWeight:"500",color:"blackAlpha.700",px:4,children:(0,i.jsx)(p.cC,{id:"SjATqV"})}),(0,i.jsx)(Y.FQ,{setSelectedFormat:_,selectedFormat:D})]}),(0,i.jsx)(o.xu,{width:"100%",children:(0,i.jsx)(u.z,{size:"lg",variant:"solid",rightIcon:(0,i.jsx)(h.G,{icon:d.eFW}),onClick:L,isLoading:x,loadingText:f.ag._({id:"qgUvjm"}),w:"100%",children:(0,i.jsx)(p.cC,{id:"xGVfLh"})})})]}),w&&(0,i.jsxs)(i.Fragment,{children:[b&&(0,i.jsxs)(l.g,{spacing:4,w:"100%",py:2,children:[(0,i.jsx)(c.X,{size:{base:"sm",md:"md"},textAlign:"center",fontWeight:"500",color:"blackAlpha.700",px:4,children:(0,i.jsx)(p.cC,{id:"ETAPks"})}),(0,i.jsx)(X,{value:E,onSelect:A})]}),"text"===E&&(0,i.jsxs)(l.g,{spacing:4,w:"100%",py:2,children:[(0,i.jsx)(c.X,{size:{base:"sm",md:"md"},textAlign:"center",fontWeight:"500",color:"blackAlpha.700",px:4,children:(0,i.jsx)(p.cC,{id:"SjATqV"})}),(0,i.jsx)(Y.FQ,{setSelectedFormat:_,selectedFormat:D})]}),(0,i.jsx)(o.xu,{width:"100%",children:(0,i.jsx)(u.z,{size:"lg",variant:"solid",rightIcon:(0,i.jsx)(h.G,{icon:d.eFW}),onClick:L,isLoading:x||P,loadingText:f.ag._({id:"qgUvjm"}),w:"100%",children:(0,i.jsx)(p.cC,{id:"xGVfLh"})})})]})]})]})});et.displayName="CreateImportPage"},49580:function(e,t,n){"use strict";n.d(t,{B:function(){return V}});var i=n(52322),r=n(17190),o=n(43297),s=n(69251),a=n(30523),l=n(11082),c=n(17993),u=n(74409),d=n(42822),h=n(67109),p=n(62614),f=n(42946),m=n(54933),x=n(49929),g=n(5879),v=n(2784),j=n(16983),b=n(51874),y=n(93202),C=n(42111),k=n(91994),w=n(36651),D=n(76282),_=n(83633),E=n(704),S=n(28535),A=n(77533),T=n(82554),I=n(36474),O=n(29117),M=n(87254),F=n(48832),R=n(90221),N=n(78462);let P="trueblue",L={[y.FJd.Generate]:(0,i.jsx)(g.cC,{id:"ziAjHi"}),[y.FJd.PasteText]:(0,i.jsx)(g.cC,{id:"HzVv6g"}),[y.FJd.ImportGoogleDoc]:(0,i.jsx)(g.cC,{id:"HzVv6g"}),[y.FJd.ImportGoogleSlides]:(0,i.jsx)(g.cC,{id:"l3s5ri"}),[y.FJd.UploadWordFile]:(0,i.jsx)(g.cC,{id:"l3s5ri"}),[y.FJd.UploadPpt]:(0,i.jsx)(g.cC,{id:"l3s5ri"})},z=e=>{let{count:t}=e;return(0,i.jsx)(i.Fragment,{children:[...Array(t)].map((e,t)=>(0,i.jsx)(B,{children:(0,i.jsxs)(o.K,{spacing:1,w:"100%",children:[(0,i.jsx)(h.O,{height:"1rem",borderRadius:"sm",w:"100%"}),(0,i.jsx)(S.xu,{w:"12rem",children:(0,i.jsx)(h.O,{height:"0.875rem",borderRadius:"sm",w:"100%"})})]})},t))})},G=e=>{for(let t of e)if(0!==t.trim().length&&"---"!==t.trim())return t.trim().replace(/^[#]{1,3}/,"");return M.ag._({id:"wja8aL"})},U=e=>{var t,n,r,o,s,a;let{docGeneration:l}=e,{goToScreen:c}=(0,E.R)(),u={whitespace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},d=(null===(t=l.draftInput)||void 0===t?void 0:t.prompt)||(null===(r=l.docGenerateInputs)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.prompt),h=(null===(o=l.draftInput)||void 0===o?void 0:o.content)||(null===(a=l.docGenerateInputs)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:s.content)||"",p=G(h.split("\n")),m=l.generationType===y.FJd.Generate&&d?d:p.slice(0,100),j=(0,F.BK)(l.updatedTime),b=0===l.docGenerateInputs.length,C=(0,N.Xn)(l),k=(0,v.useCallback)(()=>{l.generationType===y.FJd.Generate?c("createGenerate",{generateId:l.id}):c("promptEditor",{generateId:l.id})},[l.generationType,l.id,c]);return(0,i.jsxs)(B,{href:C,onClick:k,children:[(0,i.jsxs)(S.xu,{overflow:"hidden",maxW:"100%",children:[(0,i.jsx)(A.x,{...u,textAlign:"left",fontSize:{base:"sm",md:"md"},mb:[1,1.5],children:m}),(0,i.jsxs)(A.x,{...u,textAlign:"left",maxW:"100%",fontWeight:"400",fontSize:{base:"xs",md:"sm"},color:"gray.700",children:[L[l.generationType]," \xb7 ",j,b&&(0,i.jsxs)(i.Fragment,{children:[" \xb7 ",(0,i.jsx)(T.C,{colorScheme:"teal",children:(0,i.jsx)(g.cC,{id:"eneWvv"})})]})]})]}),(0,i.jsx)(I.L,{}),(0,i.jsx)(S.xu,{fontSize:{base:"sm",md:"md"},color:"blackAlpha.400",_groupHover:{color:"".concat(P,".500")},children:(0,i.jsx)(x.G,{icon:f._tD})})]})},B=e=>{let{children:t,href:n,onClick:r,...o}=e;return(0,i.jsx)(p.z,{as:l.r,href:n||void 0,onClick:e=>{e.preventDefault(),null==r||r()},bg:"white",borderRadius:"lg",display:"flex",border:"1px solid",boxShadow:"sm",borderColor:"white",variant:"plain",fontSize:"lg",py:4,spacing:"3",role:"group",minH:{base:16,md:20},_hover:(0,R.s2)()?{}:{color:"".concat(P,".600"),textDecoration:"none",boxShadow:"md"},...o,children:(0,i.jsx)(O.U,{spacing:"3",w:"100%",children:t})})};var H=n(8484);let W=e=>{let{createGenerateV2Enabled:t}=e;return{paste:{label:(0,i.jsx)(g.cC,{id:"Q4xH1Z"}),description:(0,i.jsx)(g.cC,{id:"MxbdK6"}),icon:m.nfZ,colorScheme:"pink",imageUrl:"/_next/static/media/Thumbnail-paste.fdba31f6.svg",transform:"rotate(-1.5deg) scale(0.84)",screen:"createPaste"},generate:{label:(0,i.jsx)(g.cC,{id:"ziAjHi"}),description:(0,i.jsx)(g.cC,{id:"anOFr5"}),icon:m.JyM,colorScheme:"trueblue",imageUrl:"/_next/static/media/Thumbnail-generate.8e2e4605.svg",isPopular:!0,screen:t?"createGenerate":"legacyGuidedMode"},import:{label:(0,i.jsx)(g.cC,{id:"2xoyqj"}),description:(0,i.jsx)(g.cC,{id:"5c5WYH"}),icon:m.Vmj,colorScheme:"purple",imageUrl:"/_next/static/media/Thumbnail-transform.76b5e76e.svg",transform:"rotate(1.5deg) scale(0.84)",screen:"createImport"}}},V=(0,v.memo)(()=>{var e;let t=(0,k.TL)(),{goToScreen:n,navEnabled:m}=(0,E.R)(),S=(0,w.n_)(),[A,T]=(0,v.useState)(!1),I=(0,C.ye)("createGenerateV2"),{data:O,fetchMore:M,loading:F}=(0,y.M1N)({variables:{workspaceId:S,first:5}}),R=null==O?void 0:O.docGenerations.pageInfo,N=(0,v.useCallback)(()=>{(null==R?void 0:R.hasNextPage)&&(null==R?void 0:R.endCursor)&&(T(!0),M({variables:{after:null==R?void 0:R.endCursor}}).finally(()=>{T(!1)}))},[M,R]),P=(0,v.useMemo)(()=>{var e;return(null==O?void 0:null===(e=O.docGenerations)||void 0===e?void 0:e.edges.map(e=>e.node))||[]},[null==O?void 0:null===(e=O.docGenerations)||void 0===e?void 0:e.edges]);return(0,i.jsxs)(b.v4,{children:[m&&(0,i.jsx)(H.D,{navLabel:(0,i.jsx)(g.cC,{id:"i0qMbr"}),navIcon:f.J9Y,options:{ref:"dashboard"}}),(0,i.jsx)(_.U,{title:(0,i.jsx)(g.cC,{id:"1zuBj5"}),subtitle:(0,i.jsx)(g.cC,{id:"h0sjMM"}),children:(0,i.jsx)(r.W,{maxW:"4xl",children:(0,i.jsx)(o.K,{spacing:12,align:"center",children:(0,i.jsx)(s.r,{gap:[4,4,2],gridTemplateAreas:{base:'"generate" "paste" "import"',md:'"paste generate import"'},gridTemplateColumns:{base:"1fr",md:"1fr 1fr 1fr"},width:"100%",children:Object.entries(W({createGenerateV2Enabled:I})).map(e=>{let[r,{label:o,description:s,isPopular:c,colorScheme:u,imageUrl:d,transform:h,screen:p}]=e;return(0,i.jsx)(a.P,{area:r,children:(0,i.jsx)(j.X,{as:l.r,label:o,description:s,isPopular:c,colorScheme:u,imageUrl:d,transform:h,onClick:e=>{t((0,D._8)()),e.preventDefault(),e.stopPropagation(),n(p)},ctaIcon:(0,i.jsx)(x.G,{icon:f.eFW}),ctaLabel:(0,i.jsx)(g.cC,{id:"xGVfLh"})})},r)})})})})}),(0,i.jsx)(r.W,{maxW:"2xl",pb:"10vw",children:(0,i.jsxs)(c.g,{align:"stretch",spacing:[2,3],children:[(0,i.jsx)(u.X,{fontSize:["lg","2xl"],mb:[2,3],textAlign:"center",fontWeight:"600",color:"gray.800",fontFamily:"p22-mackinac-pro",children:F?(0,i.jsx)(d.M,{children:(0,i.jsx)(h.O,{w:"50%",h:6})}):0===P.length?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(g.cC,{id:"yvKMb+"})}),(0,i.jsx)(c.g,{spacing:3,align:"stretch",children:F?(0,i.jsx)(z,{count:5}):(null==P?void 0:P.length)===0?(0,i.jsx)(i.Fragment,{}):P.map(e=>(0,i.jsx)(U,{docGeneration:e},e.id))}),A&&(0,i.jsx)(z,{count:5}),(null==R?void 0:R.hasNextPage)&&(0,i.jsx)(p.z,{leftIcon:(0,i.jsx)(x.G,{icon:f.r8p}),variant:"plain",boxShadow:"none",_hover:{bg:"white"},onClick:()=>N(),isLoading:A,children:(0,i.jsx)(g.cC,{id:"yQ2kGp"})})]})})]})});V.displayName="CreatePage"},49197:function(e,t,n){"use strict";n.d(t,{L:function(){return M}});var i=n(52322),r=n(17190),o=n(17993),s=n(28535),a=n(87651),l=n(74409),c=n(62614),u=n(77533),d=n(11082),h=n(42946),p=n(54933),f=n(49929),m=n(94523),x=n(5879),g=n(87254),v=n(2784),j=n(51874),b=n(45760),y=n(28918),C=n(93202),k=n(18153),w=n(91994),D=n(93546),_=n(96796),E=n(76282),S=n(54012),A=n(22902),T=n(83633),I=n(704),O=n(8484);let M=(0,v.memo)(()=>{let{guessSettings:e,isLoading:t}=(0,_.d)(),n=(0,w.CG)(E.au),[M,F]=(0,v.useState)(!1),[R,N]=(0,v.useState)("deck"),{goToScreen:P}=(0,I.R)(),L=(0,v.useCallback)(async()=>{let t=(0,S.Yl)(n),i=(0,S.vE)(n),r=(0,y.J1)(n);await e(C.FJd.PasteText,{format:R,content:n,settings:{textMode:r>=1e3?"document"===R?"preserve":"condense":"generate",editorMode:i>2&&t>5?"structured":"freeform"}})},[e,R,n]);return(0,k.j)({queryKey:"ref"}),(0,i.jsx)(b.jX,{children:(0,i.jsxs)(j.v4,{children:[(0,i.jsx)(O.D,{navLabel:(0,i.jsx)(x.cC,{id:"iH8pgl"}),navIcon:h.acZ}),(0,i.jsx)(T.U,{title:(0,i.jsx)(x.cC,{id:"RG+JLG"}),subtitle:(0,i.jsx)(x.cC,{id:"v2ydVh"}),icon:(0,i.jsx)(f.G,{icon:p.OEL}),iconBoxProps:{color:"salmon.300"},children:(0,i.jsx)(r.W,{maxW:"2xl",children:(0,i.jsxs)(o.g,{spacing:4,w:"100%",children:[(0,i.jsx)(o.g,{spacing:3,align:"stretch",w:"100%",children:(0,i.jsx)(D.e,{containerProps:{minH:{base:"270px",sm:"300px",md:"50vh"},maxH:"50vh",overflow:"auto"},hideFooter:!0,onEditorUpdate:e=>{let{editor:t}=e;F(!t.isEmpty)}})}),(0,i.jsx)(s.xu,{w:"100%",children:(0,i.jsx)(a.U,{in:M,children:(0,i.jsxs)(o.g,{spacing:4,py:2,w:"100%",children:[(0,i.jsx)(l.X,{size:{base:"sm",md:"md"},textAlign:"center",fontWeight:"500",color:"blackAlpha.700",px:4,children:(0,i.jsx)(x.cC,{id:"SjATqV"})}),(0,i.jsx)(A.FQ,{setSelectedFormat:N,selectedFormat:R})]})})}),(0,i.jsx)(m.kH,{label:n?"":(0,i.jsx)(x.cC,{id:"9IxKHJ"}),isDisabled:!!n,placement:"top",children:(0,i.jsx)(s.xu,{width:"100%",children:(0,i.jsx)(c.z,{size:"lg",minW:"16em",width:"100%",onClick:L,variant:"solid",rightIcon:(0,i.jsx)(f.G,{icon:h.eFW}),isLoading:t,isDisabled:!n,loadingText:g.ag._({id:"qgUvjm"}),children:(0,i.jsx)(x.cC,{id:"xGVfLh"})})})}),(0,i.jsx)(s.xu,{w:"100%",children:(0,i.jsx)(a.U,{in:!M,children:(0,i.jsx)(u.x,{textAlign:"center",color:"blackAlpha.800",children:(0,i.jsx)(x.cC,{id:"LVQnRo",components:{0:(0,i.jsx)(d.r,{onClick:e=>{e.preventDefault(),P("createImport",{ref:"paste"})},textDecoration:"underline",fontWeight:"600"})}})})})})]})})})]})})});M.displayName="CreatePastePage"},22902:function(e,t,n){"use strict";n.d(t,{FQ:function(){return j},_J:function(){return g},qe:function(){return v}});var i=n(52322),r=n(43297),o=n(62614),s=n(28535),a=n(77533),l=n(82655),c=n(42946),u=n(54933),d=n(49929),h=n(94523),p=n(87254),f=n(2784),m=n(16893),x=n(90221);let g=()=>({deck:{label:()=>p.ag._({id:"FOoDGS"}),selectedIcon:u.s2,icon:l.s2,description:()=>p.ag._({id:"EPYCou"})},webpage:{label:()=>p.ag._({id:"On0aF2"}),selectedIcon:u.tc$,icon:l.tc$,description:()=>p.ag._({id:"C90Qtf"})},document:{label:()=>p.ag._({id:"7Zdnlq"}),selectedIcon:u.OEL,icon:l.OEL,description:()=>p.ag._({id:"nM2WM0"})}}),v=e=>{let{label:t,icon:n,description:l,selectedIcon:h,isSelected:p,onClick:f,hideCheckbox:m}=e,g="purple.500";return(0,i.jsxs)(r.K,{as:o.z,h:"auto",textShadow:"none",variant:"plain",p:{base:2,sm:3},minW:20,spacing:1,w:"100%",cursor:"pointer",textAlign:"center",transition:"all 300ms ease",border:"2px solid",bg:p?"white":"whiteAlpha.800",borderRadius:"md",boxShadow:"sm",borderColor:p?g:"whiteAlpha.400",color:p?"trueblue.700":"gray.800",onClick:f,_hover:(0,x.s2)()?{color:"gray.800"}:{bg:"trueblue.50",borderColor:"trueblue.400"},position:"relative",children:[!m&&(0,i.jsx)(s.xu,{fontSize:"md",position:"absolute",left:1.5,top:1.5,color:p?g:"gray.200",children:(0,i.jsx)(d.G,{icon:p?u.f8k:c.diR})}),(0,i.jsx)(s.xu,{fontSize:{base:"lg",sm:"xl"},color:p?"trueblue.600":"trueblue.300",children:(0,i.jsx)(d.G,{icon:p?h:n})}),(0,i.jsx)(a.x,{fontSize:{base:"xs",md:"sm"},fontWeight:"500",noOfLines:1,children:t}),l&&(0,i.jsx)(a.x,{mt:2,fontSize:"xs",fontWeight:"500",whiteSpace:"normal",children:l})]})},j=(0,f.memo)(e=>{let{setSelectedFormat:t,selectedFormat:n,hideCheckbox:o}=e,a=(0,m.A)(g);return(0,i.jsx)(r.K,{direction:"row",mb:4,w:"100%",justifyContent:"center",children:Object.entries(a).map(e=>{let[r,{label:a,icon:l,selectedIcon:c,description:u}]=e;return(0,i.jsx)(h.kH,{placement:"top",label:u(),children:(0,i.jsx)(s.xu,{flex:"1",children:(0,i.jsx)(v,{label:a(),icon:l,selectedIcon:c,hideCheckbox:o,onClick:()=>{t(r)},isSelected:r===n})})},r)})})});j.displayName="FormatPickerComponent"},83633:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var i=n(52322),r=n(43297),o=n(74409),s=n(28535),a=n(38035);let l=e=>{let{title:t,subtitle:n,icon:l,iconBoxProps:c,children:u}=e;return(0,i.jsxs)(r.K,{alignContent:"center",position:"relative",zIndex:"0",spacing:0,py:{base:"9",md:"8vh"},w:"100%",children:[(0,i.jsxs)(r.K,{spacing:{base:2,md:4},mb:{base:5,md:8},w:"100%",children:[null!==t&&(0,i.jsxs)(o.X,{textAlign:"center",color:"gray.800",fontWeight:"600",fontFamily:"p22-mackinac-pro",w:"100%",size:{base:"xl",md:"2xl"},px:4,children:[l&&(0,i.jsx)(s.xu,{display:"inline",mr:2,...c,children:l}),t]}),n&&(0,i.jsx)(o.X,{size:{base:"sm",md:"md"},textAlign:"center",fontWeight:"500",color:"blackAlpha.700",px:4,children:n})]}),(0,i.jsx)(a.k,{w:"100%",justifyContent:"center",children:u})]})}},21723:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var i=n(52322),r=n(38035),o=n(2784),s=n(71113),a=n(67496),l=n(51874);let c=(0,o.memo)(e=>{let{id:t,children:n}=e,{isLoading:o}=(0,a.HL)({id:t});return o?(0,i.jsx)(r.k,{...l.ZQ,w:"100%",h:"100%",flex:1,alignSelf:"center",children:(0,i.jsx)(s.AA,{})}):(0,i.jsx)(i.Fragment,{children:n})});c.displayName="LoadDocGenerationPage"},704:function(e,t,n){"use strict";n.d(t,{R:function(){return o},u:function(){return r}});var i=n(2784);let r=(0,i.createContext)({goToScreen:()=>{throw Error("goToScreen not available. Did you forget to wrap your component in RouterNavigationContext?")},goBack:()=>{throw Error("goBack not available. Did you forget to wrap your component in RouterNavigationContext?")},onDocGenerationLoaded:()=>{},navEnabled:!0,webpageOnly:!1,skipThemeStep:!1}),o=()=>(0,i.useContext)(r)},13734:function(e,t,n){"use strict";n.d(t,{O:function(){return et}});var i=n(52322),r=n(38035),o=n(2784),s=n(91994),a=n(14324),l=n(67613),c=n(46409),u=n(90221),d=n(93441),h=n(28535),p=n(17993),f=n(62614),m=n(28165),x=n(54933),g=n(49929),v=n(5879),j=n(38045),b=n(4742),y=n.n(b),C=n(9850),k=n.n(C),w=n(86113),D=n(27333),_=n(52394),E=n(75586),S=n(31709),A=n(32186),T=n(6370),I=n(96933),O=n(87205),M=n(74153),F=n(75816),R=n(50260),N=n(22569);let P=e=>{let{theme:t}=e,n=t||R.mU,{isLoadingThemes:r}=(0,a.a)(),o=(0,N.R5)(n),s=(0,R.wj)(n),l=(0,N.wh)(o,s),c=r?{}:l;return(0,i.jsx)(h.xu,{...c,w:"100vw",h:"100%",position:"fixed",zIndex:-1,opacity:1,"data-theme-picker-background":!0,transitionProperty:"background-color, background-image",transitionDuration:"1s",inset:"0px"})},L=(0,j.E)(h.xu),z=e=>{let{card:t,theme:n,...r}=e,s=(0,o.useMemo)(()=>{if(t)return(0,S.vL)({docFlags:{cardLayoutsEnabled:!0}},[t])},[t]);return(0,i.jsx)(L,{pointerEvents:"none",sx:{"*":{backdropFilter:"none !important",transitionProperty:"background-color, color, border-color, padding, margin, width, maxWidth, fontSize",transitionDuration:".15s",[".button .".concat(D.A8)]:{transitionProperty:"none"}},".doc-content-wrapper *[data-doc-background-element], .motion-present-mode-bg":{display:"none"},".card-wrapper,.card-body,.doc-content-wrapper":{padding:0,margin:0,minHeight:"auto"},"[data-card-body]":{"--card-color-transparent":"var(--card-color)","--card-width":"60rem"}},...r,children:s&&n&&(0,i.jsx)(A.m,{content:s,initialContent:s,theme:n})})},G=(e,t,n)=>{let i=0,r=e=>{var o;return null===(o=e.content)||void 0===o?void 0:o.map(e=>{var o,s,a,l,c,u,d;let h={...e,attrs:{...e.attrs}};if("image"===e.type){let e=t.shift();e&&(h.attrs.src=e.imageUrl,h.attrs.tempUrl=e.imageUrl)}if("cardAccentLayoutItem"===e.type&&(null===(a=e.attrs)||void 0===a?void 0:null===(s=a.background)||void 0===s?void 0:null===(o=s.image)||void 0===o?void 0:o.src)){let e=null==n?void 0:null===(d=n.config)||void 0===d?void 0:null===(u=d.accentBackgrounds)||void 0===u?void 0:u[i];e&&(i++,h.attrs.background=e)}if("smartLayoutCell"===e.type&&(null===(c=e.attrs)||void 0===c?void 0:null===(l=c.image)||void 0===l?void 0:l.src)==="custom"){let e=t.shift();e&&(h.attrs.image.src=e.imageUrl,h.attrs.image.tempUrl=e.imageUrl)}return e.content&&(h.content=r(h)),h})};return Object.assign({},e,{content:r(e)})},U=e=>{e&&requestAnimationFrame(()=>{var t;return null===(t=document.querySelector('[data-theme-id="'.concat(e,'"]')))||void 0===t?void 0:t.scrollIntoView({behavior:"smooth"})})},B=e=>{let{images:t}=e,n=(0,s.TL)(),a=(0,s.CG)(l.ez),c=(0,s.CG)(l.$b),u=(0,T.zE)(),[d,h]=(0,M.Ns)("themeId"),j=a.find(e=>d===e.id);(0,o.useEffect)(()=>{if(d||!(null==a?void 0:a.length))return;n((0,l.uG)({activeView:"standard"}));let e=y()(c),t=(null==u?void 0:u.defaultThemeId)||(null==e?void 0:e.id);t&&(h(t),U(t))},[n,d,c,a,h,null==u?void 0:u.defaultThemeId]);let b=(0,o.useMemo)(()=>{let e=k()((0,w.s)()),n=G(e,k()(t),j);return n.content[0].content||[]},[j,t]),C=(0,o.useCallback)(()=>{if(!a)return;let e=y()(a);e&&(h(e.id),(null==e?void 0:e.workspaceId)?n((0,l.uG)({activeView:"custom"})):n((0,l.uG)({activeView:"standard"})),U(null==e?void 0:e.id))},[n,h,a]),D=(0,I.i)({base:0,"4xl":300})||0,S=(0,I.i)({base:600,xl:250,"4xl":0})||0,R=(0,I.i)({base:0,xl:1})||0,N=(0,I.i)({base:.5,lg:.6,xl:.7,"2xl":.85,"3xl":1,"4xl":1.125});return(0,o.useEffect)(function(){a&&0!==a.length&&Promise.all(a.map(e=>{var t,n,i,r,o,s,a,l,c,u;(null===(i=e.config.accentBackgrounds)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.image)||void 0===t?void 0:t.src)&&(0,O.GN)(null===(l=e.config.accentBackgrounds)||void 0===l?void 0:null===(a=l[0].image)||void 0===a?void 0:a.src),(null===(s=e.config.accentBackgrounds)||void 0===s?void 0:null===(o=s[1])||void 0===o?void 0:null===(r=o.image)||void 0===r?void 0:r.src)&&(0,O.GN)(null===(u=e.config.accentBackgrounds)||void 0===u?void 0:null===(c=u[1].image)||void 0===c?void 0:c.src)}))},[a]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{theme:j}),(0,i.jsxs)(r.k,{zIndex:1,py:0,px:6,sx:A.n,"data-theme-desktop-root":!0,position:"relative",children:[(0,i.jsx)(m.xB,{styles:{html:{overflowX:"hidden",overflowY:"auto"}}}),(0,i.jsxs)(r.k,{direction:"column",pos:"relative",flex:1,h:"100%",transform:"scale(".concat(N,")"),justifyContent:"center",alignItems:"center",ml:[40,35,30,20,0],"data-id":"theme-picker-desktop-cards",children:[(0,i.jsx)(z,{pos:"absolute",theme:j,card:b[2],initial:{opacity:0},animate:{opacity:1,translateX:0,transition:{opacity:{duration:.5,delay:0,ease:"easeOut"},default:{duration:2,ease:"easeOut"}}},zIndex:1}),(0,i.jsx)(z,{pos:"absolute",theme:j,card:b[0],initial:{translateX:0,opacity:0},animate:{translateX:D,translateY:S,rotate:-R,opacity:1,transition:{default:{duration:2,delay:.5,ease:"easeOut"}}}}),(0,i.jsx)(z,{pos:"absolute",theme:j,card:b[1],initial:{translateX:0,opacity:0},transformOrigin:"center",animate:{translateX:-D,translateY:-S,rotate:R,opacity:1,transition:{default:{duration:2,delay:.5,ease:"easeOut"}}}})]}),(0,i.jsxs)(r.k,{w:"420px",p:6,direction:"column",justifyContent:"center",bg:"whiteAlpha.900",borderRadius:"lg",h:"calc(100vh - var(--chakra-sizes-20))",minH:"700px",mb:4,shadow:"md",pos:"relative",position:"sticky",mt:6,children:[(0,i.jsx)(E.v,{title:(0,i.jsx)(v.cC,{id:"cQGp8b"}),description:(0,i.jsxs)(p.g,{w:"100%",align:"center",justify:"center",children:[(0,i.jsx)(F.j,{w:"100%",children:(0,i.jsx)(v.cC,{id:"ziAjHi"})}),(0,i.jsx)(f.z,{w:"100%",leftIcon:(0,i.jsx)(g.G,{icon:x.a_u,color:"var(--chakra-colors-trueblue-800)"}),size:"md",onClick:C,children:(0,i.jsx)(v.cC,{id:"B8w15Q"})})]}),stackProps:{pb:4},currentTheme:j}),(0,i.jsx)(_.t,{shouldScrollToCurrent:!0,currentTheme:j,setTheme:e=>{h(null==e?void 0:e.id)},flexProps:{overflowY:"auto",mx:-6,px:3}})]})]})]})};var H=n(43297),W=n(74409),V=n(77533),q=n(75768),Z=n(29117),K=n(42946),Y=n(43997),X=n(8393),$=n(93202),J=n(18438),Q=n(36651);let ee=()=>{let e=(0,o.useRef)(!1),t=(0,s.CG)(l.Y3),n=(0,s.CG)(l.$b),[a,c]=(0,M.Ns)("themeId",{debounce:500}),[u,d]=(0,o.useState)(()=>t.find(e=>e.id===a)),p=(0,Y.I0)(),{currentWorkspace:x}=(0,Q.SE)(),{data:j}=(0,$.WaV)({variables:{id:null==x?void 0:x.id},skip:!(null==x?void 0:x.id)}),b=null==j?void 0:j.workspace,C=(0,s.CG)(l.C0),k=(0,s.CG)(l.FM),w=u?(0,R.wj)(u):void 0;(0,o.useEffect)(()=>{if(a||!(null==n?void 0:n.length)||e.current)return;let i=y()(n),r=t.find(e=>e.id===(null==b?void 0:b.defaultThemeId)),o=r||i;if(o){var s;p((0,l.uG)({activeView:"standard"})),d(o),null===(s=document.querySelector('[data-theme-mobile-preview="'.concat(o.id,'"]')))||void 0===s||s.scrollIntoView(),e.current=!0}},[p,n,a,t,null==b?void 0:b.defaultThemeId]),(0,o.useEffect)(()=>{var t;!e.current&&a&&u&&(u.workspaceId?p((0,l.uG)({activeView:"custom"})):p((0,l.uG)({activeView:"standard"})),null===(t=document.querySelector('[data-theme-mobile-preview="'.concat(u.id,'"]')))||void 0===t||t.scrollIntoView(),e.current=!0)},[p,u,a]);let D=(0,o.useCallback)(e=>{let{scrollLeft:n,scrollWidth:i,clientWidth:r}=e.target,o=Math.round(n/(i-r)*(t.length-1)),s=t[o];s.id!==(null==u?void 0:u.id)&&d(s)},[t,null==u?void 0:u.id,d]),_=(0,o.useCallback)(()=>{(null==u?void 0:u.id)&&c(u.id)},[null==u?void 0:u.id,c]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{theme:u}),(0,i.jsxs)(H.K,{spacing:0,h:"100%",w:"100vw",children:[(0,i.jsx)(m.xB,{styles:{html:{height:"100%"},body:{height:"100%"}}}),(0,i.jsxs)(H.K,{spacing:0,mx:"auto",zIndex:1,px:6,pt:20,sx:A.n,w:"100%",children:[(0,i.jsxs)(H.K,{align:"center",spacing:1,children:[(0,i.jsx)(W.X,{letterSpacing:"-0.04em",fontWeight:"700",fontFamily:"p22-mackinac-pro",color:w?"#FFFFFF":"#0a1629",w:"100%",size:"2xl",transitionProperty:"common",transitionDuration:"normal",children:(0,i.jsx)(v.cC,{id:"cQGp8b"})}),(0,i.jsx)(V.x,{fontSize:"lg",color:w?"#FFFFFF":"#0a1629",letterSpacing:"-0.04em",transitionProperty:"common",transitionDuration:"normal",children:(0,i.jsx)(v.cC,{id:"950yV9"})})]}),C&&(0,i.jsxs)(q.h,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",pt:2,justifyContent:"center",children:[(0,i.jsx)(f.z,{borderRadius:"full",leftIcon:(0,i.jsx)(g.G,{icon:K.D0h,fixedWidth:!0}),"data-theme-picker-active-view-button":"custom",colorScheme:"custom"===k?"trueblue":"gray",bg:"custom"===k?"trueblue.100":"gray.100",onClick:()=>p((0,l.uG)({activeView:"custom"})),children:(0,i.jsx)(v.cC,{id:"8Tg/JR"})}),(0,i.jsx)(f.z,{borderRadius:"full",leftIcon:(0,i.jsx)(h.xu,{w:3.5,children:(0,i.jsx)(X.Y,{})}),"data-theme-picker-active-view-button":"standard",colorScheme:"standard"===k?"trueblue":"gray",bg:"standard"===k?"trueblue.100":"gray.100",onClick:()=>p((0,l.uG)({activeView:"standard"})),children:(0,i.jsx)(v.cC,{id:"TJBHlP"})})]})]}),(0,i.jsx)(r.k,{zIndex:1,pos:"relative",overflow:"auto",py:8,sx:{"scroll-snap-type":"x mandatory"},onScroll:D,children:(0,i.jsx)(Z.U,{flex:1,spacing:6,px:12,pt:1,children:t.map(e=>(0,i.jsx)(J.L,{isSelected:e.id===(null==u?void 0:u.id),theme:e},e.id))})}),(0,i.jsx)(r.k,{px:6,py:4,mb:2,justify:"center",zIndex:9,w:"100%",children:(0,i.jsx)(F.j,{size:"lg",w:"100%",onClick:_,children:(0,i.jsx)(v.cC,{id:"ziAjHi"})})})]})]})},et=(0,o.memo)(e=>{let{images:t=[]}=e;(0,a.a)();let n=(0,s.CG)(l.ez);return(0,d.gF)()&&(null==n?void 0:n.length)?(0,i.jsxs)(r.k,{direction:"column",justifyContent:"flex-start",flex:1,w:"100vw",h:"100%",children:[(0,i.jsx)(c.Y,{}),(0,u.s2)()?(0,i.jsx)(ee,{}):(0,i.jsx)(B,{images:t})]}):null});et.displayName="ThemeStep"},8484:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var i=n(52322),r=n(29117),o=n(38035),s=n(62614),a=n(74409),l=n(42946),c=n(49929),u=n(5879),d=n(704);let h=e=>{let{navLabel:t=(0,i.jsx)(u.cC,{id:"iH8pgl"}),navIcon:n=l.acZ,onClick:h,options:p,pageTitle:f,pageIcon:m,rightItem:x,centerItem:g,styleProps:v}=e,{goBack:j,navEnabled:b}=(0,d.R)();return(0,i.jsxs)(r.U,{px:4,position:"relative",zIndex:"10",width:"100%",spacing:3,alignItems:"flex",...v,children:[(0,i.jsx)(o.k,{flex:"1",children:b&&(0,i.jsx)(s.z,{size:"sm",leftIcon:(0,i.jsx)(c.G,{icon:n,fixedWidth:!0}),variant:"plain",bg:"white",borderRadius:"md",boxShadow:"sm",border:"none",onClick:()=>{h?h():j(p)},children:t})}),(0,i.jsx)(o.k,{flex:"3",align:"center",justify:"center",children:g||(0,i.jsxs)(r.U,{justifyContent:"center",w:"100%",children:[m&&m,f&&(0,i.jsx)(a.X,{fontWeight:"600",fontSize:{base:"md",sm:"lg",md:"xl"},fontFamily:"p22-mackinac-pro",children:f})]})}),(0,i.jsx)(o.k,{flex:"1",justifyContent:"flex-end",alignItems:"center",children:x})]})}},75258:function(e,t,n){"use strict";n.d(t,{D:function(){return x},x:function(){return g}});var i=n(52322),r=n(75768),o=n(62614),s=n(42946),a=n(49929),l=n(94523),c=n(87254),u=n(2784),d=n(76282),h=n(91994),p=n(45339),f=n(74153),m=n(96933);let x={freeform:{label:()=>c.ag._({id:"Jn5DbR"}),icon:s.elf,description:()=>c.ag._({id:"f15rRF"}),tip:()=>c.ag._({id:"y8DgoV"})},structured:{label:()=>c.ag._({id:"2PPaNm"}),icon:s.s2,description:()=>c.ag._({id:"on9ayD"}),tip:()=>c.ag._({id:"G7ngQL"})}},g=(0,u.memo)(()=>{let[e,t]=(0,f.Ns)("editorMode"),n=(0,h.CG)(d.Vn),{onChangeMode:s}=(0,p.N)(),c=(0,m.i)({base:!1,sm:!0});return(0,i.jsx)(r.h,{isAttached:!0,isDisabled:n,children:Object.entries(x).map(n=>{let[r,{label:u,description:d,icon:h}]=n,p=r===e;return(0,i.jsx)(l.kH,{label:d(),placement:"top",children:(0,i.jsx)(o.z,{size:"sm",leftIcon:c?(0,i.jsx)(a.G,{icon:h,fixedWidth:!0}):void 0,variant:p?"plainSelected":"plain",onClick:()=>{t(r),s()},boxShadow:"none",children:u()})},r)})})});g.displayName="ModeSwitcher"},33872:function(e,t,n){"use strict";n.d(t,{$3:function(){return A},Td:function(){return E},p3:function(){return T}});var i=n(52322),r=n(17993),o=n(75768),s=n(62614),a=n(75009),l=n(28535),c=n(82554),u=n(35183),d=n(97166),h=n(29494),p=n(54933),f=n(49929),m=n(94523),x=n(5879),g=n(87254),v=n(2784),j=n(42111),b=n(99787),y=n(72263),C=n(9883),k=n(68728),w=n(61185),D=n(74153),_=n(39092);let E=(0,v.memo)(()=>{let[e]=(0,D.Ns)("imageProvider"),t=w.s[e]||b.QT,[n]=(0,D.Ns)("imageLicense"),o=(0,k.E)(n),[s]=(0,D.Ns)("imageStyle",{debounce:500});return(0,i.jsx)(_.j,{label:(0,i.jsx)(x.cC,{id:"an5hVd"}),colorScheme:"trueblue",icon:p.VmB,values:[null==t?void 0:t.label(),"web"===e&&o,"aiGenerated"===e&&s],children:(0,i.jsxs)(r.g,{spacing:4,children:[(0,i.jsx)(A,{}),(0,i.jsx)(T,{})]})})});E.displayName="ImageSettingsGroup";let S=(0,v.memo)(e=>{let{provider:t,setProvider:n}=e;return(0,i.jsx)(o.h,{isAttached:!0,size:"sm",display:"flex",children:Object.entries(w.s).map(e=>{let[r,{label:o,icon:u,image:d,badge:h,description:p}]=e,x=t.key===w.Q[r];return(0,i.jsx)(m.kH,{label:p?p():void 0,placement:"top",children:(0,i.jsxs)(s.z,{leftIcon:d?(0,i.jsx)(a.E,{display:"inline",mr:2,h:"1em",w:"1em",objectFit:"contain",src:d.src}):u?(0,i.jsx)(l.xu,{display:"inline",mr:2,color:"trueblue.600",children:(0,i.jsx)(f.G,{icon:u})}):void 0,variant:x?"plainSelected":"plain",boxShadow:"none",flex:"1",onClick:()=>n(r),children:[o(),h&&(0,i.jsx)(c.C,{ml:2,colorScheme:"green",children:h()})]})},r)})})});S.displayName="ImageProviderPicker";let A=()=>{let[e,t]=(0,D.Ns)("imageProvider"),n=w.s[e]||b.QT;return(0,i.jsxs)(u.NI,{children:[(0,i.jsx)(d.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"qA0pmh"})}),(0,i.jsx)(S,{provider:n,setProvider:t})]})},T=()=>{let[e]=(0,D.Ns)("imageProvider"),[t,n]=(0,D.Ns)("imageLicense"),[r,o]=(0,D.Ns)("imageStyle",{debounce:500}),s=(0,j.ye)("aiGeneratedImagesDefaultModel"),[a,l]=(0,D.Ns)("imageModel"),c=(0,y.oj)();return(0,v.useEffect)(()=>{a&&(c(a)||l(s))},[a,s,l,c]),(0,i.jsxs)(i.Fragment,{children:["web"===e&&(0,i.jsxs)(u.NI,{children:[(0,i.jsx)(d.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"6TSHCF"})}),(0,i.jsx)(k.A,{value:t,onChange:n})]}),"aiGenerated"===e&&(0,i.jsxs)(u.NI,{children:[(0,i.jsx)(d.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"X2yiuT"})}),(0,i.jsx)(h.g,{value:r,onChange:e=>o(e.target.value),placeholder:g.ag._({id:"5x/foo"}),rows:2})]}),"aiGenerated"===e&&(0,i.jsxs)(u.NI,{children:[(0,i.jsx)(d.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"emv9SK"})}),(0,i.jsx)(C.q,{value:a||s,setValue:l})]})]})}},39092:function(e,t,n){"use strict";n.d(t,{i:function(){return b},j:function(){return j}});var i=n(52322),r=n(87436),o=n(95897),s=n(29117),a=n(28535),l=n(43297),c=n(77533),u=n(36474),d=n(89511),h=n(11121),p=n(67109),f=n(49929),m=n(2784),x=n(76282),g=n(91994);let v={_groupHover:{color:"purple.600"}},j=(0,m.memo)(e=>{let{icon:t,colorScheme:n="gray",label:m,values:j=[],children:b}=e,y=(0,g.CG)(x.RB);return(0,i.jsx)(r.Q,{border:"none",children:e=>{let{isExpanded:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.K,{_focus:{boxShadow:"none",outline:"none"},py:2,p:3,outline:"none",transitionProperty:"common",transitionDuration:"normal",bg:"transparent",_hover:{bg:"".concat(n,".50")},children:(0,i.jsxs)(s.U,{width:"100%",spacing:"3",align:"start",children:[(0,i.jsx)(a.xu,{...v,display:"inline",fontSize:"sm",color:"".concat(n,".300"),children:(0,i.jsx)(f.G,{icon:t,fixedWidth:!0})}),(0,i.jsxs)(l.K,{spacing:0,align:"start",textAlign:"left",children:[(0,i.jsx)(c.x,{...v,fontWeight:"700",children:m}),!r&&(0,i.jsx)(c.x,{fontSize:"sm",fontWeight:"500",noOfLines:2,...v,children:j.filter(Boolean).join(" \xb7 ")})]}),(0,i.jsx)(u.L,{}),(0,i.jsx)(d.X,{...v})]})}),(0,i.jsxs)(h.H,{p:4,pt:3,pb:6,children:[y&&b,!y&&(0,i.jsxs)(l.K,{spacing:4,pt:2,align:"start",children:[(0,i.jsx)(p.O,{w:"100%",height:"30px"}),(0,i.jsx)(p.O,{w:"100%",height:"30px"}),(0,i.jsx)(p.O,{w:"100%",height:"30px"})]})]})]})}})});j.displayName="SettingsGroup";let b=e=>{let{children:t}=e;return(0,i.jsx)(c.x,{fontSize:"sm",color:"gray.500",children:t})}},62141:function(e,t,n){"use strict";n.d(t,{B:function(){return M},o:function(){return A}});var i=n(52322),r=n(17993),o=n(77533),s=n(35183),a=n(97166),l=n(75768),c=n(62614),u=n(43297),d=n(29494),h=n(87651),p=n(54933),f=n(49929),m=n(94523),x=n(5879),g=n(87254),v=n(2784),j=n(48525),b=n(45302),y=n(63304),C=n(74153),k=n(54012),w=n(39092),D=n(89099),_=n(16556);let E=(0,v.memo)(e=>{let{tagsList:t,onClick:n}=e;return(0,i.jsx)(D.E,{pb:"2",align:"flex-start",w:"100%",children:t.map(e=>(0,i.jsx)(D.U,{children:(0,i.jsx)(_.Vp,{cursor:"pointer",colorScheme:"purple",boxShadow:"sm",_hover:{color:"white",bg:"purple.600"},onClick:()=>{n(e.value)},children:e.label})},e.label))})});E.displayName="SettingsTags";var S=n(94199);let A=(0,v.memo)(()=>{var e;let[t]=(0,C.Ns)("locale"),n=(0,b.jw)(t),[s]=(0,C.Ns)("textAmount"),[a]=(0,C.Ns)("textMode"),l=null===(e=I.find(e=>e.key===a))||void 0===e?void 0:e.label();return(0,i.jsx)(w.j,{label:(0,i.jsx)(x.cC,{id:"OuNFIM"}),colorScheme:"blue",icon:p.elf,values:[l,"preserve"!==a&&(0,k.XL)(s).label,"generate"===a&&n.displayName],children:(0,i.jsxs)(r.g,{spacing:4,alignItems:"stretch",children:[(0,i.jsx)(T,{}),"preserve"===a&&(0,i.jsxs)(o.x,{fontSize:"xs",color:"gray.600",children:[(0,i.jsx)(x.cC,{id:"7j0VMp"})," ",(0,i.jsx)(m.Yq,{fontSize:"xs",label:g.ag._({id:"kVzbm6",values:{GAMMA_ARTIFACT_PROPER_NOUN:S.Yc}})})]}),"preserve"!==a&&(0,i.jsx)(M,{}),"generate"===a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F,{}),(0,i.jsx)(N,{})]}),(0,i.jsx)(O,{})]})})});A.displayName="TextSettingsGroup";let T=()=>{let[e,t]=(0,C.Ns)("textMode");return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(a.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"OuNFIM"})}),(0,i.jsx)(l.h,{size:"sm",isAttached:!0,width:"100%",children:I.map(n=>(0,i.jsx)(m.kH,{placement:"top",label:n.tip(),children:(0,i.jsx)(c.z,{variant:n.key===e?"plainSelected":"plain",boxShadow:"none",leftIcon:(0,i.jsx)(f.G,{icon:n.icon}),onClick:()=>t(n.key),width:"100%",children:n.label()})},n.label()))})]})},I=[{label:()=>g.ag._({id:"ziAjHi"}),key:"generate",icon:p.ddb,tip:()=>g.ag._({id:"8mt5hR"})},{label:()=>g.ag._({id:"NIvI2q"}),key:"condense",icon:p.G_A,tip:()=>g.ag._({id:"owZbal"})},{label:()=>g.ag._({id:"c0sF7y"}),key:"preserve",icon:p.byT,tip:()=>g.ag._({id:"RPSHJC"})}],O=()=>{let[e,t]=(0,C.Ns)("locale"),n=(0,b.jw)(e);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(a.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"f6Pzgf"})}),(0,i.jsx)(j.k,{locale:n,setLocale:t,buttonProps:{variant:"plain",size:"sm",width:"100%",textAlign:"left"}})]})},M=()=>{let[e,t]=(0,C.Ns)("textAmount"),[n]=(0,C.Ns)("textMode"),r=(0,v.useMemo)(()=>(0,y.kq)(),[]);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(a.l,{fontSize:"sm",fontWeight:"semibold",children:"condense"===n?(0,i.jsx)(x.cC,{id:"z7tEVo"}):(0,i.jsx)(x.cC,{id:"UmJg9q"})}),(0,i.jsx)(l.h,{size:"sm",isAttached:!0,width:"100%",children:Object.entries(r).map(n=>{let[r,{label:o,description:s,icon:a}]=n;return(0,i.jsx)(m.kH,{placement:"top",label:s,children:(0,i.jsx)(c.z,{variant:e===r?"plainSelected":"plain",boxShadow:"none",onClick:()=>t(r),leftIcon:(0,i.jsx)(f.G,{icon:a}),width:"100%",textAlign:"left",children:o})},r)})})]})},F=()=>{let[e,t]=(0,C.Ns)("audience",{debounce:500}),n=(0,v.useMemo)(()=>R(),[]);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(a.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"CfNFS9"})}),(0,i.jsxs)(u.K,{spacing:3,children:[(0,i.jsx)(d.g,{size:"sm",minH:16,value:e,onChange:e=>t(e.target.value)}),(0,i.jsx)(h.U,{in:""===e||null===e,children:(0,i.jsx)(E,{tagsList:n,onClick:e=>{t(e)}})})]})]})},R=()=>[{label:g.ag._({id:"9N+p+g"}),value:g.ag._({id:"pCuan7"})},{label:g.ag._({id:"Y9OrUQ"}),value:g.ag._({id:"no1XFa"})},{label:g.ag._({id:"vINKFZ"}),value:g.ag._({id:"H13RWO"})},{label:g.ag._({id:"5AIqvu"}),value:g.ag._({id:"hqe36h"})},{label:g.ag._({id:"bNrMlq"}),value:g.ag._({id:"kImdWQ"})}],N=()=>{let[e,t]=(0,C.Ns)("tone",{debounce:500}),n=(0,v.useMemo)(()=>P(),[]);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(a.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(x.cC,{id:"uAQyzk"})}),(0,i.jsxs)(u.K,{spacing:"3",children:[(0,i.jsx)(d.g,{size:"sm",minH:16,value:e,onChange:e=>t(e.target.value)}),(0,i.jsx)(h.U,{in:""===e||null===e,children:(0,i.jsx)(E,{tagsList:n,onClick:e=>{t(e)}})})]})]})},P=()=>[{label:g.ag._({id:"Oojfbh"}),value:g.ag._({id:"L7fEtA"})},{label:g.ag._({id:"hzExWo"}),value:g.ag._({id:"F64cR2"})},{label:g.ag._({id:"wanXT9"}),value:g.ag._({id:"Gop378"})},{label:g.ag._({id:"ChasOQ"}),value:g.ag._({id:"lVYl+I"})},{label:g.ag._({id:"wTl0UK"}),value:g.ag._({id:"sFGQvg"})},{label:g.ag._({id:"4Nl9R0"}),value:g.ag._({id:"cspP/G"})}]},50896:function(e,t,n){"use strict";n.d(t,{J:function(){return E},Y:function(){return _}});var i=n(52322),r=n(75768),o=n(32899),s=n(62614),a=n(29117),l=n(77533),c=n(28535),u=n(10625),d=n(67046),h=n(332),p=n(99058),f=n(44035),m=n(39237),x=n(42946),g=n(49929),v=n(94523),j=n(5879),b=n(87254),y=n(2784),C=n(62131),k=n(81640),w=n(11050),D=n(5026);let _=(0,y.memo)(e=>{let{onIncrement:t,onDecrement:n,maxCards:u,cardCount:d,...h}=e,p={boxShadow:"sm",bg:"white"};return(0,i.jsxs)(r.h,{isAttached:!0,flex:"1",...h,children:[null!=d&&(0,i.jsx)(o.h,{display:"flex",onClick:n,icon:(0,i.jsx)(g.G,{icon:x.Kl4}),"aria-label":b.ag._({id:"MrRUp2"}),width:2,...p}),(0,i.jsx)(s.z,{flex:"1",...p,_hover:{color:"inherit"},cursor:"default",children:(0,i.jsx)(v.kH,{label:(0,i.jsx)(j.cC,{id:"ukrE78"}),placement:"top",children:(0,i.jsx)(a.U,{spacing:1,cursor:"help",children:(0,i.jsxs)(l.x,{children:[(0,i.jsx)(c.xu,{as:"span",css:{fontVariantNumeric:"tabular-nums"},children:d})," ",(0,i.jsx)(j.cC,{id:"MU+gFM",values:{0:null!=d?d:0}})]})})})}),null!=d&&(0,i.jsx)(o.h,{display:"flex",onClick:t,icon:(0,i.jsx)(g.G,{icon:x.r8p}),"aria-label":b.ag._({id:"sFY+gw"}),width:2,isDisabled:d>=u,...p})]})});_.displayName="CardCountStepper";let E=(0,y.memo)(e=>{let{cardCount:t,maxCards:n,onChange:r}=e,{openUpsellModal:o}=(0,k.z)(),c=(0,y.useMemo)(()=>[...Array(n)],[n]),v=(0,y.useMemo)(()=>[15,20,25,30].filter(e=>e>n),[n]),b=()=>{o({segmentEvent:w.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER})};return(0,i.jsxs)(u.v,{isLazy:!0,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right-start","right-end","right"]}}],children:[(0,i.jsx)(d.j,{size:"sm",boxShadow:"none",minW:"32",textAlign:"left",as:s.z,rightIcon:(0,i.jsx)(g.G,{size:"xs",icon:x.ptq}),children:(0,i.jsx)(j.cC,{id:"fFAIng",values:{0:null!=t?t:0}})}),(0,i.jsx)(h.h,{children:(0,i.jsx)(p.q,{zIndex:"tooltip",maxH:"90vh",overflow:"auto",children:(0,i.jsxs)(f._,{onChange:e=>{let t=Number(e);if(t>n){b();return}r(t)},value:"".concat(t),children:[c.map((e,t)=>{let n=t+1;return(0,i.jsx)(m.i,{value:"".concat(n),children:(0,i.jsx)(j.cC,{id:"bM4Wv5",values:{count:n}})},n)}),v.map(e=>(0,i.jsx)(m.i,{bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},value:"".concat(e),children:(0,i.jsxs)(a.U,{spacing:"3",children:[(0,i.jsx)(l.x,{w:"100%",children:(0,i.jsx)(j.cC,{id:"bM4Wv5",values:{count:e}})}),e>n&&(0,i.jsx)(C.ER,{product:e<=D.sj?"plus":"pro"})]})},e))]})})})]})});E.displayName="CardCountDropdown"},43305:function(e,t,n){"use strict";n.d(t,{O:function(){return x}});var i=n(52322),r=n(62614),o=n(29117),s=n(54933),a=n(49929),l=n(94523),c=n(5879),u=n(2784),d=n(85420),h=n(97763),p=n(25566),f=n(74153);let m=()=>{let[e]=(0,f.Ns)("imageProvider");return"aiGenerated"===e?"generateV2WithImages":"generateV2"},x=(0,u.memo)(e=>{let{onClick:t}=e,n=m(),{hasEnoughCreditsToGenerateDeck:u}=(0,h.qO)(),f=(0,h.YO)(t,"generateV2",p.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.kH,{label:(0,i.jsx)(c.cC,{id:"mTJ1YV"}),isDisabled:u,shouldWrapChildren:!0,children:(0,i.jsx)(r.z,{variant:"solid",w:"100%",rightIcon:(0,i.jsxs)(o.U,{children:[(0,i.jsx)(d.J,{type:n}),(0,i.jsx)(a.G,{icon:s.eFW})]}),onClick:f,size:{base:"md",lg:"lg"},children:(0,i.jsx)(c.cC,{id:"xGVfLh"})})})})});x.displayName="ContinueToThemePickerButton"},75816:function(e,t,n){"use strict";n.d(t,{j:function(){return H}});var i=n(52322),r=n(62614),o=n(54933),s=n(49929),a=n(94523),l=n(87254),c=n(2784),u=n(704),d=n(97763),h=n(11050),p=n(5632),f=n(39486),m=n(9449),x=n(22537),g=n(39122),v=n(93202),j=n(42111),b=n(41003),y=n(91994),C=n(84405),k=n(31181),w=n(15041),D=n(50260),_=n(14027),E=n(36651),S=n(45302),A=n(76282);let T=e=>{let t=(0,b.Y)("ai_premium_models"),n=(0,j.ye)("generatorGPT4"),i=(0,j.ye)("anthropicGenerate"),r=(0,j.ye)("mistralGenerate"),o=(0,j.ye)("llamaGenerate"),s=o?"meta-llama/Llama-3-70b-chat-hf":r?"mistralai/Mistral-7B-Instruct-v0.2":i?"claude-3-haiku-20240307":"gpt-3.5-turbo-1106",a=r?"mistralai/Mixtral-8x7B-Instruct-v0.1":i?"claude-3-sonnet-20240229":"gpt-4-1106-preview",l=(0,c.useCallback)(i=>{if(!t&&!n)return s;let r="generate"!==i.textMode&&!i.parallel,o=e>=800&&!i.parallel,l=i.numCards&&i.numCards>=12&&!i.parallel;return r||l||o?a:s},[t,n,e,s,a]);return l};var I=n(43019),O=n(56920),M=n(50634),F=n(57124),R=n(78462),N=n(96796);let P=()=>{let{push:e}=(0,p.useRouter)(),[t]=(0,v.V$$)(),n=(0,j.ye)("createSiteAi"),i=(0,F._O)(),{generate:r}=(0,M.j)("DetermineSiteMetadata",{}),[o]=(0,v.gVY)(),[s]=(0,v.Iyu)(),[a]=(0,v.D1_)(),u=(0,c.useCallback)(async n=>{let{workspaceId:i,docId:c,themeId:u,generateVars:d,firstCards:h}=n,p=h[0]?(0,I.getCardTitle)(h[0].content):void 0,{data:f}=await t({variables:{input:{workspaceId:i,name:p||l.ag._({id:"h3eRam"}),routes:[{docId:c,path:"/"}],themeId:u}}}),m=null==f?void 0:f.createSite;if(!m){console.error("[CreateSiteModal] Failed to create site, no site returned"),e("/docs/".concat(c,"?source=").concat(g.VY));return}try{let e=h.map(e=>e.raw).join("\n"),{language:t,instructions:n,input:l}=d,{promise:u}=r({workspaceId:i,variables:{topic:n||"",input:l,language:t,pageHtml:e}}),p=await u,{title:f,subdomain:x}=(0,N.R)(p);x=(0,O.IR)(x);let g="string"==typeof x&&x.length<=60&&/^[a-z0-9-]+$/.test(x.toLowerCase()),v=[];g&&v.push(o({variables:{input:{siteId:m.id,name:x}}})),f&&v.push(...[s({variables:{input:{siteId:m.id,name:f}}}),a({variables:{id:c,title:f}})]),await Promise.all(v)}catch(e){console.error("(caught) useGenerateSite error: ".concat(e))}let x=(0,R.yQ)({docId:c,params:{source:g.VY}});e(x)},[t,e,r,o,s,a]);return{canCreateSite:n&&i,createSiteWithAIAndRedirect:u}};var L=n(5026),z=n(1071),G=n(37164);let U=()=>{let{push:e}=(0,p.useRouter)(),[t]=(0,v.qbt)(),{generate:n}=(0,M.j)("DeterminePageMetadata",{}),[i]=(0,v.D1_)(),r=(0,c.useCallback)(async r=>{let{site:o,docId:s,workspaceId:a,generateVars:l,firstCards:c}=r;try{let{language:e,instructions:r,input:u}=l,d=o.routes.map(e=>{var t;return{title:null===(t=e.doc)||void 0===t?void 0:t.title,path:e.path}}),h=c.map(e=>e.raw).join("\n"),p=c[0]?(0,I.getCardTitle)(c[0].content):void 0,f=!0,{promise:m}=n({workspaceId:a,variables:{topic:r||"",input:u,language:e,otherPages:d,pageHtml:h}}),x=await m,{path:g,title:v}=(0,N.R)(x);v||(v=p||"Untitled page",f=!1),g||(g=(0,O.IR)(v)),g=(0,O.IR)(g),o.routes.some(e=>e.path===g)&&(g="".concat(g,"-").concat((0,G.x0)(6))),await Promise.all([t({variables:{input:{siteId:o.id,docId:s,path:(0,w.fJ)(g),offline:!1}},refetchQueries:["GetSite"]}),i({variables:{id:s,title:v,titleEdited:f}})])}catch(e){console.error("(caught) useSetPageMetadataWithAI error: ".concat(e))}let u=(0,R.yQ)({docId:s,params:{source:g.VY}});e(u)},[n,e,t,i]);return{setPageMetadataWithAIAndRedirect:r}},B=e=>{let{onSuccess:t}=e,{push:n}=(0,p.useRouter)(),i=(0,y.qr)(),r=(0,y.CG)(k.lH),{canCreateSite:o,createSiteWithAIAndRedirect:s}=P(),{setPageMetadataWithAIAndRedirect:a}=U(),[u]=(0,v.Kb4)(),d=(0,j.ye)("generatorLazyImages"),[h,I]=(0,c.useState)(!1),O=(0,j.ye)("streamResumingEnabled"),M=(0,y.CG)(A.mO),F=!0,R="",{maxTokens:N}=(0,z.ml)(),{maxCards:G}=(0,L.hw)();M>N&&(F=!1,R=l.ag._({id:"ZcJO3k",values:{maxTokens:N}}));let B=T(M),H=(0,v.jLg)(v.vGj),W=(0,c.useCallback)(async()=>{var e;let l=i.getState(),c=(0,A.RB)(l),h=(0,A.U6)(l);if(!h)throw Error("Cannot generate with no docGenerateInputId");I(!0);let p=(0,E.n_)(),y=(0,A.au)(l),k=(0,A.lb)(l),T=(0,S.jw)((0,A.Mn)("locale")(l)),F=(0,A.Mn)("textAmount")(l),R=(0,A.Mn)("audience")(l),N=(0,A.Mn)("tone")(l),P=(0,A.Lh)(l),L=(0,A.CC)(l),z=(0,A.Mn)("imageLicense")(l),U=(0,A.Mn)("imageProvider")(l),W=(0,A.Mn)("imageModel")(l)||j.VH.get("aiGeneratedImagesDefaultModel"),V=(0,A.Mn)("imageStyle")(l),q=(0,A.Mn)("textMode")(l),Z=(0,A.Mn)("editorMode")(l),K=(0,A.PB)(l),Y=(0,A.Mn)("cardDimensions")(l),X=j.VH.get("generateSerial"),$={instructions:k,input:y,language:T.englishName,numCards:Math.min(L,G),format:P,textAmount:F,audience:R,tone:N,textMode:q,editorMode:Z,imageProvider:"aiGenerated"===U?"aiGenerated":"web",serial:X},J=(0,A.Mn)("themeId")(l),Q=J?(await H({id:J})).data.theme:void 0;"aiGenerated"===U&&!V&&Q&&(V=(0,D.A)(Q));let ee=o&&"webpage"===P,et=(0,w.Vr)(r)||ee,en=j.VH.get("generateParallel"),ei=en&&"structured"===Z&&($.numCards>=10||M>=2e3)&&(j.VH.get("generateParallelFree")||(0,b.uL)("ai_premium_models")),er=B({numCards:L,editorMode:Z,textMode:q,parallel:ei,textAmount:F}),eo={docFormatKey:P,imageOptions:{license:z,provider:U,generateStyle:V,model:W},lazyImages:"aiGenerated"===U||d,theme:Q,preserveLayouts:!1},es=await u({variables:{docGenerateInputId:h,options:{themeId:et?void 0:J||_.g.id,orgAccess:et?v.y3$.Manage:void 0,cardDimensions:Y,aiOptions:{preserveLayouts:eo.preserveLayouts,imageOptions:eo.imageOptions}}}}),ea=null===(e=es.data)||void 0===e?void 0:e.generateDoc,el=null==ea?void 0:ea.docGenerateInput.id;if(!el)throw Error("No docGenerateInput.id to use as interactionId");if(!ea)throw Error("Could not create doc");let{input:ec,instructions:eu,...ed}=$;x.a.trackRequestSent(i,{interface:"wizard",streaming:!0,interactionId:el,inputContent:$.input,inputMessage:$.instructions,inputData:{options:{...eo,theme:J},isGenerateV2:!0,isAdvancedMode:"generate"!==K,isParallel:ei,generationType:K,...ed,textAmount:F,format:P,language:$.language,model:er},docId:ea.id,docGenerationId:c,docGenerateInputId:el});let{stream:eh,cancel:ep}=(0,m.ZE)({promptKey:ei?"GenerateDeckParallel":"GenerateDeck",interactionId:el,variables:{...$,model:er},workspaceId:p},{streamId:ea.id,streamResumingEnabled:O,retries:3}),ef=await (0,f.m3)({stream:eh,onCancel:ep,interactionId:el,options:eo,bufferCards:1,store:i,docId:ea.id}).promise;(0,C.Q)({doc_id:ea.id,source:v.L17.AiGenerated,extra:"v2"}),!r&&ee?await s({workspaceId:p,docId:ea.id,generateVars:$,themeId:J,firstCards:ef.cards}):r?(await a({docId:ea.id,site:r,workspaceId:p,generateVars:$,firstCards:ef.cards}),null==t||t()):n("/docs/".concat(ea.id,"?source=").concat(g.VY))},[o,B,s,a,u,H,d,G,t,n,r,i,O,M]);return{generate:W,isGenerating:h,canGenerate:F,cantGenerateReason:R}},H=(0,c.memo)(e=>{let{children:t,onClick:n,...p}=e,{onGenerateSuccess:f}=(0,u.R)(),{isGenerating:m,generate:x,canGenerate:g,cantGenerateReason:v}=B({onSuccess:f}),j=(0,c.useCallback)(async()=>{null==n||n(),await x()},[n,x]),b=(0,d.YO)(j,"generateV2",h.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2);return(0,i.jsx)(a.kH,{label:v,shouldWrapChildren:!0,children:(0,i.jsx)(r.z,{leftIcon:(0,i.jsx)(s.G,{icon:o.JyM}),variant:"solid",isLoading:m,loadingText:l.ag._({id:"NOdFZR"}),isDisabled:m,onClick:b,size:{base:"md",lg:"lg"},...p,children:t})})});H.displayName="GenerateButton"},4123:function(e,t,n){"use strict";n.d(t,{U:function(){return R}});var i=n(52322),r=n(43297),o=n(38035),s=n(29117),a=n(76282),l=n(14764),c=n(91994),u=n(25566),d=n(77533),h=n(94523),p=n(5879),f=n(2784),m=n(50896),x=n(74153),g=n(5026);let v=(0,f.memo)(e=>{let{...t}=e,n=(0,c.CG)(a.CC),[o,s]=(0,x.Ns)("numCards"),{maxCards:l}=(0,g.hw)(),u=(0,f.useCallback)(()=>{n&&s(Math.min(n+1,l))},[n,s,l]),v=(0,f.useCallback)(()=>{n&&1!==n&&s(n-1)},[n,s]),[j]=(0,x.Ns)("editorMode"),b=n>l,y=Math.min(n,l);return"structured"===j?(0,i.jsx)(h.kH,{label:(0,i.jsx)(p.cC,{id:"Zne1Sw"}),placement:"top",children:(0,i.jsxs)(r.K,{spacing:{base:.5,sm:2},flex:"1",justifyContent:"center",alignItems:"center",direction:{base:"column-reverse",sm:"row"},children:[(0,i.jsx)(d.x,{cursor:"help",fontSize:b?"xs":"lg",fontWeight:b?void 0:"600",textDecoration:b?"line-through":void 0,color:b?"gray.500":void 0,css:{textWrap:"nowrap"},textAlign:"center",children:(0,i.jsx)(p.cC,{id:"AZLIlg",values:{cardCount:n}})}),b&&(0,i.jsx)(d.x,{fontSize:{base:"md",sm:"lg"},fontWeight:"600",lineHeight:"1",children:(0,i.jsx)(p.cC,{id:"gcpsjO",values:{adjustedCardCount:y}})})]})}):(0,i.jsx)(m.Y,{maxCards:l,cardCount:n,onIncrement:u,onDecrement:v,...t})});v.displayName="CardCountSettings";var j=n(62614),b=n(28535),y=n(54933),C=n(49929),k=n(97763),w=n(62131),D=n(2953),_=n(11050),E=n(1071);let S=e=>{let{product:t,title:n,subtitle:r,isWarning:o=!1,onClick:a,cta:l}=e;return(0,i.jsxs)(s.U,{borderRadius:"md",bg:o?"sunglow.100":"trueblue.100",px:{base:2,md:3},pl:4,py:2,children:[t&&(0,i.jsx)(w.ER,{product:t}),(0,i.jsxs)(d.x,{py:1,fontSize:{base:"xs",sm:"sm"},noOfLines:2,lineHeight:"1.3",flex:"1",children:[(0,i.jsx)("strong",{children:n})," ",r]}),l&&a&&(0,i.jsx)(j.z,{onClick:a,variant:"ghost",color:"trueblue.500",bg:"trueblue.50",size:"sm",leftIcon:(0,i.jsx)(b.xu,{display:{base:"none",sm:"block"},children:(0,i.jsx)(C.G,{icon:y.JyM,fixedWidth:!0})}),children:l})]})},A=(0,f.memo)(()=>{let{hasEnoughCreditsToGenerateDeck:e}=(0,k.qO)(),{openUpsellModal:t}=(0,D.z)();return e?null:(0,i.jsx)(S,{product:"pro",isWarning:!0,onClick:()=>t({segmentEvent:_.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2}),title:(0,i.jsx)(p.cC,{id:"Lhlq0w"}),subtitle:(0,i.jsx)(p.cC,{id:"cl2O0R"}),cta:(0,i.jsx)(p.cC,{id:"kwkhPe"})})});A.displayName="NotEnoughCreditsUpsellWarning";let T=(0,f.memo)(()=>{let e=(0,c.CG)(a.mO),{maxTokens:t,canUpgrade:n}=(0,E.ml)(),{openUpsellModal:r}=(0,D.z)();return!e||e<t?null:e>=t&&n?(0,i.jsx)(S,{product:"pro",isWarning:!0,onClick:()=>r({segmentEvent:_.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER}),title:(0,i.jsx)(p.cC,{id:"265FwR"}),subtitle:(0,i.jsx)(p.cC,{id:"kaOsNu",values:{0:E.Jv.toLocaleString()}}),cta:(0,i.jsx)(p.cC,{id:"kwkhPe"})}):(0,i.jsx)(S,{isWarning:!0,title:(0,i.jsx)(p.cC,{id:"mWVxkj"}),subtitle:(0,i.jsx)(p.cC,{id:"qTSTz6",values:{0:E.Jv.toLocaleString()}})})});T.displayName="MaxTokensUpsellWarning";let I=(0,f.memo)(()=>{let e=(0,c.CG)(a.CC),[t]=(0,x.Ns)("editorMode"),{maxCards:n,canUpgrade:r}=(0,g.hw)(),{openUpsellModal:o}=(0,D.z)();return!e||e<n||e===n&&"structured"===t?null:"freeform"===t&&e>=n&&r?(0,i.jsx)(S,{product:"pro",onClick:()=>o({segmentEvent:_.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER}),title:(0,i.jsx)(p.cC,{id:"6/00Zu",values:{MAX_CARDS_PRO:g.Fv}}),cta:(0,i.jsx)(p.cC,{id:"kwkhPe"})}):"freeform"===t?null:r?(0,i.jsx)(S,{product:"pro",isWarning:!0,onClick:()=>o({segmentEvent:_.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER}),title:(0,i.jsx)(p.cC,{id:"dHdJAv",values:{maxCards:n}}),subtitle:(0,i.jsx)(p.cC,{id:"c4NYWT",values:{MAX_CARDS_PRO:g.Fv}}),cta:(0,i.jsx)(p.cC,{id:"kwkhPe"})}):(0,i.jsx)(S,{isWarning:!0,title:(0,i.jsx)(p.cC,{id:"dHdJAv",values:{maxCards:n}}),subtitle:(0,i.jsx)(p.cC,{id:"yLG7qf"})})});I.displayName="CardCountUpsellWarning";var O=n(38045);let M=(0,O.E)(o.k),F=(0,f.memo)(e=>{let{children:t}=e;return(0,i.jsx)(M,{bg:"white",py:3,position:"fixed",zIndex:"10",initial:{opacity:0,bottom:-10},animate:{opacity:1,bottom:0},exit:{opacity:0,bottom:0},borderTop:"1px solid",borderColor:"blackAlpha.200",px:{base:3,md:4},direction:"column",align:"center",w:"100%",children:t})});F.displayName="StickyBottomBar";let R=e=>{let{cta:t}=e,n=(0,c.CG)(a.Vn),d=(0,c.CG)(a.$X);if(d)return null;let h=(0,i.jsx)(l.r,{modalId:"ai-credits-modal-generate-v2",variant:"ghost",justify:"flex-end",segmentEvent:u.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2,alignSelf:"center"});return(0,i.jsx)(F,{children:(0,i.jsxs)(r.K,{w:"100%",direction:{base:"column-reverse",md:"row"},spacing:{base:2,md:4},alignItems:{base:"center",md:"flex-end"},children:[(0,i.jsx)(o.k,{flex:"1",children:h}),(0,i.jsxs)(r.K,{w:"2xl",maxW:"100%",overflow:"hidden",children:[(0,i.jsx)(A,{}),(0,i.jsx)(I,{}),(0,i.jsx)(T,{}),(0,i.jsxs)(s.U,{spacing:{base:2,md:3},opacity:n?.75:1,pointerEvents:n?"none":"inherit",cursor:n?"not-allowed":"default",children:[(0,i.jsx)(v,{size:{base:"md",lg:"lg"}}),(0,i.jsx)(o.k,{flex:"1",alignItems:"stretch",flexDirection:"column",children:t})]})]}),(0,i.jsx)(o.k,{flex:"1",display:{base:"none",md:"flex"}})]})})}},45760:function(e,t,n){"use strict";n.d(t,{jX:function(){return a},vZ:function(){return s}});var i=n(52322),r=n(2784);let o=r.createContext({});function s(){let e=(0,r.useContext)(o);return e}let a=e=>{let{children:t}=e,n=r.useRef();return(0,i.jsx)(o.Provider,{value:{setEditorInstance:e=>{n.current=e},getEditorInstance:()=>n.current},children:t})}},45339:function(e,t,n){"use strict";n.d(t,{N:function(){return w}});var i=n(52322),r=n(70065),o=n(43297),s=n(28535),a=n(77533),l=n(75768),c=n(62614),u=n(54933),d=n(49929),h=n(87254),p=n(2784),f=n(91994),m=n(21733),x=n(50634),g=n(76282),v=n(54012),j=n(74153),b=n(5026);let y=e=>{let t=e.split("\n"),n=1;return t.map(e=>""===e.trim()?e:"".concat(n++).concat(">>>").concat(e)).join("\n")},C=(e,t)=>(t.forEach(t=>{1!==t&&(e=e.replace("".concat(t).concat(">>>"),"---\n\n".concat(t).concat(">>>")))}),e),k=e=>{let t=e.split("\n");return t.map(e=>{let t=e.split(">>>");return t.length>1?t[1]:e}).join("\n")},w=()=>{let[e,t]=(0,p.useState)(!1),[n,w]=(0,j.Ns)("editorMode"),D=(0,j.vS)(),_=(0,f.CG)(g.Kd),E=(0,f.CG)(g.MH),S=(0,r.p)(),A=(0,p.useRef)(null),{maxCards:T}=(0,b.hw)(),I=(0,f.CG)(g.Vn);(0,p.useEffect)(()=>{I&&A.current&&(S.close(A.current),A.current=null)},[S,I]);let{generate:O}=(0,x.j)("SplitSections",{}),M=(0,p.useCallback)(()=>{let e=(0,f.bh)().getState(),t=(0,g.au)(e),n=t.replace(/\n+---\n+/g,"\n\n");D(n);let r=h.ag._({id:"a7V4Kp"}),p=h.ag._({id:"jpA4hO"}),m=h.ag._({id:"9uI/rE"}),x=h.ag._({id:"DPfwMq"}),v=S({render:()=>(0,i.jsxs)(o.K,{p:4,shadow:"lg",borderRadius:"lg",bg:"green.100",spacing:4,direction:{base:"column",md:"row"},children:[(0,i.jsx)(s.xu,{color:"green.600",fontSize:"xl",children:(0,i.jsx)(d.G,{icon:u.fV7})}),(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(a.x,{noOfLines:1,fontWeight:"600",children:r}),(0,i.jsx)(a.x,{fontSize:"xs",noOfLines:1,color:"blackAlpha.800",children:p})]}),(0,i.jsxs)(l.h,{children:[(0,i.jsx)(c.z,{size:"md",variant:"solid",onClick:()=>S.close(v),rightIcon:(0,i.jsx)(d.G,{icon:u.LEp}),children:x}),(0,i.jsx)(c.z,{size:"md",colorScheme:"gray",variant:"ghost",onClick:()=>{D(t),S.close(v)},children:m})]})]}),status:"success",duration:5e3,position:"top",containerStyle:{maxW:"none"}})},[D,S]),F=(0,p.useCallback)(async e=>{t(!0);let r=(0,f.bh)().getState(),p=(0,g.hy)(r),x=h.ag._({id:"P0CwEw"}),j=S({title:x,status:"loading",duration:1e4,position:"top"}),b=await O({variables:{input:e,maxCards:T},workspaceId:(0,m.n_)(),interactionId:p}).promise;if(!b)throw Error("Response is undefined");let _=(0,v.Jn)(b).split("\n").map(e=>parseInt(e)),E=y(e),A=k(C(E,_));console.debug("Splitting cards",{numberedContent:E,resp:b,lineBreaks:_,newContent:A}),S.close(j),D(A),w("structured"),t(!1);let I=h.ag._({id:"0+Fg4H"}),M=h.ag._({id:"YbORTh"}),F=h.ag._({id:"9uI/rE"}),R=h.ag._({id:"DPfwMq"}),N=S({render:()=>(0,i.jsxs)(o.K,{p:4,shadow:"lg",borderRadius:"lg",bg:"green.100",spacing:4,direction:{base:"column",md:"row"},children:[(0,i.jsx)(s.xu,{color:"green.600",fontSize:"xl",children:(0,i.jsx)(d.G,{icon:u.fV7})}),(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(a.x,{noOfLines:1,fontWeight:"600",children:I}),(0,i.jsx)(a.x,{fontSize:"xs",noOfLines:1,color:"blackAlpha.800",children:M})]}),(0,i.jsxs)(l.h,{children:[(0,i.jsx)(c.z,{size:"md",variant:"solid",onClick:()=>S.close(N),rightIcon:(0,i.jsx)(d.G,{icon:u.LEp}),children:R}),(0,i.jsx)(c.z,{size:"md",colorScheme:"gray",variant:"ghost",onClick:()=>{D(e),w(n),S.close(N)},children:F})]})]}),status:"success",duration:5e3,position:"top",containerStyle:{maxW:"none"}})},[n,D,w,S,O,T]),R=(0,p.useCallback)(()=>{let e=(0,f.bh)().getState();A.current&&(S.close(A.current),A.current=null);let t=(0,g.Kd)(e);if(!t)return;let n=(0,g.au)(e),r=h.ag._({id:"CObmXw"}),u=h.ag._({id:"+JxrYy"}),d=h.ag._({id:"goXuxS"}),p=h.ag._({id:"6Uau97"});A.current=S({render:()=>(0,i.jsxs)(o.K,{p:4,shadow:"lg",borderRadius:"lg",bg:"trueblue.100",spacing:4,direction:{base:"column",md:"row"},children:[(0,i.jsxs)(s.xu,{children:[(0,i.jsx)(a.x,{noOfLines:1,fontWeight:"600",children:r}),(0,i.jsx)(a.x,{fontSize:"xs",noOfLines:1,color:"blackAlpha.800",children:u})]}),(0,i.jsxs)(l.h,{children:[(0,i.jsx)(c.z,{variant:"solid",size:"md",onClick:()=>{F(n),S.close(A.current)},children:d}),(0,i.jsx)(c.z,{variant:"plain",size:"md",onClick:()=>{S.close(A.current)},children:p})]})]}),status:"info",duration:8e3,position:"top"})},[F,S]);return(0,p.useEffect)(()=>()=>{A.current&&(S.close(A.current),A.current=null)},[S]),{addSectionBreaks:F,isAddingBreaks:e,canAddBreaks:_,canRemoveBreaks:E,removeSectionBreaks:M,onChangeMode:R}}},74153:function(e,t,n){"use strict";n.d(t,{Ns:function(){return x},Q_:function(){return m},ex:function(){return p},ip:function(){return f},o7:function(){return h},vS:function(){return g}});var i=n(2784),r=n(45760),o=n(93202),s=n(91994),a=n(86581),l=n(33522),c=n(24551),u=n(14874),d=n(76282);let h=()=>{let e=(0,s.qr)(),t=(0,s.TL)(),[n]=(0,o.NCT)(),r=(0,i.useCallback)(async()=>{var i;let r=(0,d.d_)(e.getState()),o=r.id,s=await n({variables:{docGenerateInputId:o,input:{}}}),a=null===(i=s.data)||void 0===i?void 0:i.updateDocGenerationDraftInput;a&&a.draftInput&&o!==a.draftInput.id&&t((0,d.Gn)(a))},[t,e,n]);return r},p=e=>{var t;let n=(0,s.qr)(),r=(0,s.TL)(),[a]=(0,o.NCT)(),c=(0,i.useCallback)(async e=>{var t;let i=(0,d.RB)(n.getState()),o=(0,d.U6)(n.getState());if(!i||!o)return;let{format:s,...l}=e,c={format:s,...l},u=(0,d.br)(n.getState());c.settings&&(c.settings={...u,...c.settings});let h=(0,d.U6)(n.getState()),p=await a({variables:{docGenerateInputId:o,input:c}}),f=null===(t=p.data)||void 0===t?void 0:t.updateDocGenerationDraftInput;f&&f.draftInput&&h!==f.draftInput.id&&r((0,d.Gn)(f))},[r,n,a]),u=(0,l.Kt)(c,null!==(t=null==e?void 0:e.debounce)&&void 0!==t?t:0),h=(0,i.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];r((0,d.Zx)(e)),t&&u(e)},[u,r]);return h},f=()=>{let e=p(),t=(0,i.useCallback)(function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e({format:t},n)},[e]),n=(0,s.CG)(d.Lh);return[n,t]},m=()=>{let e=p({debounce:500}),t=(0,i.useCallback)(function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e({prompt:t},n)},[e]),n=(0,s.CG)(d.lb);return[n,t]},x=(e,t)=>{let n=p(t),r=(0,i.useCallback)(function(t){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];n({settings:{[e]:t}},i)},[e,n]),o=(0,s.CG)((0,d.Mn)(e));return[o,r]},g=e=>{let t=p(e),{getEditorInstance:n}=(0,r.vZ)(),o=(0,i.useCallback)(function(e){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=n();if(r){let t=r.editorId===c.C,n=(0,a.c8)(e),i=(0,u.dW)(n,t?"structured":"freeform").content.toJSON();r.commands.setContent(i)}t({content:e},i)},[t,n]);return o}},96796:function(e,t,n){"use strict";n.d(t,{R:function(){return j},d:function(){return v}});var i=n(5632),r=n(2784),o=n(63304),s=n(67496),a=n(28918),l=n(31490),c=n(39122),u=n(93202),d=n(42111),h=n(21733),p=n(50634),f=n(45302);let m=e=>{if(!e)throw Error("Response is undefined");let t=j(e),n=(0,f.jw)(t.locale);return{settings:{tone:t.tone,audience:t.audience,locale:n.key,textAmount:x(t.text_amount,["sm","md","lg"],"md")}}},x=(e,t,n)=>e?t&&!t.includes(e)?n:e:void 0,g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams("");return t.generateOutline&&n.append(s.nx,"1"),t.generateSettings&&n.append(s.Cb,"1"),"/generate/".concat(e,"?").concat(n.toString())},v=()=>{let{push:e}=(0,i.useRouter)(),[t,n]=(0,r.useState)(!1),[s]=(0,u.JBp)(),{generate:f}=(0,p.j)("DetermineGenerateSettings",{}),x=(0,r.useCallback)(async(t,i)=>{var r;let u=(0,l.nZ)();n(!0);let p=(0,a.d)(i.content,c.VN),x=await f({variables:{input:p},workspaceId:(0,h.n_)(),interactionId:u}).promise,v=m(x),{settings:j,format:b,...y}=i,C=await s({variables:{input:{workspaceId:(0,h.n_)(),generationType:t,input:{interactionId:u,settings:{...o.zJ,imageProvider:d.VH.get("aiGeneratorDefaultImageProvider"),...v.settings,...j},...y,format:b}}}});n(!1),e(g(null===(r=C.data)||void 0===r?void 0:r.createDocGeneration.id))},[s,e,f]);return{guessSettings:x,isLoading:t}},j=e=>{let t=e.split("\n"),n={};return t.forEach(e=>{let[t,i]=e.split(": ");t&&i&&(n[t.trim().toLowerCase()]=i.trim())}),n}},67496:function(e,t,n){"use strict";n.d(t,{Cb:function(){return h},HL:function(){return p},nx:function(){return d}});var i=n(9850),r=n.n(i),o=n(5632),s=n(2784),a=n(76282),l=n(93202),c=n(91994),u=n(704);let d="generateOutline",h="generateSettings",p=e=>{let{id:t}=e,n=(0,o.useRouter)(),i=(0,c.TL)(),r=(0,c.qr)(),{goToScreen:d}=(0,u.R)(),[h,p]=(0,s.useState)(!0),[m]=(0,l.UCC)({variables:{id:t}});return(0,s.useEffect)(()=>{n&&r&&m&&m().then(e=>{let{data:t}=e;if(null==t?void 0:t.docGeneration)return t.docGeneration;throw Error("Could not load docGeneration")}).then(e=>{i((0,a.Gn)(f(e))),p(!1)}).catch(()=>{d("createWithAI")})},[i,m,d,n,r]),{isLoading:h}},f=e=>({...e,docGenerateInputs:e.docGenerateInputs.map(m),draftInput:e.draftInput?m(e.draftInput):void 0}),m=e=>{let t=r()(e);return t.settings.textMode||(t.settings.preserveText?t.settings.textMode="preserve":t.settings.textMode="generate",delete t.settings.preserveText),t}},49165:function(e,t,n){"use strict";n.d(t,{R:function(){return x},c:function(){return g}});var i=n(52322),r=n(70065),o=n(5879),s=n(5632),a=n(2784),l=n(93202),c=n(42111),u=n(84405),d=n(61811),h=n(4170),p=n(41425),f=n(23147),m=n(36651);let x={example_deck_clone_toast:l.L17.DuplicateInspiration,import_google_doc:l.L17.ImportGoogleDoc,import_google_slides:l.L17.ImportGoogleSlides,import_docx:l.L17.ImportDocx,import_pptx:l.L17.ImportPptx,blank:l.L17.Blank,template_browser:l.L17.DuplicateTemplate,get_started_modal:l.L17.Blank,template_modal_griditem:l.L17.DuplicateTemplate,template_dashboard_griditem:l.L17.DuplicateTemplate,template_modal_preview:l.L17.DuplicateTemplate,template_modal_preview_create_theme:l.L17.DuplicateTemplate,"slash-new":l.L17.SlashNew,editor_toolbar_doc_menu_duplicate:l.L17.DuplicateDoc,dashboard_docs_view_duplicate:l.L17.DuplicateDoc,ai_generated:l.L17.AiGenerated,ai_generated_advanced:l.L17.AiGenerated,sites_add_page:l.L17.SitesAddPage,sites_copy_to_site:l.L17.SitesCopyToSite,sites_duplicate_page:l.L17.SitesDuplicatePage},g=()=>{let{user:e,currentWorkspace:t}=(0,m.SE)(),n=(0,c.ye)("cardLayoutsEnabled"),[g,{data:v,loading:j}]=(0,l.CsQ)(),{push:b,replace:y}=(0,s.useRouter)(),C=(0,r.p)(),k=(0,a.useCallback)(r=>{var s;let a=null==e?void 0:null===(s=e.settings)||void 0===s?void 0:s.needsEditorOnboarding,l=r.source,c=null==r?void 0:r.channelId,m=(null==r?void 0:r.historyFn)==="replace"?y:b,v=a?"quickstart":"empty";if(!(null==t?void 0:t.id)){console.error("[createDocAndNavigate] No currentWorkspace found");return}let j={cardLayoutsEnabled:n},k=(null==r?void 0:r.document)?r.document:"empty"===v?(0,d.bx)(e,{docFlags:j,settings:(0,h.Y)()}):(0,d.VK)(e,{docFlags:j,settings:(0,h.Y)()}),w=(0,f.qI)(k);return console.debug("[createDocAndNavigate] Creating doc",{document:k,encodedDocument:w}),g({variables:{workspaceId:null==t?void 0:t.id,title:(null==r?void 0:r.title)||"",source:x[r.source],initialContent:{ydoc:w,schemaVersion:p.bI,editors:[null==e?void 0:e.id]},...c?{channels:[{channelId:c}]}:{}}}).then(async e=>{let{data:t}=e;(0,u.Q)({doc_id:null==t?void 0:t.createDoc.id,source:l,channel:c||null}),console.debug("[createDocAndNavigate] Doc created. Navigating to Editor",null==t?void 0:t.createDoc.id),m("/docs/".concat(null==t?void 0:t.createDoc.id).concat(a?"?tour=true":""))}).catch(e=>{console.error("[createDocAndNavigate]",e),C({title:(0,i.jsx)(o.cC,{id:"0jT1fA"}),description:e.message,position:"top",status:"error",isClosable:!0,duration:null})})},[n,g,null==t?void 0:t.id,b,y,C,e]);return[k,{data:v,loading:j}]}},12985:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var i=n(2784);let r=i.lazy(()=>Promise.all([n.e(8917),n.e(7120),n.e(4100),n.e(3421)]).then(n.bind(n,23421)).then(e=>({default:e.default})))},85747:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var i=n(52322),r=n(2784),o=n(99787);let s={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},a=e=>{let{handleFilesCallback:t,multiple:n=!1,accept:a=o.pK.join(",")}=e,l=(0,r.useRef)(null),c=(0,r.useMemo)(()=>(0,i.jsx)("input",{ref:l,className:"gamma-FileInput-input",style:s,type:"file",name:"gamma-file-input",multiple:n,accept:a,onChange:e=>{let n=e.target;if(!n||!n.files)return;let i=Array.from(n.files);t(i),n.value=null}}),[a,t,n]),u=(0,r.useCallback)(()=>{var e;null===(e=l.current)||void 0===e||e.click()},[]);return{inputElement:c,onClick:u}}},62700:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var i=n(52322),r=n(5879);let o=()=>({100:(0,i.jsx)(r.cC,{id:"RGjFMI"}),200:(0,i.jsx)(r.cC,{id:"GMGHcE"}),300:(0,i.jsx)(r.cC,{id:"1njn7W"}),400:(0,i.jsx)(r.cC,{id:"xfqlmg"}),500:(0,i.jsx)(r.cC,{id:"agPptk"}),600:(0,i.jsx)(r.cC,{id:"KVGfPY"}),700:(0,i.jsx)(r.cC,{id:"KmydK6"}),800:(0,i.jsx)(r.cC,{id:"NV46Ki"}),900:(0,i.jsx)(r.cC,{id:"THokF3"})})},30423:function(e,t,n){"use strict";n.d(t,{Av:function(){return x},B_:function(){return v},CZ:function(){return h},QP:function(){return j},Sd:function(){return b},UK:function(){return p},ZN:function(){return g},cC:function(){return m},x_:function(){return f},zn:function(){return u}});var i=n(18149),r=n.n(i),o=n(53553),s=n(93202);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=["italic","oblique"];for(let n of e)for(let e of t)if(-1!==n.toLowerCase().indexOf(e))return!0;return!1},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t of e){if(c(t,["thin"]))return 100;if(c(t,["light","lite"],["extra","ultra","x"]))return 200;if(c(t,["light"]))return 300;if(c(t,["medium"]))return 500;if(c(t,["bold"],["demi","semi"]))return 600;if(c(t,["bold"],["extra","x"]))return 800;if(c(t,["bold"]))return 700;if(c(t,["black","heavy","ultra"]))return 900}return 400},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let i of t)if(0===n.length){if(-1!==e.toLowerCase().indexOf(i.toLowerCase()))return!0}else for(let t of n)if(-1!==e.toLowerCase().indexOf(i.toLowerCase())&&-1!==e.toLowerCase().indexOf(t.toLowerCase()))return!0;return!1},u=async e=>new Promise((t,n)=>{let i=new FileReader;i.onload=e=>{var i,r,s,c,u,d,h,p,f,m,x,g,v,j,b,y,C,k,w;let D=null===(i=e.target)||void 0===i?void 0:i.result;try{let e=o.ZP.parse(D),n=null!==(y=null===(r=Object.values(null!==(b=null===(c=e.tables)||void 0===c?void 0:null===(s=c.name)||void 0===s?void 0:s.preferredSubfamily)&&void 0!==b?b:null===(d=e.tables)||void 0===d?void 0:null===(u=d.name)||void 0===u?void 0:u.fontSubfamily))||void 0===r?void 0:r[0])&&void 0!==y?y:"",i=null!==(C=null===(h=Object.values(null===(f=e.tables)||void 0===f?void 0:null===(p=f.name)||void 0===p?void 0:p.fullName))||void 0===h?void 0:h[0])&&void 0!==C?C:"",_=null!==(w=null===(m=Object.values(null!==(k=null===(g=e.tables)||void 0===g?void 0:null===(x=g.name)||void 0===x?void 0:x.preferredFamily)&&void 0!==k?k:null===(j=e.tables)||void 0===j?void 0:null===(v=j.name)||void 0===v?void 0:v.fontFamily))||void 0===m?void 0:m[0])&&void 0!==w?w:"";t({familyName:_,isItalic:a([n,i]),weight:l([n,i])})}catch(e){n(e)}},i.onerror=e=>{console.error("[parseFontFile] unable to read the font file, providing defaults",e),t({familyName:"",isItalic:!1,weight:400})},i.readAsArrayBuffer(e)}),d=e=>{let t=e.lastIndexOf(".");return -1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}},h=e=>{let{extension:t}=d(e);return t===s.sA6.Otf||t===s.sA6.Ttf?t:s.sA6.Ttf},p=e=>{let{existingFont:t}=e;if(!t)return!0;let n={fontName:t.name,fontId:t.id,fontFiles:t.fontFiles.map(e=>({id:e.id,name:e.name,weight:e.weight,isItalic:e.isItalic,fileType:e.fileType,sourceUrl:e.sourceUrl}))},i={fontName:e.fontName,fontId:e.fontId,fontFiles:e.uploadFontFiles.map(e=>({id:e.fontFile.id,name:e.fontFile.name,weight:e.fontFile.weight,isItalic:e.fontFile.isItalic,fileType:e.fontFile.fileType,sourceUrl:e.fontFile.sourceUrl}))};return!r()(n,i)},f=e=>{let t=e.reduce((e,t)=>{let n=[t.weight,t.isItalic].join("__");return{...e,[n]:!0}},{});return Object.keys(t).length},m=e=>{let t=Object.values(e.reduce((e,t)=>{let n=t.fontFile,i=[n.weight,n.isItalic,n.fileType].join("__");return e[i]=e[i]||[],e[i].push(t),e},{})).reduce((e,t)=>{if(t.length>1)for(let n of t)e[n.uploadId]=!0;return e},{});return t},x=e=>e.reduce((e,t)=>{let n=t.fontFile.weight;return{...e,[n]:[...e[n]||[],t]}},{}),g=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.sort((e,n)=>t?Number(e)-Number(n):Number(n)-Number(e))},v=e=>g(Array.from(new Set(e.map(e=>e.weight)))),j=(e,t)=>{if(void 0===t)return;if(t>e[e.length-1])return e[e.length-1];let n=1/0,i=-1;for(let r=0;r<e.length;r++){let o=Math.abs(t-e[r]);if(o<n)n=o,i=r;else break}return e[i]},b=e=>!!e&&0!==e.length&&-1===e.findIndex(e=>!e.isItalic)},33022:function(e,t,n){"use strict";n.d(t,{C:function(){return v}});var i=n(52322),r=n(29117),o=n(5740),s=n(77533),a=n(28535),l=n(43297),c=n(74409),u=n(20437),d=n(74008),h=n(62614),p=n(42946),f=n(54933),m=n(49929),x=n(5879);n(2784);let g=e=>{let{label:t,shortcuts:n}=e;return(0,i.jsxs)(r.U,{children:[n.map((e,t)=>(0,i.jsx)(o.T,{padding:1,children:e},t)),(0,i.jsx)(s.x,{fontSize:"sm",fontWeight:"medium",whiteSpace:"nowrap",children:t})]})},v=e=>{let{onClose:t,showExitPresentMode:n=!0}=e;return(0,i.jsx)(a.xu,{children:(0,i.jsxs)(l.K,{spacing:6,children:[(0,i.jsxs)(l.K,{spacing:1,children:[(0,i.jsxs)(r.U,{color:"gray.500",children:[(0,i.jsx)(m.G,{icon:p.UFh})," ",(0,i.jsx)(c.X,{size:"xs",fontWeight:"normal",children:(0,i.jsx)(x.cC,{id:"h7MgpO"})})]}),(0,i.jsx)(c.X,{size:"md",children:(0,i.jsx)(x.cC,{id:"UodEcE"})})]}),(0,i.jsxs)(u.M,{spacing:3,columns:1,children:[(0,i.jsx)(g,{label:(0,i.jsx)(x.cC,{id:"9xCxY6"}),shortcuts:[(0,i.jsx)(m.G,{icon:f.acZ},"left"),(0,i.jsx)(m.G,{icon:f.eFW},"right")]}),n&&(0,i.jsx)(g,{label:(0,i.jsx)(x.cC,{id:"IkakN2"}),shortcuts:["Esc"]}),(0,i.jsx)(g,{label:(0,i.jsx)(x.cC,{id:"K0Oq/D"}),shortcuts:["R"]}),(0,i.jsx)(d.i,{borderColor:"gray.300"}),(0,i.jsx)(g,{label:(0,i.jsx)(x.cC,{id:"CgmvBu"}),shortcuts:["S"]}),(0,i.jsx)(g,{label:(0,i.jsx)(x.cC,{id:"/5i2oX"}),shortcuts:[(0,i.jsx)(m.G,{icon:f.FPD},"up"),(0,i.jsx)(m.G,{icon:f.r5q},"down")]}),(0,i.jsx)(g,{label:(0,i.jsx)(x.cC,{id:"rEj/lx"}),shortcuts:["Enter"]})]}),(0,i.jsx)(h.z,{size:"sm",variant:"solid",onClick:t,children:(0,i.jsx)(x.cC,{id:"76gPWk"})})]})},"coach-bar")}},26787:function(e,t,n){"use strict";n.d(t,{v:function(){return A}});var i=n(52322),r=n(43297),o=n(28535),s=n(77533),a=n(87651),l=n(29117),c=n(81540),u=n(42946),d=n(54933),h=n(49929),p=n(5879),f=n(16983),m=n(70065),x=n(82863),g=n(2784),v=n(14274),j=n(42111),b=n(36651),y=n(93441),C=n(23405),k=n(2090),w=n(85747);let D=e=>{let t=(0,m.p)(),{currentWorkspace:n}=(0,b.SE)(),[r,o]=(0,g.useState)(!1),[s,a]=(0,g.useState)(!1),l=(0,C.y)("pptImportV2"),c=(0,g.useCallback)(async(r,s)=>{let{isPPT:l,toastId:c}=s;(0,k.cT)(r,null==n?void 0:n.id,{onUploadComplete:async n=>{let{src:r,name:s}=n,u=await fetch(r).then(e=>e.text()),d=s.replace(/[.]html$/,"");e.onUploadComplete({html:u,filename:d,source:l?"PptxUpload":"DocxUpload",src:r}),t.update(c,{status:"success",title:(0,i.jsx)(p.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0}),a(!0),o(!1)},onUploadFailed(n){var r;t.update(c,{status:"error",title:(0,i.jsx)(p.cC,{id:"SlfejT"}),description:(0,i.jsx)(p.cC,{id:"lIW942"}),duration:5e3,isClosable:!0}),null===(r=e.onUploadFailed)||void 0===r||r.call(e,n),o(!1),a(!1)}},void 0,"importDoc",v.v.TRANSLOADIT_DOC_IMPORT_TEMPLATE_ID)},[null==n?void 0:n.id,e,t]),u=(0,g.useCallback)((r,s)=>{let{toastId:l}=s;(0,k.cT)(r,null==n?void 0:n.id,{onUploadComplete:async n=>{let{name:r,fullResults:s,src:c}=n,{convert_to_html:u,convert_to_pdf:d,pdf_to_images:h}=s,f=h.map(e=>({index:e.meta.thumb_index,width:e.meta.width,height:e.meta.height,url:e.ssl_url})),m=d[0].ssl_url,x=d[0].original_name||r.replace(/[.]x?html$/,""),g=u[0].ssl_url,v=await fetch(g).then(e=>e.text());e.onUploadComplete({html:v,filename:x,htmlUrl:g,src:c,source:"PptxUpload",thumbnails:f,pdfUrl:m,fileUrl:c}),t.update(l,{status:"success",title:(0,i.jsx)(p.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0}),a(!0),o(!1)},onUploadFailed(n){var r;t.update(l,{status:"error",title:(0,i.jsx)(p.cC,{id:"SlfejT"}),description:(0,i.jsx)(p.cC,{id:"lIW942"}),duration:5e3,isClosable:!0}),null===(r=e.onUploadFailed)||void 0===r||r.call(e,n),o(!1),a(!1)}},void 0,"importPpt",v.v.TRANSLOADIT_PPT_IMPORT_TEMPLATE_ID)},[null==n?void 0:n.id,e,t]),d=(0,g.useCallback)(async n=>{var r;null===(r=e.onUploadStarted)||void 0===r||r.call(e),o(!0);let s=n[0],a=k.eb.includes(s.type),d=t({id:"load-doc-toast-".concat(s.name),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,i.jsx)(p.cC,{id:"hdsaJo"}),description:(0,i.jsx)(p.cC,{id:"HOoZAi"}),isClosable:!1});a&&l?u(s,{toastId:d}):c(s,{isPPT:a,toastId:d})},[e,l,t,c,u]),{onClick:h,inputElement:f}=(0,w.E)({handleFilesCallback:d,multiple:!1,accept:[...k.u0,...k.eb].join(",")});return{initiateDocUpload:h,hiddenInputElement:f,isUploading:r,handleDocUpload:d,isSuccess:s}},_="https://www.googleapis.com/auth/drive.file",E=e=>{let[t,n]=(0,g.useState)(!1),[r,o]=(0,g.useState)(),s=(0,m.p)(),{user:a}=(0,b.SE)(),[l,c]=(0,g.useState)(!1),[u,d]=(0,g.useState)(!1),{handleDocUpload:h}=D({onUploadComplete:t=>{c(!1),e.onImportComplete(t)}}),f=(0,g.useCallback)((e,t,n,r)=>{let o="https://www.googleapis.com/drive/v3/files/".concat(t,"?fields=exportLinks");c(!0),fetch(o,{headers:{Authorization:"Bearer ".concat(e)}}).then(async e=>{if(200!==e.status){var t;let n=await e.json(),i=null==n?void 0:null===(t=n.error)||void 0===t?void 0:t.message;return Promise.reject(i?"Google Drive error ".concat(e.status,": ").concat(i):"Google Drive error ".concat(e.status))}return e.json()}).then(async t=>{let i=t.exportLinks[n],r=await fetch(i,{headers:{Authorization:"Bearer ".concat(e)}});return r.blob()}).then(e=>{let t=new File([e],"".concat(r,".pptx"),{type:n});h([t])}).catch(e=>{console.error("Error importing doc ".concat(t," from google"),e),c(!1),s({status:"error",title:(0,i.jsx)(p.cC,{id:"SlfejT"}),description:e.message||e||(0,i.jsx)(p.cC,{id:"lIW942"}),duration:5e3,isClosable:!0})})},[s,h]),C=(0,g.useCallback)((t,n,r,o)=>{let a="https://www.googleapis.com/drive/v3/files/".concat(n,"/export?mimeType=").concat(r);c(!0);let l=s({id:"load-doc-toast-".concat(n),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,i.jsx)(p.cC,{id:"hdsaJo"}),description:(0,i.jsx)(p.cC,{id:"gmwDJx"}),isClosable:!1});fetch(a,{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>e.text()).then(t=>{e.onImportComplete({html:t,filename:o,source:"GoogleDocs",src:a}),s.update(l,{status:"success",title:(0,i.jsx)(p.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0}),d(!0),c(!1)}).catch(e=>{console.error("Error importing doc ".concat(n," from google"),e),d(!1),c(!1)})},[e,s]),k=(0,g.useCallback)((e,t)=>{if("picked"!==t.action)return;let[n]=t.docs;"application/vnd.google-apps.document"===n.mimeType?C(e,n.id,"text/html",n.name):"application/vnd.google-apps.presentation"===n.mimeType&&f(e,n.id,"application/vnd.openxmlformats-officedocument.presentationml.presentation",n.name)},[C,f]),w=(0,g.useCallback)(e=>{o(e);let t=window.google,n=j.VH.get("pptImport"),i=["application/vnd.google-apps.document",n&&"application/vnd.google-apps.presentation"].filter(e=>!!e),r=new t.picker.DocsView(t.picker.ViewId.DOCS).setMimeTypes(i.join(",")),s=new t.picker.PickerBuilder().addView(r).addView(t.picker.ViewId.FOLDERS).setOAuthToken(e).setAppId(v.v.GOOGLE_PROJECT_ID).setDeveloperKey(v.v.GOOGLE_API_KEY).setCallback(t=>{k(e,t)});n&&s.addView(t.picker.ViewId.DOCUMENTS).addView(t.picker.ViewId.PRESENTATIONS),s.build().setVisible(!0),Array.from(document.getElementsByClassName("picker-dialog")).forEach(e=>{e.style.zIndex="2000"})},[k]),E=(0,g.useCallback)(e=>{console.error("Google auth failed:",e),s({title:(0,i.jsx)(p.cC,{id:"FL/pCd",values:{error:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})},[s]),S=(0,x.Nq)({scope:_,hint:null==a?void 0:a.email,prompt:"",onSuccess:e=>{(0,x.FX)(e,_)?w(e.access_token):E("Could not get requested scopes")},onError:E}),A=(0,g.useCallback)(()=>{window.gapi.load("picker",()=>{n(!0)})},[]);(0,y.Gq)("https://apis.google.com/js/api.js",{onload:A});let T=(0,g.useCallback)(()=>{t&&(r?w(r):S())},[r,S,t,w]);return{initiateGoogleImport:T,isImporting:l,isSuccess:u}},S=e=>{let{text:t}=e;return(0,i.jsxs)(r.K,{direction:"row",spacing:1.5,w:"100%",children:[(0,i.jsx)(o.xu,{color:"green.400",children:(0,i.jsx)(h.G,{icon:d.LEp})}),(0,i.jsx)(s.x,{children:t})]})},A=e=>{let{onImportComplete:t}=e,{initiateDocUpload:n,hiddenInputElement:d,isUploading:m,isSuccess:x}=D({onUploadComplete:t}),{initiateGoogleImport:g,isImporting:v,isSuccess:j}=E({onImportComplete:t}),b=m||v,y=j||x;return(0,i.jsxs)(o.xu,{w:"100%",children:[(0,i.jsx)(a.U,{in:y,children:(0,i.jsx)(l.U,{w:"100%",p:12,justifyContent:"center",spacing:4,border:"none",boxShadow:"none",bg:"whiteAlpha.700",backdropFilter:"blur(10px)",borderRadius:"md",children:(0,i.jsx)(s.x,{fontSize:"xl",children:(0,i.jsx)(p.cC,{id:"oMgC5V"})})})}),(0,i.jsx)(a.U,{in:b,children:(0,i.jsxs)(l.U,{w:"100%",p:12,justifyContent:"center",spacing:4,border:"none",boxShadow:"none",bg:"whiteAlpha.700",backdropFilter:"blur(10px)",borderRadius:"md",children:[(0,i.jsx)(c.$,{}),(0,i.jsx)(s.x,{fontSize:"xl",children:(0,i.jsx)(p.cC,{id:"fxZ/WE"})})]})}),(0,i.jsx)(a.U,{in:!b&&!y,children:(0,i.jsxs)(r.K,{w:"100%",direction:{base:"column",md:"row"},justifyContent:"center",spacing:{base:3,md:4},children:[(0,i.jsx)(f.X,{label:(0,i.jsx)(p.cC,{id:"RMmFZu"}),description:(0,i.jsxs)(r.K,{spacing:1,children:[(0,i.jsx)(S,{text:(0,i.jsx)(p.cC,{id:"W/x3L4"})}),(0,i.jsx)(S,{text:(0,i.jsx)(p.cC,{id:"cuyHFX"})})]}),isPopular:!1,colorScheme:"blue",imageUrl:"/_next/static/media/Thumbnail-drive.beda1526.svg",onClick:g,ctaIcon:(0,i.jsx)(h.G,{icon:u.A$k}),ctaLabel:(0,i.jsx)(p.cC,{id:"iSLIjg"})}),(0,i.jsx)(f.X,{label:(0,i.jsx)(p.cC,{id:"RNxrCU"}),description:(0,i.jsxs)(r.K,{spacing:1,children:[(0,i.jsx)(S,{text:(0,i.jsx)(p.cC,{id:"GwfEs/"})}),(0,i.jsx)(S,{text:(0,i.jsx)(p.cC,{id:"g8oIJP"})})]}),isPopular:!1,colorScheme:"purple",imageUrl:"/_next/static/media/Thumbnail-upload.175964bf.svg",onClick:n,ctaIcon:(0,i.jsx)(h.G,{icon:u.A$k}),ctaLabel:(0,i.jsx)(p.cC,{id:"JYj5R2"})}),d]})})]})}},23312:function(e,t,n){"use strict";n.d(t,{C:function(){return m}});var i=n(52322),r=n(92850),o=n(26468),s=n(22226),a=n(54326),l=n(2338),c=n(97217),u=n(77533),d=n(50250),h=n(43297),p=n(62614),f=n(5879);let m=e=>{let{invitationCount:t,isOpen:n,onClose:m,onSendInvitationsClick:x,onDiscardClick:g}=e;return n?(0,i.jsxs)(r.u_,{returnFocusOnClose:!1,onClose:m,closeOnOverlayClick:!0,isOpen:!0,isCentered:!0,children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(s.h,{children:[(0,i.jsx)(a.x,{children:(0,i.jsx)(f.cC,{id:"tW/kB6",values:{invitationCount:t}})}),(0,i.jsx)(l.o,{}),(0,i.jsx)(c.f,{children:(0,i.jsx)(u.x,{children:(0,i.jsx)(f.cC,{id:"qxNK2k",values:{invitationCount:t}})})}),(0,i.jsx)(d.m,{children:(0,i.jsxs)(h.K,{spacing:2,direction:"row",align:"center",children:[(0,i.jsx)(p.z,{onClick:g,children:(0,i.jsx)(f.cC,{id:"bzSI52"})}),(0,i.jsx)(p.z,{variant:"solid",onClick:x,children:(0,i.jsx)(f.cC,{id:"6dWGPZ",values:{invitationCount:t}})})]})})]})]}):null}},82979:function(e,t,n){"use strict";n.d(t,{AP:function(){return r},mc:function(){return i}});let i={pricing:"/pricing",help:"https://help.gamma.app",changeLog:"https://ideas.gamma.app/changelog",team:"https://careers.gamma.app/team",terms:"https://gamma.app/terms",privacy:"https://gamma.app/privacy",login:"/signin",signup:"/signup",templates:"/templates",inspiration:"/inspiration",careers:"https://careers.gamma.app"},r=16},25944:function(e,t,n){"use strict";n.d(t,{bf:function(){return m},iZ:function(){return p},lh:function(){return h},wK:function(){return f}});var i=n(2784),r=n(42111),o=n(91994),s=n(47968),a=n(90604),l=n(56400),c=n(99268);let u=e=>{let t=Math.random();return t<=1/e};class d{setupProvider(){this.t1SetupProvider||(this.t1SetupProvider=performance.now())}downloadDoc(){this.t2DownloadDoc||(this.t2DownloadDoc=performance.now())}onCreate(){this.t3OnCreate||(this.t3OnCreate=performance.now())}report(){return null===this.t1SetupProvider||null===this.t2DownloadDoc||null===this.t3OnCreate?null:{downloadDoc:this.t2DownloadDoc-this.t1SetupProvider,onCreate:this.t3OnCreate-this.t2DownloadDoc}}constructor(){this.t1SetupProvider=null,this.t2DownloadDoc=null,this.t3OnCreate=null}}let h=(e,t)=>{let n=(0,o.CG)(s.Pw),r=(0,i.useRef)(n);(0,i.useEffect)(()=>{r.current=n},[n]),(0,i.useEffect)(()=>{if(e)return window.addEventListener("keydown",n,!0),()=>{window.removeEventListener("keydown",n,!0)};function n(e){let n=e.target.closest(".ProseMirror");if(!n||!r.current||!u(t))return;let i=performance.now();requestAnimationFrame(()=>{let t=e.key;" "===t&&(t="Space");let n=performance.now()-i;(0,c.EF)({...(0,l.H)(),key:t,duration:n})})}},[e,r,t])},p=()=>{let e=(0,r.ye)("rumSampleRate");(0,i.useEffect)(()=>{(0,c._k)(e)},[e])},f=e=>{let t=(0,i.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let i=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-i;(0,c.gG)({...(0,l.H)(),toMode:a.q.SLIDE_VIEW,duration:e,isFullscreen:n})})})},[e]),n=(0,i.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let i=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-i;(0,c.gG)({...(0,l.H)(),toMode:a.q.DOC_VIEW,duration:e,isFullscreen:n})})})},[e]);return{recordExitSlideModePerformance:n,recordEnterSlideModePerformance:t}},m=()=>{let[e]=(0,i.useState)(()=>new d),t=(0,i.useCallback)(()=>{e.setupProvider()},[e]),n=(0,i.useCallback)(()=>{e.downloadDoc()},[e]),r=(0,i.useCallback)(()=>{e.onCreate();let t=e.report();if(null===t){console.warn("[HoneycombDocLoadTimer] failed to generate doc timings");return}(0,c.Py)({...(0,l.H)(),duration:t.onCreate}),(0,c.aZ)({...(0,l.H)(),duration:t.downloadDoc})},[e]);return{timeOnCreate:r,timeOnSetupProvider:t,timeOnDownloadDoc:n}}},89311:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var i=n(5632),r=n(2784),o=n(7e4),s=n(88640);let a=()=>{let{pathname:e,isReady:t}=(0,i.useRouter)(),n=(0,r.useRef)(!1),[a,l]=(0,o.X)(s.H.lastHomeUrl,"/");(0,r.useEffect)(()=>{if(n.current||!t)return;let i="/inspiration"===e||"/templates"===e?e:"/";l(i),n.current=!0},[l,t,e])}},60536:function(e,t,n){"use strict";n.d(t,{V:function(){return g}});var i=n(52322),r=n(50019),o=n(38035),s=n(74008),a=n(29117),l=n(77533),c=n(82554),u=n(36474),d=n(41098),h=n(5879),p=n(23405),f=n(94199),m=n(41003),x=n(81640);let g=e=>{let{onClose:t,onOpen:n,segmentEvent:g,doc:v,label:j}=e,b=(0,p.y)("upsellUXEnabled_Pro"),y=(0,m.dU)(null==v?void 0:v.organization),{openUpsellModal:C}=(0,x.z)(),k=(0,r.ff)("gray.200","gray.700");return!1===y&&b?(0,i.jsxs)(o.k,{direction:"column",w:"100%",children:[(0,i.jsx)(s.i,{borderColor:k}),(0,i.jsxs)(a.U,{mt:4,mb:2,children:[(0,i.jsxs)(a.U,{children:[(0,i.jsx)(l.x,{children:j||(0,i.jsx)(h.cC,{id:"kuLK2H",values:{GAMMA_PROPER_NOUN:f.N6}})}),(0,i.jsx)(c.C,{colorScheme:"trueblue",variant:"solid",children:f.k3})]}),(0,i.jsx)(u.L,{}),(0,i.jsx)(d.r,{onClickCapture:e=>{e.preventDefault(),C({onOpenCallback:t,onCloseCallback:n,segmentEvent:g})},isChecked:!0})]})]}):null}},4758:function(e,t,n){"use strict";n.d(t,{L:function(){return m}});var i=n(52322),r=n(38035),o=n(16556),s=n(29117),a=n(109),l=n(77533),c=n(28535),u=n(42946),d=n(49929),h=n(94523),p=n(5879),f=n(7985);n(30579);let m=e=>{let{selectedCollaborator:t,idx:n,handleRemoveClick:m}=e,x=t&&(0,f.G)((null==t?void 0:t.email)||""),g=0===n?170:300;return(0,i.jsx)(r.k,{width:0===n?"calc(100% - 100px)":"",className:"searchbartag","data-testid":"searchbartag-collaborator-".concat(t.email),children:(0,i.jsxs)(o.Vp,{size:"md",minW:110,...x?{}:{colorScheme:"red",bg:"red",color:"white"},children:["id"in t?(0,i.jsx)(h.kH,{label:t.email,"aria-label":t.email,children:(0,i.jsxs)(s.U,{children:[(0,i.jsx)(a.q,{size:"2xs",m:0,name:t.displayName,src:t.profileImageUrl}),(0,i.jsx)(l.x,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,maxW:g,lineHeight:"1.5",children:t.displayName})]})}):(0,i.jsx)(h.kH,{label:x?t.email:(0,i.jsx)(p.cC,{id:"XILg0L"}),"aria-label":t.email,children:(0,i.jsxs)(s.U,{flex:1,children:[(0,i.jsx)(c.Cd,{bg:x?"trueblue.100":"none",size:6,children:(0,i.jsx)(d.G,{icon:x?u.FU$:u.WV2})}),(0,i.jsx)(l.x,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,maxW:g,lineHeight:"1.5",children:t.email})]})}),(0,i.jsx)(o.SD,{onClick:m})]})},"id"in t?t.id:t.email)}},60740:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var i=n(55478),r=n(2784);let o=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,i.q)({id:"sharePanelDisclosure"}),[o,s]=(0,r.useState)("invite");return{isSharePanelOpen:e,onSharePanelOpen:t,onSharePanelClose:n,view:o,setView:s}}},34613:function(e,t,n){"use strict";n.d(t,{XG:function(){return i},Nj:function(){return eS},t9:function(){return eA},o$:function(){return eR},aA:function(){return t_},WQ:function(){return tE}});var i,r=n(52322),o=n(92850),s=n(26468),a=n(22226),l=n(54326),c=n(28535),u=n(2338),d=n(74008),h=n(97217),p=n(43297),f=n(67109),m=n(89099),x=n(62614),g=n(82554),v=n(36474),j=n(50250),b=n(38035),y=n(42946),C=n(49929),k=n(94523),w=n(5879),D=n(2784),_=n(93202),E=n(11550),S=n(41003),A=n(30579),T=n(16710),I=n(46759),O=n(15041),M=n(29318),F=n(36651),R=n(55274),N=n(70065),P=n(77533),L=n(87651),z=(n(81672),n(74409)),G=n(47443),U=n(52929),B=n(109),H=(n(82655),n(87254)),W=n(1842),V=n.n(W),q=n(94199),Z=n(20336),K=n(93441),Y=n(89458),X=n(88640),$=n(29117),J=n(11082),Q=n(8174),ee=n(78462);let et=e=>{let{icon:t,showDisabled:n=!1}=e;return(0,r.jsx)(c.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:8,opacity:n?.5:1,children:n?(0,r.jsxs)("span",{className:"fa-stack",children:[(0,r.jsx)(C.G,{icon:y.u6k,className:"fa-stack-1x"}),(0,r.jsx)(C.G,{icon:t,className:"fa-stack-1x"})]}):(0,r.jsx)(C.G,{size:"1x",icon:t})})},en=e=>{let{channel:t,doc:n,isDisabled:i,showDisabledIcon:o=!1}=e,{removeDocChannel:s}=(0,Q.Z)(),a=(0,D.useCallback)(()=>{n&&s(n,t.id)},[t.id,n,s]),l=(0,ee.j)({slug:t.slug,id:t.id});return(0,r.jsxs)($.U,{py:2,w:"100%",justify:"space-between","data-testid":"workspace-row-".concat(t.id),children:[(0,r.jsx)(c.xu,{children:(0,r.jsxs)(b.k,{alignItems:"center",children:[(0,r.jsx)(et,{icon:A.Ty,showDisabled:o}),(0,r.jsx)(c.xu,{ml:3,opacity:o?.5:1,children:(0,r.jsx)(J.r,{href:l,target:"_blank",children:t.name})})]})}),(0,r.jsx)(x.z,{size:"sm",variant:"ghost",colorScheme:"red",onClick:a,isDisabled:i,children:(0,r.jsx)(w.cC,{id:"t/YqKh"})})]},t.id)};var ei=n(46949),er=n(50019),eo=n(75768),es=n(74105),ea=n(81540),el=n(20816),ec=n(46028),eu=n(38421),ed=n.n(eu);let eh=e=>{let{workspaceId:t,docId:n,existingChannels:i,isDisabled:o}=e,s=(0,D.useRef)(null),[a,l]=(0,D.useState)(""),[u,d]=(0,D.useState)([]),[h,f]=(0,D.useState)(!1),{addDocChannel:m}=(0,Q.Z)(),{data:x,loading:g}=(0,_.Kce)({variables:{query:a,workspaceId:t},skip:!a});(0,D.useEffect)(()=>{if(g||!x)return;let e=x.search.filter(Boolean);d(e),f(0===e.length)},[x,g]);let v=(0,D.useMemo)(()=>a?u.filter(e=>!i.find(t=>t.id===e.id)):[],[i,a,u]),j=(0,D.useCallback)(e=>{let t=v.find(t=>t.id===e);if(!t){console.error("[ChannelSearchBar.addSelectedChannel] No matching channel found");return}m({docId:n,channel:t,existingChannels:i})},[m,n,i,v]),y=(0,er.ff)("gray.100","gray.700"),E=(0,er.ff)("light","dark"),S=(0,er.ff)("trueblue.50","whiteAlpha.100");(0,er.ff)("trueblue.100","whiteAlpha.200");let T=(0,er.ff)("gray.200","gray.600");return(0,r.jsx)(eo.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-channel-search-bar",children:(0,r.jsx)(c.xu,{flex:1,children:(0,r.jsxs)(es.B,{w:"100%",justifyContent:"center",zIndex:1,children:[(0,r.jsx)(b.k,{display:"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:y,zIndex:"overlay",opacity:.4,children:(0,r.jsx)(ea.$,{})}),(0,r.jsxs)(ec.Qc,{rollNavigation:!0,multiple:!0,emptyState:()=>!!h&&(0,r.jsxs)(b.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,r.jsx)(c.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,r.jsx)(ed(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,r.jsx)(z.X,{size:"xs",mb:2,textAlign:"center",children:(0,r.jsx)(w.cC,{id:"NmfOr+"})}),(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.400",textAlign:"center",children:(0,r.jsx)(w.cC,{id:"kXnLEt"})})]}),suggestWhenEmpty:!1,openOnFocus:!0,filter:()=>!0,onSelectOption:e=>{let{item:t}=e;j(t.value),l("")},children:[(0,r.jsxs)(el.Z,{pointerEvents:"none",color:(0,er.ff)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,r.jsx)(b.k,{flex:1}),(0,r.jsx)(b.k,{h:10,py:4,alignItems:"center",children:(0,r.jsx)(ei.W,{w:10})})]}),(0,r.jsx)(ec.Vp,{ref:s,"data-testid":"autocomplete-channels-input",cursor:o?"not-allowed":void 0,disabled:o,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:H.ag._({id:"KmCmUJ"}),transition:"width 1s ease-in-out",value:a,borderColor:T,onChange:e=>{let{target:t}=e,{value:n}=t;l(n),n||d([])}}),(0,r.jsx)(ec.Jm,{w:"100%",mt:0,display:a.length>0?"flex":"none","data-theme":E,children:v.length>0&&v.map(e=>{let{id:t,name:n,memberCount:i,isMember:o,members:s}=e;return(0,r.jsx)(ec.Gb,{"data-testid":"autocomplete-item-channel-".concat(t),value:{id:e.id},getValue:e=>e.id,align:"center",_focus:{bg:S},children:(0,r.jsxs)($.U,{spacing:4,p:0,flex:1,children:[(0,r.jsx)(c.xu,{color:"gray.700",children:(0,r.jsx)(C.G,{icon:A.Ty})}),(0,r.jsxs)(p.K,{spacing:0,flex:"1",children:[(0,r.jsx)(P.x,{children:n}),(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.400",children:o?(0,r.jsx)(w.cC,{id:"tWPlLK",values:{0:i||0}}):(0,r.jsx)(w.cC,{id:"pkIIls",values:{0:i||0}})})]}),(0,r.jsx)(k.NL,{size:"xs",overflowTooltipLabel:H.ag._({id:"25VyZX"}),avatars:s||[],max:3,onClick:e=>{e.preventDefault(),e.stopPropagation()}})]})},t)})})]})]})})})};var ep=n(55478),ef=n(78071),em=n(7985),ex=n(38045),eg=n(99016),ev=n(23312),ej=n(80498),eb=n(62549),ey=n(10625),eC=n(67046),ek=n(99058),ew=n(44035),eD=n(39237),e_=n(27599),eE=n(25481);(i||(i={})).NoAccess="no_access";let eS={[_.y3$.Manage]:{title:()=>H.ag._({id:"DZfDCl"}),description:()=>H.ag._({id:"r59J7Q"})},[_.y3$.Edit]:{title:()=>H.ag._({id:"ePK91l"}),description:()=>H.ag._({id:"kuZsYI"})},[_.y3$.Comment]:{title:()=>H.ag._({id:"NBdIgR"}),description:()=>H.ag._({id:"IwFh5+"})},[_.y3$.View]:{title:()=>H.ag._({id:"jpctdh"}),description:()=>H.ag._({id:"yzFEXd"})},[i.NoAccess]:{title:()=>H.ag._({id:"oPoLg+"}),description:()=>H.ag._({id:"Vcif8/"})}},eA=e=>{let{isDisabled:t,options:n,disabledOptions:o=[],selected:s,variant:a="ghost",onClick:l=()=>{},onRemove:u}=e;return(0,r.jsxs)(ey.v,{closeOnSelect:!0,children:[(0,r.jsx)(eC.j,{"data-testid":"permission-menu-value-".concat(s),as:x.z,display:"flex",size:"sm",isDisabled:t,variant:a,rightIcon:(0,r.jsx)(C.G,{icon:y.ptq}),children:eS[s||i.NoAccess].title()}),(0,r.jsx)(ek.q,{textAlign:"left",zIndex:"overlay",children:(0,r.jsxs)(ew._,{defaultValue:s,value:s,title:H.ag._({id:"9cDpsw"}),type:"radio",onChange:e=>{l(e)},children:[n.map(e=>{let t=o.find(t=>t.permission===e),n=t&&t.reason;return(0,r.jsx)(eD.i,{isDisabled:!!t,value:e,alignItems:"start",pt:3,children:(0,r.jsx)(k.kH,{label:n,"aria-label":n,isDisabled:!t,placement:"top",children:(0,r.jsxs)(c.xu,{children:[(0,r.jsx)(P.x,{mt:-1,children:eS[e].title()}),(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.500",mt:1,children:eS[e].description()})]})},e)},e)}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e_.R,{}),(0,r.jsx)(eE.s,{color:"red.500",onClick:u,icon:(0,r.jsx)(C.G,{icon:y.XAH,fixedWidth:!0}),children:(0,r.jsx)(w.cC,{id:"t/YqKh"})})]})]})})]})};var eT=n(4758);let eI=(0,ex.E)(c.xu),eO=(e,t,n)=>{if(!n)return e;let i=[...e],r=e.findIndex(e=>"email"in e&&e.email===n),o=t.find(e=>e.email===n);return -1!==r&&i.splice(r,1),[...i,o||{email:n}]},eM=(e,t)=>{let n=(0,eb.Hs)(t.map(e=>"displayName"in e?e.displayName:e.email),3);return e===_.y3$.Manage?H.ag._({id:"4bKxWq",values:{userNames:n,GAMMA_ARTIFACT_PROPER_NOUN:q.Yc,0:t.length}}):e===_.y3$.Edit?H.ag._({id:"3rbi6Y",values:{userNames:n,GAMMA_ARTIFACT_PROPER_NOUN:q.Yc,0:t.length}}):e===_.y3$.Comment?H.ag._({id:"uGWY40",values:{userNames:n,GAMMA_ARTIFACT_PROPER_NOUN:q.Yc,0:t.length}}):e===_.y3$.View?H.ag._({id:"p5IG6F",values:{userNames:n,GAMMA_ARTIFACT_PROPER_NOUN:q.Yc,0:t.length}}):H.ag._({id:"Ai1TAT",values:{userNames:n,GAMMA_ARTIFACT_PROPER_NOUN:q.Yc,0:t.length}})},eF=e=>{let{workspaceId:t,docId:n,user:i,existingDocCollaborators:o,existingInvitations:s,registerDoneFn:a,isDisabled:l}=e,u=(0,N.p)(),[d,h]=(0,D.useState)(!1),p=(0,D.useRef)(),f=(0,D.useRef)(null),[m,g]=(0,D.useState)(""),[v,j]=(0,D.useState)([]),[E,S]=(0,D.useState)(_.y3$.Manage),[A,T]=(0,D.useState)(new ej.B),[I,O]=(0,D.useState)([]),M=I.filter(e=>"email"in e),F=o.map(e=>e.user),{isOpen:R,onOpen:L,onClose:z}=(0,ep.q)({id:"unsentInvitationsModalDisclosure"}),[G,{loading:U,error:W}]=(0,_.qVw)();(0,K.GJ)("Error inviting collaborators.",W);let V=(0,eg.j)(_.aAR),{data:q,loading:Z}=(0,_.PGi)({variables:{query:m,workspaceId:t},skip:!m});(0,D.useEffect)(()=>{if(Z||!q)return;let e=q.search.filter(Boolean);j(e)},[q,Z]);let Y=(0,D.useMemo)(()=>m?v.filter(e=>"User"===e.__typename&&e.id!==i.id&&!M.concat(F).find(t=>t.email===e.email)):[],[v,F,m,M,i.id]),X=!!m&&!Y.find(e=>e.email===m),J=E===_.y3$.Manage&&M.some(e=>!("__typename"in e&&"User"===e.__typename)),Q=I.concat({email:m}).filter(e=>!("email"in e)||(0,em.G)(e.email||"")),ee=!!I.length,et=!!Q.length;(0,D.useEffect)(()=>{a(()=>()=>(et?L():A.resolve(),A.promise))},[a,A,et,L]);let en=(0,D.useCallback)(async e=>{h(!0),O(t=>e.reduce((e,t)=>eO(e,Y,t.trim()),t));let n=(await Promise.all(e.map(e=>V({workspaceId:t,query:e}).then(t=>{var n;return null===(n=t.data)||void 0===n?void 0:n.search.find(t=>"User"===t.__typename&&t.email===e)})))).filter(Boolean);O(t=>e.reduce((e,t)=>eO(e,n,t.trim()),t)),h(!1)},[Y,V,t]),eu=(0,D.useCallback)(async()=>{if(0===M.length)return;let e=eO(M,Y,m.trim()).filter(e=>"email"in e&&(0,em.G)(e.email||"")),t=[...o,...e.map(e=>{if("id"in e)return{docId:n,user:e,guest:!1,permission:E,__typename:"DocCollaborator"}})].filter(e=>!!e),r=[...s,...e.map(e=>{if("id"in e)return;let t={id:"temp",docTitle:"temp-title",invitedBy:i,docId:n,email:e.email,permission:E,__typename:"DocInvitation"};return t})].filter(e=>!!e);return G({variables:{docId:n,collaborators:e.map(e=>{let t="id"in e?{userId:e.id}:{email:e.email};return{...t,permission:E}})},update:(e,t)=>{let{data:i}=t;e.writeFragment({id:"Doc:".concat(n),fragment:_.yAO,data:null==i?void 0:i.addCollaborators})},optimisticResponse:{addCollaborators:{id:n,collaborators:t,invitations:r}}}).then(()=>{let t=H.ag._({id:"Ka86rB",values:{0:e.length}}),n=eM(E,e);u({title:t,description:n,status:"success",duration:5e3,isClosable:!0,position:"top"})})},[G,n,m,E,Y,M,o,s,u,i]),ed=(0,D.useCallback)(async()=>Promise.all([eu()]).then(()=>{var e;O([]),g(""),null===(e=p.current)||void 0===e||e.resetItems(!0),A.resolve(),T(new ej.B)}).catch(e=>{console.warn(e)}),[eu,A]),eh=l||U||d,ex=(0,er.ff)("gray.100","gray.700"),eb=(0,er.ff)("light","dark"),ey=(0,er.ff)("trueblue.50","whiteAlpha.100"),eC=(0,er.ff)("trueblue.100","whiteAlpha.200"),ek=(0,er.ff)("gray.200","gray.600");return(0,r.jsxs)(eo.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,r.jsx)(c.xu,{flex:1,children:(0,r.jsxs)(es.B,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,r.jsx)(b.k,{display:d?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:ex,zIndex:"overlay",opacity:.4,children:(0,r.jsx)(ea.$,{})}),(0,r.jsxs)(ec.Qc,{ref:p,values:I,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,t)=>!M.find(e=>e.email===t),onSelectOption:e=>{let{item:t}=e,{type:n}=t.originalValue;"collaborator"===n&&O(e=>eO(e,Y,t.value)),g("")},onTagRemoved:e=>{O(t=>[...t].filter(t=>"email"in t?t.email!==e:!("id"in t)||t.id!==e))},children:[(0,r.jsxs)(el.Z,{pointerEvents:"none",color:(0,er.ff)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,r.jsx)(b.k,{flex:1}),(0,r.jsx)(b.k,{h:10,py:4,alignItems:"center",children:(0,r.jsx)(ei.W,{w:10})})]}),(0,r.jsx)(ec.Vp,{ref:f,"data-testid":"autocomplete-collaborators-input",cursor:eh?"not-allowed":void 0,disabled:eh,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:H.ag._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:m,borderColor:ek,onKeyDown:e=>{let{key:t}=e;if("Backspace"===t&&0===m.length&&I.length>0){let e=I.slice(-1).pop();if(e){var n;null===(n=p.current)||void 0===n||n.removeItem("email"in e?e.email:e.id)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let t=e.clipboardData.getData("Text"),n=t.trim().split(/[,|;\s]+/);en(n),g(""),j([])},onChange:e=>{let{target:t}=e,{value:n}=t;g(n),n||j([])},children:I.map((e,t)=>(0,r.jsx)(eT.L,{idx:t,selectedCollaborator:e,handleRemoveClick:()=>{var t;null===(t=p.current)||void 0===t||t.removeItem(e.email)}},"id"in e?e.id:e.email))}),(0,r.jsx)(ec.Jm,{w:"100%",mt:0,display:m.length>0?"flex":"none","data-theme":eb,children:Y.map(e=>{let{id:t,email:n,displayName:i,profileImageUrl:o}=e;return(0,r.jsx)(ec.Gb,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(t),value:{email:n,type:"collaborator"},getValue:e=>e.email,align:"center",_focus:{bg:ey},children:(0,r.jsxs)($.U,{children:[(0,r.jsx)(B.q,{size:"sm",name:i,src:o}),(0,r.jsxs)(c.xu,{children:[(0,r.jsx)(P.x,{textTransform:"capitalize",children:i}),(0,r.jsx)(P.x,{fontSize:"xs",color:"gray.500",children:null==n?void 0:n.toLowerCase()})]})]})},t)}).concat((0,r.jsx)(ec.Gb,{value:{email:m,type:"collaborator"},align:"center",display:X?"flex":"none",_focus:{bg:ey},children:(0,r.jsxs)($.U,{children:[(0,r.jsx)(c.Cd,{bg:eC,size:8,children:(0,r.jsx)(C.G,{icon:y.FU$})}),(0,r.jsx)(P.x,{size:"md",children:m})]})},m))})]}),(0,r.jsx)(ef.p,{in:ee,unmountOnExit:!0,children:(0,r.jsx)(el.x,{w:"auto",justifyContent:"flex-end",pr:1,children:(0,r.jsx)(eA,{isDisabled:U,options:[_.y3$.Manage,_.y3$.Edit,_.y3$.Comment,_.y3$.View],variant:"ghost",selected:E,onClick:e=>S(e)})})})]})}),(0,r.jsx)(eI,{overflowX:"hidden",mr:-2,transition:"slow",animate:{maxWidth:ee?"200px":"0px"},children:(0,r.jsx)(k.kH,{label:(0,r.jsx)(w.cC,{id:"Rxin92"}),"aria-label":H.ag._({id:"Rxin92"}),isDisabled:!J,placement:"top",children:(0,r.jsx)(c.xu,{children:(0,r.jsx)(x.z,{variant:"solid",onClick:ed,isDisabled:!et||J,isLoading:U,"data-testid":"add-selected-items",children:(0,r.jsx)(w.cC,{id:"m16xKo"})})})})}),(0,r.jsx)(k.Wk,{isDark:!1,children:(0,r.jsx)(ev.C,{invitationCount:Q.length,onDiscardClick:()=>{z(),A.resolve(),T(new ej.B)},onSendInvitationsClick:()=>{z(),ed()},onClose:()=>{z(),A.reject(),T(new ej.B)},isOpen:R})})]})},eR=e=>{let{title:t,subtitle:n,img:i,isDisabled:o=!1,disabledText:s,tooltipText:a,testId:l,infoIcon:u,permissionsControl:d,workspaceGuestInvite:h}=e,p="string"==typeof n?(0,r.jsx)(P.x,{fontSize:"xs",color:"gray.500",children:n}):n,f=(0,r.jsx)(k.kH,{isDisabled:!a,label:a,placement:"top",children:(0,r.jsx)(c.xu,{children:d})});return(0,r.jsxs)($.U,{w:"100%",justify:"space-between",py:2,"data-testid":"permission-settings-row".concat(l?"-"+l:""),children:[(0,r.jsx)(c.xu,{children:(0,r.jsxs)(b.k,{alignItems:"center",children:[i,(0,r.jsxs)(c.xu,{ml:3,children:[(0,r.jsx)(P.x,{children:t}),(0,r.jsxs)(b.k,{align:"center",children:[h&&h,p&&p]})]})]})}),(0,r.jsx)(c.xu,{children:(0,r.jsx)(k.kH,{isDisabled:!a,label:(0,r.jsx)(P.x,{children:a}),placement:"top",children:o?(0,r.jsx)(P.x,{size:"sm",color:"gray.500","data-testid":"permission-controls-disabled-".concat(l),children:s}):u?(0,r.jsxs)($.U,{children:[u,f]}):f})})]})};var eN=n(17993);let eP=e=>{let{children:t,showDivider:n=!0,isDark:i=!1,...o}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eN.g,{spacing:1,align:"stretch",py:4,...o,children:t}),n&&(0,r.jsx)(d.i,{borderColor:i?"gray.700":"gray.200"})]})};var eL=n(43679),ez=n(34071),eG=n(39429),eU=n(46164),eB=n(47154),eH=n(48394);let eW=e=>{let{email:t,name:n,workspaceName:i,workspaceId:o}=e,[s]=(0,_.f4M)(),[a,l]=(0,D.useState)(!1),c=(0,N.p)();return(0,r.jsx)(eL.J,{closeOnBlur:!0,children:e=>{let{onClose:u}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ez.x,{children:(0,r.jsx)(x.z,{leftIcon:(0,r.jsx)(C.G,{icon:y.Gg}),size:"xs",colorScheme:"gray",mr:1,px:2,h:"auto",py:1,children:(0,r.jsx)(w.cC,{id:"O1wAlQ"})})}),(0,r.jsxs)(eG.y,{bg:"white",children:[(0,r.jsx)(eU.Q,{}),(0,r.jsx)(eB.Y,{fontWeight:"bold",children:(0,r.jsx)(w.cC,{id:"XYV7FR"})}),(0,r.jsxs)(eH.b,{children:[(0,r.jsx)(P.x,{fontSize:"sm",children:(0,r.jsx)(w.cC,{id:"hJZ5XP",values:{name:n,workspaceName:i,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:q.aq}})}),(0,r.jsx)(x.z,{isDisabled:a,w:"100%",mt:2,onClick:()=>{o&&t&&(l(!0),s({variables:{workspaceId:o,invitees:[{email:t}]}}).then(()=>{c({title:H.ag._({id:"oNCcm2"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}).catch(e=>{console.error(e),c({title:H.ag._({id:"h37zlR",values:{0:e.message}}),status:"error",isClosable:!0,position:"top"})}).finally(()=>{l(!1),u()}))},children:(0,r.jsx)(w.cC,{id:"qVqqmP"})})]})]})]})}})},eV=(e,t)=>{var n,i;let r="DocCollaborator"===e.__typename?null===(n=e.user.displayName)||void 0===n?void 0:n.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",o="DocCollaborator"===t.__typename?null===(i=t.user.displayName)||void 0===i?void 0:i.toUpperCase():"DocInvitation"===t.__typename?t.email.toUpperCase():"";return!o||r&&r<o?-1:!r||o&&r>o?1:0},eq=(e,t)=>{if(e.permission!==t.permission){if("manage"===e.permission)return -1;if("manage"===t.permission)return 1}return eV(e,t)},eZ=e=>{var t,n;let{workspaceId:o,isFromOtherOrg:s,doc:a,user:l,setVerifySearchDone:u,canManage:d,isDark:h=!1}=e,p=(0,N.p)(),[f,m]=(0,Y.I)(X.H.hasDismissedDocWorkspaceNotice,!1),{isConnected:x}=(0,_.$gs)(),[g,{error:v}]=(0,_.qVw)(),[j,{error:b}]=(0,_.mrc)();(0,K.GJ)("Error updating collaborator.",v),(0,K.GJ)("Error removing collaborator.",b);let[D]=(0,_.rIg)(),E=d&&x,S=!s,A=(S&&(f||!a||a.orgAccess),!!(!(null==a?void 0:a.orgAccess)&&(null==a?void 0:a.channels)&&(null==a?void 0:a.channels.length)>0&&(null==a?void 0:a.channels.every(e=>V()(e.permission))))),I=(null==a?void 0:a.orgAccess)==null&&(null==a?void 0:a.publicAccess)==_.y3$.View,O=(0,T.qw)(a),M=(null==a?void 0:a.collaborators)||[],F=(null==a?void 0:a.invitations)||[],R=M.filter(e=>e.permission===_.y3$.Manage).length,z=[...M,...F].sort(eq),W=e=>()=>{let t="updated"===e?H.ag._({id:"Xpw8aE"}):H.ag._({id:"jwO7L7"});p({title:t,status:"success",duration:5e3,isClosable:!0,position:"top"})},$=a.orgAccess?a.orgAccess:i.NoAccess,J=$!==i.NoAccess;return(0,r.jsxs)(r.Fragment,{children:[E&&(0,r.jsx)(eF,{workspaceId:o,docId:a.id,user:l,existingDocCollaborators:M,existingInvitations:F,registerDoneFn:u,isDisabled:!d}),(0,r.jsx)(Z.V,{label:(0,r.jsx)(w.cC,{id:"i5bpoc"}),isConnected:x,mb:4}),(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.600",pt:2,children:O}),(0,r.jsxs)(eP,{isDark:h,children:[!1,(0,r.jsx)(eR,{testId:"workspace",title:(0,r.jsx)(w.cC,{id:"wtxjAY"}),subtitle:J?H.ag._({id:"aC87LX",values:{0:null==a?void 0:null===(t=a.organization)||void 0===t?void 0:t.name}}):"",img:(0,r.jsx)(et,{icon:y.P88,showDisabled:!J}),isDisabled:!E,disabledText:eS[$].title(),infoIcon:I?(0,r.jsx)(k.kH,{label:(0,r.jsx)(w.cC,{id:"paaewf",values:{GAMMA_ARTIFACT_PROPER_NOUN:q.Yc}}),placement:"top",children:(0,r.jsx)(c.xu,{color:"yellow.500",children:(0,r.jsx)(C.G,{icon:y.DBf})})}):void 0,permissionsControl:(0,r.jsx)(eA,{isDisabled:!E,selected:$,options:[_.y3$.Manage,_.y3$.Edit,_.y3$.Comment,_.y3$.View,i.NoAccess],onClick:e=>{let t={id:a.id,orgAccess:e===i.NoAccess?null:e};D({variables:t,optimisticResponse:{updateDoc:{...t,__typename:"Doc"}},refetchQueries:["GetDocs"]}).then(W(e===i.NoAccess?"removed":"updated"))}})}),S&&(null===(n=a.channels)||void 0===n?void 0:n.map(e=>(0,r.jsx)(en,{channel:e,doc:a,isDisabled:!x,showDisabledIcon:A},e.id))),!!a.orgAccess&&S&&!a.site&&!A&&(0,r.jsx)(c.xu,{w:"100%",mt:2,children:(0,r.jsx)(eh,{existingChannels:a.channels,workspaceId:o,docId:a.id,isDisabled:!x})}),(0,r.jsx)(L.U,{in:S&&A,children:(0,r.jsxs)(G.b,{status:"warning",children:[(0,r.jsx)(U.z,{}),(0,r.jsx)(w.cC,{id:"RZRM4l",values:{GAMMA_ARTIFACT_PROPER_NOUN:q.Yc}})]})})]}),z&&(0,r.jsx)(eP,{showDivider:!1,isDark:h,children:z.map(e=>{let t=e.permission===_.y3$.Manage&&R<2,n=!E||t,i=t?H.ag._({id:"0q0LJR"}):void 0,s=eS[e.permission].title();if("DocCollaborator"===e.__typename){var u;let t=e.user;return(0,r.jsx)(eR,{testId:t.email,title:"".concat(t.displayName," ").concat(t.id===l.id?H.ag._({id:"dDUgzP"}):""),img:(0,r.jsx)(B.q,{name:t.displayName,src:t.profileImageUrl,size:"sm"}),subtitle:n?void 0:t.email,isDisabled:n,disabledText:s,tooltipText:i,workspaceGuestInvite:!n&&e.guest?(0,r.jsx)(eW,{name:t.displayName,workspaceName:null===(u=a.organization)||void 0===u?void 0:u.name,workspaceId:o,email:e.user.email}):void 0,permissionsControl:(0,r.jsx)(eA,{isDisabled:n,selected:e.permission,options:[_.y3$.Manage,_.y3$.Edit,_.y3$.Comment,_.y3$.View],disabledOptions:e.guest?[{permission:_.y3$.Manage,reason:H.ag._({id:"Rxin92"})}]:[],onClick:e=>{let n={docId:a.id,collaborators:[{userId:t.id,permission:e}]};g({variables:n,optimisticResponse:{addCollaborators:{id:n.docId,collaborators:M.map(n=>({...n,permission:n.user.id===t.id?e:n.permission})),invitations:F,__typename:"Doc"}}}).then(W("updated")).catch(()=>{})},onRemove:()=>{let e={docId:a.id,collaborators:[{userId:t.id}]};j({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,collaborators:M.filter(e=>e.user.id!==t.id),invitations:F,__typename:"Doc"}}}).then(W("removed"))}})},t.id)}return"DocInvitation"===e.__typename?(0,r.jsx)(eR,{testId:e.email,title:e.email,subtitle:H.ag._({id:"MActeE"}),img:(0,r.jsx)(c.Cd,{bg:"trueblue.50",size:8,children:(0,r.jsx)(C.G,{icon:y.FU$,size:"sm"})}),isDisabled:n,disabledText:s,permissionsControl:(0,r.jsx)(eA,{selected:e.permission,options:[_.y3$.Manage,_.y3$.Edit,_.y3$.Comment,_.y3$.View],disabledOptions:[{permission:_.y3$.Manage,reason:H.ag._({id:"Rxin92"})}],onClick:t=>{let n={docId:a.id,collaborators:[{email:e.email,permission:t}]};g({variables:n,optimisticResponse:{addCollaborators:{id:n.docId,invitations:F.map(n=>({...n,permission:n.email===e.email?t:n.permission})),collaborators:M,__typename:"Doc"}}}).then(W("updated")).catch(()=>{console.warn("Error updating permission")})},onRemove:()=>{let t={docId:a.id,collaborators:[{email:e.email}]};j({variables:t,optimisticResponse:{removeCollaborators:{id:t.docId,invitations:F.filter(t=>t.email!==e.email),collaborators:M,__typename:"Doc"}}}).then(W("removed"))}})},e.email):null})})]})};var eK=n(11050),eY=n(26284),eX=n(29494),e$=n(84405);let eJ="embed-copied-toast",eQ=e=>{let{embedCode:t,isDisabled:n,docId:i}=e,o=(0,N.p)(),[s,a]=(0,D.useState)(!1),{hasCopied:l,onCopy:c}=(0,eY.V)(t),u=(0,D.useRef)(null);(0,D.useEffect)(()=>{u.current&&s&&(u.current.focus(),u.current.select())},[s]);let d=(0,D.useCallback)(()=>a(!0),[]),h=(0,D.useCallback)(()=>a(!1),[]),p=(0,D.useCallback)(()=>{c(),o.isActive(eJ)||o({id:eJ,title:(0,r.jsx)(w.cC,{id:"ETv+Uw"}),status:"success",duration:5e3}),(0,e$.J)({docId:i,source:"sharePanel",type:"embed"})},[i,c,o]);return(0,r.jsxs)(eN.g,{spacing:4,align:"stretch",children:[(0,r.jsx)(eX.g,{ref:u,rows:5,variant:"filled",fontFamily:"mono",colorScheme:"gray",disabled:n,onClick:d,onBlur:h,isReadOnly:!0,resize:"none",pointerEvents:n?"none":void 0,defaultValue:t}),(0,r.jsx)(x.z,{alignSelf:"flex-end",onClick:p,isDisabled:n,size:"sm",...n?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:l?(0,r.jsx)(w.cC,{id:"6V3Ea3"}):(0,r.jsx)(w.cC,{id:"Sx4kHi"})})]})};var e0=n(60536);let e1=e=>{let{doc:t,onSharePanelOpen:n,onSharePanelClose:i}=e,o=(0,D.useMemo)(()=>(0,ee.lT)({docId:t.id,docTitle:t.title}),[t.id,t.title]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.600",pt:2,pb:2,children:(0,r.jsx)(w.cC,{id:"2QJhbq",values:{GAMMA_ARTIFACT_PROPER_NOUN:q.Yc}})}),(0,r.jsx)(c.xu,{pb:4,children:(0,r.jsx)(eQ,{embedCode:o,docId:t.id,isDisabled:!1})}),(0,r.jsx)(e0.V,{onClose:i,onOpen:n,segmentEvent:eK.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:t})]})};var e2=n(91994),e3=n(25566),e5=n(75652),e4=n.n(e5),e6=n(14274),e8=n(47968);let e7=(e,t)=>"".concat(e6.v.API_HOST||"","/export/docs/").concat(e,"/").concat(t),e9=async(e,t,n)=>{let i=e7(e,n);return fetch(i,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":e6.v.SHARE_TOKEN||""},body:JSON.stringify({docContent:t})})},te=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",o=(0,N.p)(),s=(0,D.useRef)(null),a=(0,eK.z$)(),[l,c]=(0,D.useState)(!1),u=(0,D.useCallback)(()=>{s.current=o({id:"export-toast-".concat(e.id,"-").concat(i),isClosable:!1,position:"top",duration:null,status:"loading",variant:"light",title:(0,r.jsx)(w.cC,{id:"N/fNtX",values:{format:i}})})},[null==e?void 0:e.id,o,i]),d=(0,D.useCallback)(()=>{s.current&&o.update(s.current,{status:"loading",variant:"light",title:(0,r.jsx)(w.cC,{id:"eJOEBy"}),description:(0,r.jsx)(w.cC,{id:"vMANwD"}),isClosable:!0})},[o,i]),h=(0,D.useCallback)(()=>{s.current&&o.update(s.current,{title:(0,r.jsx)(w.cC,{id:"walT1X"}),status:"error",duration:null,isClosable:!0})},[o]),p=(0,D.useCallback)(e=>{s.current&&o.update(s.current,{status:"success",title:(0,r.jsx)(w.cC,{id:"pK8dQg"}),description:(0,r.jsx)(P.x,{children:(0,r.jsx)(w.cC,{id:"MTtTC2",components:{0:(0,r.jsx)(J.r,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>s.current&&o.close(s.current)})}})}),isClosable:!0})},[o,i]),f=(0,D.useCallback)(()=>{let r=null==n?void 0:n.getJSON();c(!0),u();let o=setTimeout(d,3e4);e9(e.id,r,i).then(async n=>{var r;let o=await n.blob();if(!n.ok)throw Error("Export failed.");let s="pdf"===i?eK.AA.PDF_EXPORTED:eK.AA.PPTX_EXPORTED;null==a||a.track(s,{doc_id:e.id,source:t}),p(decodeURIComponent(n.headers.get("x-gamma-download-url")||"")||void 0);let l=window.URL.createObjectURL(o),c=document.createElement("a"),u=decodeURIComponent((null===(r=(n.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))||void 0===r?void 0:r.replace("filename=","").trim())||"".concat(e.id,".").concat(i));c.download=u,c.href=l,c.style.display="none",document.body.appendChild(c),c.click(),c.remove()}).catch(()=>{h()}).finally(()=>{c(!1),clearTimeout(o)})},[a,null==e?void 0:e.id,n,t,i,h,u,d,p]);return{handleExport:f,exportInProgress:l}},tt=e=>{let t=(0,e2.CG)(e8.Pu),n=e.theme||t,i=(0,D.useMemo)(()=>{let e=n.fonts?[...n.fonts]:[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),e4()(e).map(e=>{var t;return(null===(t=e.url)||void 0===t?void 0:t.includes("fonts.googleapis.com"))?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(e=>!!e)},[n]);return i};var tn=n(69747),ti=n(68727);let tr=e=>{let{doc:t,editor:n,onSharePanelOpen:i,onSharePanelClose:o,isMultipage:s=!1}=e,a=(0,e2.CG)(e8.Pu),l=a.config.headingGradient,c=(0,F.py)("edit",t);return(0,r.jsxs)(eN.g,{spacing:4,align:"start",pt:2,children:[(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.600",children:s?(0,r.jsx)(w.cC,{id:"QI+Cf0",values:{0:t.title},components:{0:(0,r.jsx)("strong",{})}}):(0,r.jsx)(w.cC,{id:"qwhOQ/",values:{GAMMA_ARTIFACT_PROPER_NOUN:q.Yc}})}),(0,r.jsxs)(p.K,{spacing:2,width:"100%",children:[(0,r.jsx)(ta,{format:"pdf",label:"PDF",icon:y.gSj,accentColor:"red",doc:t,editor:n}),(0,r.jsx)(ta,{format:"pptx",label:"PowerPoint",icon:y.WOY,accentColor:"orange",doc:t,editor:n})]}),(0,r.jsxs)(p.K,{spacing:"2",w:"100%",children:[l&&(0,r.jsx)(to,{}),(0,r.jsx)(ts,{doc:t})]}),n&&c&&(0,r.jsx)(P.x,{fontSize:"sm",color:"gray.600",children:(0,r.jsx)(w.cC,{id:"8LhjM/",components:{0:(0,r.jsx)(x.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{o(),tn.pw.emit(tn.TI.OPEN_PAGE_SETUP,"cards")}})}})}),(0,r.jsx)(e0.V,{onClose:o,onOpen:i,segmentEvent:e3.AA.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:t})]})},to=()=>{let e=(0,er.ff)("gray.100","gray.800");return(0,r.jsxs)(G.b,{status:"info",bg:e,children:[(0,r.jsx)(U.z,{color:"gray.400",boxSize:"4",mt:"1",mr:"2.5"}),(0,r.jsx)(w.cC,{id:"lgULOV",values:{GAMMA_ARTIFACT_PROPER_NOUN:q.Yc}})]})},ts=e=>{let{doc:t}=e,n=tt(t),i=(0,er.ff)("gray.200","gray.700"),o=(0,er.ff)("gray.100","gray.800"),s=(0,er.ff)("white","gray.800"),a=(0,er.ff)("trueblue.400","trueblue.200"),l=(0,er.ff)("trueblue.300","trueblue.200");return n.length?(0,r.jsxs)(G.b,{status:"info",bg:o,children:[(0,r.jsx)(U.z,{color:"gray.400",boxSize:"4",mt:"1",mr:"2.5"}),(0,r.jsxs)(p.K,{children:[(0,r.jsx)(P.x,{fontSize:"sm",children:(0,r.jsx)(w.cC,{id:"5qYpE7"})}),(0,r.jsx)($.U,{children:n.map(e=>{let{name:t,url:n}=e;return(0,r.jsx)(c.xu,{border:"1px",borderColor:i,borderRadius:"md",bg:s,h:"auto",_hover:n?{boxShadow:"var(--chakra-shadows-md)",borderColor:l,color:a}:{},transitionProperty:"common",transitionDuration:"normal",onClick:n?()=>window.open(n,"_blank"):void 0,cursor:n?"pointer":void 0,children:(0,r.jsxs)($.U,{p:3,paddingRight:4,spacing:4,children:[(0,r.jsx)(P.x,{fontWeight:"medium",children:t}),n&&(0,r.jsx)(C.G,{icon:y.wlW,size:"1x"})]})},"name")})})]})]}):null},ta=e=>{let{format:t,doc:n,editor:i,icon:o,accentColor:s,label:a,badge:l}=e,{handleExport:c,exportInProgress:u}=te(n,"share_panel",i,t);return(0,r.jsx)(ti.j,{onClick:c,icon:o,formatLabel:a,accentColor:s,exportInProgress:u,exportInProgressNote:(0,r.jsx)(w.cC,{id:"57bp6s"}),badge:l})};var tl=n(49259),tc=n(87436),tu=n(95897),td=n(89511),th=n(11121),tp=n(54933),tf=n(21979),tm=n(42111),tx=n(16893);let tg=e=>{let{subtitle:t,tooltipLabel:n,ariaLabel:i,icon:o}=e;return(0,r.jsxs)($.U,{spacing:1,align:"center",children:[(0,r.jsx)(P.x,{fontSize:"xs",color:"gray.500",children:t}),(0,r.jsx)(k.kH,{label:n,placement:"top","aria-label":i,children:(0,r.jsx)(c.xu,{color:"gray.500",lineHeight:"1",children:(0,r.jsx)(C.G,{size:"xs",icon:o})})})]})};var tv=n(41098),tj=n(35183),tb=n(85573),ty=n(99793),tC=n(81640);let tk=e=>{var t;let{onClose:n,onOpen:i,accessLinkEnabled:o,doc:s,isDark:a,segmentEvent:l}=e,c=(0,N.p)(),{openUpsellModal:u}=(0,tC.z)(),[d,{data:h,loading:f}]=(0,_.deZ)(),[m,j]=(0,D.useState)(""),[b,y]=(0,D.useState)(""),[C,{loading:E}]=(0,_.DFf)(),[A]=(0,_.pi3)(),T=(0,S.Y)("password_protected_docs",s.organization),I=(null==s?void 0:null===(t=s.accessLinks)||void 0===t?void 0:t[0].type)==="password",[O,M]=(0,D.useState)((null==h?void 0:h.getDocPassword)||""),[F,R]=(0,D.useState)(I),z=I||F;(0,D.useEffect)(()=>{I&&d({variables:{docId:s.id},fetchPolicy:"network-only",nextFetchPolicy:"network-only"}).then(e=>{let{data:t}=e;j((null==t?void 0:t.getDocPassword)||""),M((null==t?void 0:t.getDocPassword)||"")})},[s,I,d,j]);let G=(0,D.useCallback)(e=>{if(o){if(T){if(R(e.target.checked),!e.target.checked){if(!I)return;A({variables:{docId:s.id}}).then(()=>{c({title:(0,r.jsx)(w.cC,{id:"YZNij4"}),status:"success",duration:3e3,isClosable:!0,position:"top"})}),j(""),M("")}}else e.preventDefault(),u({onOpenCallback:n,onCloseCallback:i,segmentEvent:l})}},[o,s,I,T,u,i,n,A,l,c]),U=(0,D.useCallback)(()=>{if(m.length<4||m.length>64){y(H.ag._({id:"S04MAD",values:{MIN_PASSWORD_LENGTH:4,MAX_PASSWORD_LENGTH:64}}));return}C({variables:{docId:s.id,password:m},refetchQueries:["GetDocPassword"]}).then(()=>{c({title:(0,r.jsx)(w.cC,{id:"R10gKk"}),status:"success",duration:3e3,isClosable:!0,position:"top"})}),M(m)},[s,m,M,y,C,c]);return(0,r.jsxs)(p.K,{w:"100%",children:[(0,r.jsxs)($.U,{mt:4,mb:2,children:[(0,r.jsxs)($.U,{children:[(0,r.jsx)(P.x,{children:(0,r.jsx)(w.cC,{id:"F5g7OG"})}),!T&&(0,r.jsx)(g.C,{colorScheme:"purple",variant:"solid",children:q.ML})]}),(0,r.jsx)(v.L,{}),(0,r.jsx)(k.kH,{label:o?"":(0,r.jsx)(w.cC,{id:"5JvE0U"}),placement:"top",children:(0,r.jsx)(tv.r,{isChecked:F,disabled:!o,onChange:G})})]}),(0,r.jsx)(L.U,{in:z,children:(0,r.jsxs)(tj.NI,{isInvalid:!!b,children:[(0,r.jsx)($.U,{children:f?(0,r.jsx)(ea.$,{size:"md"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tb.I,{id:"password",type:"text",value:m,onChange:e=>j(e.currentTarget.value),onKeyUp:e=>{"Enter"===e.key&&U(),b&&m.length>=4&&m.length<=64&&y("")},width:"50%",placeholder:H.ag._({id:"f7sXvi"}),bg:a?void 0:"white"}),(0,r.jsx)(x.z,{isDisabled:m===O,variant:"plain",onClick:U,isLoading:E,children:(0,r.jsx)(w.cC,{id:"tfDRzk"})})]})}),b&&(0,r.jsx)(ty.J1,{children:b})]})})]})},tw=()=>({view:{subtitle:H.ag._({id:"ihPQra"}),tooltip:(0,A.tN)()},comment:{subtitle:H.ag._({id:"qPZYdC"}),tooltip:H.ag._({id:"oKPro/",values:{0:(0,A.tN)()}})},edit:{subtitle:H.ag._({id:"TVFcVE"}),tooltip:H.ag._({id:"2gPY9r",values:{0:(0,A.tN)()}})}}),tD=e=>{var t;let{doc:n,isConnected:o,onSharePanelOpen:s,onSharePanelClose:a,canManage:l,isDark:u}=e,d=(0,N.p)(),h=(0,tx.A)(tw),p=(0,tm.ye)("passwordProtectedDoc")&&l,f=null==n?void 0:null===(t=n.accessLinks)||void 0===t?void 0:t[0],m=(null==f?void 0:f.type)==="password",[x,g]=(0,D.useState)(!1),[v]=(0,_.kTH)(),j=(null==f?void 0:f.permission)?null==f?void 0:f.permission:i.NoAccess,k=j===i.NoAccess,E=(null==f?void 0:f.token)==="",S=f&&f.permission!==_.y3$.View,A=e=>()=>{let t="updated"===e?H.ag._({id:"Xpw8aE"}):H.ag._({id:"jwO7L7"});d({title:t,status:"success",duration:5e3,isClosable:!0,position:"top"})},T=(0,D.useMemo)(()=>(0,ee.Gn)({docTitle:null==n?void 0:n.title,docId:null==n?void 0:n.id,token:null==f?void 0:f.token,absolute:!0}),[n,null==f?void 0:f.token]),I=(0,r.jsx)(e0.V,{onClose:a,onOpen:s,segmentEvent:eK.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:n});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eP,{showDivider:!1,children:l&&(0,r.jsxs)(eP,{showDivider:!1,children:[(0,r.jsx)(eR,{title:m?(0,r.jsx)(w.cC,{id:"gbBlJ4"}):(0,r.jsx)(w.cC,{id:"qZu20V"}),subtitle:k?H.ag._({id:"vMZPZT"}):(0,r.jsx)(tg,{subtitle:h[j].subtitle,tooltipLabel:h[j].tooltip,ariaLabel:h[j].subtitle,icon:y.DBf}),img:(0,r.jsx)(et,{icon:m?y.LbY:y.nNP,showDisabled:k}),isDisabled:!(l&&o),disabledText:eS[i.NoAccess].title(),permissionsControl:(0,r.jsx)(eA,{selected:j,options:[_.y3$.Edit,_.y3$.Comment,_.y3$.View,i.NoAccess],onClick:e=>{let t=null==f?void 0:f.id,r={id:n.id,accessLinks:e===i.NoAccess?[{permission:null}]:[{permission:e}]};v({variables:r,optimisticResponse:{updateDoc:{...r,accessLinks:[{__typename:"AccessLink",id:t||"temp-id",permission:e===i.NoAccess?null:e}],__typename:"Doc"}}}).then(A(e===i.NoAccess?"removed":"updated"))}})}),(0,r.jsxs)(L.U,{animateOpacity:!0,in:!!(null==f?void 0:f.permission),children:[(0,r.jsx)(tf.I,{url:T,customLabel:H.ag._({id:"y1eoq1"}),onClick:()=>{(0,e$.J)({docId:n.id,source:"sharePanel",type:"tokenUrl"})}}),!E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.U,{in:x,unmountOnExit:!0,children:(0,r.jsxs)(eN.g,{mt:3,align:"stretch",spacing:4,bg:"gray.50",p:6,borderRadius:"md",children:[(0,r.jsxs)($.U,{spacing:4,align:"center",children:[(0,r.jsx)(c.xu,{color:"purple.600",children:(0,r.jsx)(C.G,{fixedWidth:!0,icon:tp._1N})}),(0,r.jsx)(P.x,{fontSize:"sm",children:(0,r.jsx)(w.cC,{id:"asiJbp"})})]}),(0,r.jsxs)($.U,{spacing:4,align:"center",children:[(0,r.jsx)(c.xu,{color:"purple.600",children:(0,r.jsx)(C.G,{fixedWidth:!0,icon:tp.Mdf})}),(0,r.jsx)(P.x,{fontSize:"sm",display:"inline-block",children:(0,r.jsx)(w.cC,{id:"+g8rkW",values:{GAMMA_ARTIFACT_PROPER_NOUN:q.Yc,GAMMA_PROPER_NOUN:q.N6}})})]}),S&&(0,r.jsxs)($.U,{spacing:4,align:"center",children:[(0,r.jsx)(c.xu,{color:"purple.600",children:(0,r.jsx)(C.G,{fixedWidth:!0,icon:tp.FKd})}),(0,r.jsx)(P.x,{fontSize:"sm",children:(0,r.jsx)(w.cC,{id:"NSCwrX",values:{GAMMA_PROPER_NOUN:q.N6,selectedAccessLinkPermission:j},components:{0:(0,r.jsx)(P.x,{as:"span",fontWeight:"bold"})}})})]})]})}),(0,r.jsx)(b.k,{justify:"center",alignItems:"center",my:3,children:(0,r.jsxs)($.U,{spacing:1,as:"button",onClick:()=>g(!x),children:[x?(0,r.jsx)(C.G,{fixedWidth:!0,size:"xs",icon:y.onQ}):(0,r.jsx)(C.G,{fixedWidth:!0,size:"xs",icon:y.r8p}),(0,r.jsx)(P.x,{lineHeight:"normal",marginLeft:"auto",marginRight:"auto",fontSize:"xs",fontWeight:"medium",children:x?(0,r.jsx)(w.cC,{id:"BRvU04"}):(0,r.jsx)(w.cC,{id:"l0Ck42"})})]})})]})]})]})}),p?(0,r.jsx)(tl.U,{defaultIndex:[0],allowToggle:!0,bgColor:u?"gray.800":"gray.100",borderRadius:"md",borderColor:"transparent",children:(0,r.jsxs)(tc.Q,{children:[(0,r.jsxs)(tu.K,{children:[(0,r.jsx)(c.xu,{as:"span",flex:"1",textAlign:"left",fontWeight:"medium",children:(0,r.jsx)(w.cC,{id:"VNgKZz"})}),(0,r.jsx)(td.X,{})]}),(0,r.jsxs)(th.H,{children:[I,(0,r.jsx)(tk,{onClose:a,onOpen:s,segmentEvent:eK.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:n,isDark:u,accessLinkEnabled:!k})]})]})}):I]})},t_=e=>{let{visibility:t,isFromOtherOrg:n}=e,i=(0,er.ff)("white","var(--chakra-colors-gray-900)");return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(C.G,{icon:y.Gg}),(0,r.jsxs)(c.xu,{as:"span",className:"fa-layers fa-fw",children:[(0,r.jsx)(C.G,{icon:t.primaryIcon}),t.secondaryIcon&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.G,{icon:tp.diR,color:i,transform:"down-6 right-6"}),(0,r.jsx)(C.G,{icon:t.secondaryIcon,transform:"shrink-7 right-6 down-6"})]})]})]})},tE=e=>{var t;let{doc:n,editor:i,isSharePanelOpen:N,onSharePanelClose:P,onSharePanelOpen:L,onAnalyticsPanelOpen:z,view:G,setView:U,showAnalytics:B=!0,showSharePublic:H=!0,showEmbed:W=!0,showSiteSettings:V=!0}=e,q=(0,M.Yy)(),Z=(0,S._O)(),{openSiteSettings:K}=(0,R.AA)(),Y=(0,D.useRef)(!1),{user:X,currentWorkspace:$}=(0,F.SE)(),{isConnected:J}=(0,_.$gs)(),Q=(0,F.py)("manage",n),ee=(0,F.py)("comment",n),{isOpen:et,onClose:en}=(0,E.M)({id:"create-site-modal"}),ei=n&&n.site&&n.site.routes.length>1,er=n&&(0,O.Vr)(n.site),eo=(0,A.ei)({showSharePublic:H&&Q&&!er,showEmbed:W&&Q&&!er}),es=Q&&z&&n&&!er,[ea,el]=(0,D.useState)(()=>()=>Promise.resolve()),ec=(0,D.useCallback)(()=>{P(),en()},[P,en]),eu=n?ei?n.site.name:n.title:null,ed=(0,D.useCallback)(()=>{ea().then(()=>{U("invite"),P()},()=>{console.debug("[handleSharePanelClose] CollaboratorSearchBar rejected \uD83D\uDC4E\uD83C\uDFFC")})},[U,P,ea]),eh=(0,D.useCallback)(()=>{z&&(P(),z())},[z,P]),ep=(0,D.useCallback)(()=>{K("domains"),P()},[P,K]);if(!X)return null;let ef=(0,T.h_)(n,X),em=ef?(0,T.Xp)()[ef]:null,ex=(0,T.Gi)(n,$);if(n&&null===em)return console.error("[SharePanel] Unknown VisibilityValue for doc",n),null;let eg=null==n?void 0:null===(t=n.organization)||void 0===t?void 0:t.id;!n||eg||Y.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:n.id,organization:n.organization}),Y.current=!0);let ev=q?"gray.400":"gray.600",ej=q?"whiteAlpha.200":"trueblue.50",eb=q?"trueblue.200":"trueblue.500";return(0,r.jsxs)(k.Wk,{isDark:q,children:[(0,r.jsxs)(o.u_,{onEsc:ed,isOpen:N,onClose:P,trapFocus:!1,size:"3xl",returnFocusOnClose:!1,children:[(0,r.jsx)(s.Z,{}),(0,r.jsxs)(a.h,{color:q?"white":"gray.800",bg:q?"gray.900":"white","data-share-panel-modal-content":!0,mx:2,borderColor:q?"gray.700":"gray.200",children:[(0,r.jsxs)(l.x,{children:[em&&(0,r.jsx)(c.xu,{as:"span",mr:3,children:(0,r.jsx)(t_,{visibility:em,isFromOtherOrg:ex})}),eu?(0,r.jsx)(w.cC,{id:"sit2to",values:{displayName:eu}}):(0,r.jsx)(w.cC,{id:"Z8lGw6"})]}),(0,r.jsx)(u.o,{"data-share-panel-close-button":!0,onClick:e=>{e.preventDefault(),ed()}}),(0,r.jsx)(d.i,{}),n?(0,r.jsx)(h.f,{"data-testid":"share-panel-modal-body",children:n&&eg&&(0,r.jsxs)(r.Fragment,{children:[Q&&(0,r.jsxs)(p.K,{direction:"row",alignItems:"center",children:[(0,r.jsx)(m.E,{my:4,children:eo.map(e=>{let{viewKey:t,icon:n,ariaLabel:i,label:o,isBeta:s}=e,a=G===t;return(0,r.jsx)(m.U,{children:(0,r.jsx)(x.z,{leftIcon:(0,r.jsx)(C.G,{icon:n,"aria-label":i}),variant:"ghost",size:"sm",fontWeight:"600",bg:a?ej:"transparent",color:a?eb:ev,onClick:()=>U(t),rightIcon:s?(0,r.jsx)(g.C,{colorScheme:"green",children:(0,r.jsx)(w.cC,{id:"YBt9YP"})}):void 0,children:o})},t)})}),V&&!(null==n?void 0:n.site)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.L,{}),(0,r.jsx)(x.z,{flexShrink:0,onClick:ep,variant:"plain",size:"sm",my:4,alignSelf:"flex-start",children:(0,r.jsx)(w.cC,{id:"sAalO9"})})]})]}),(!ee||"invite"==G)&&(0,r.jsx)(eZ,{workspaceId:eg,doc:n,user:X,setVerifySearchDone:el,canManage:Q,isFromOtherOrg:ex,isMultipage:ei,isDark:q}),Q&&"public"===G&&(0,r.jsx)(tD,{doc:n,isConnected:J,onSharePanelOpen:L,onSharePanelClose:P,canManage:Q,isDark:q}),Q&&"embed"===G&&(0,r.jsx)(e1,{doc:n,onSharePanelOpen:L,onSharePanelClose:P}),ee&&"export"===G&&(0,r.jsx)(tr,{doc:n,editor:i,onSharePanelOpen:L,onSharePanelClose:P,isMultipage:ei})]})}):(0,r.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:(0,r.jsxs)(p.K,{children:[(0,r.jsx)(f.O,{height:"55px"}),(0,r.jsx)(f.O,{height:"55px"}),(0,r.jsx)(f.O,{height:"55px"}),(0,r.jsx)(f.O,{height:"55px"})]})}),(0,r.jsx)(d.i,{}),(0,r.jsx)(j.m,{children:(0,r.jsxs)(b.k,{justifyContent:"space-between",flex:1,children:[B&&es&&(0,r.jsx)(x.z,{isDisabled:!J,leftIcon:(0,r.jsx)(C.G,{icon:y.Ma4}),variant:"ghost",onClick:eh,children:(0,r.jsx)(w.cC,{id:"YaUqUV"})}),(0,r.jsx)(v.L,{}),(0,r.jsx)(x.z,{onClick:e=>{e.preventDefault(),ed()},variant:"solid",children:(0,r.jsx)(w.cC,{id:"DPfwMq"})})]})})]})]}),(null==n?void 0:n.id)&&Z&&Q&&(0,r.jsx)(I.M,{isOpen:et,onClose:ec,existingDoc:n})]})}},91283:function(e,t,n){"use strict";n.d(t,{XG:function(){return i.XG},t9:function(){return i.t9},zx:function(){return T},bg:function(){return I}});var i=n(34613),r=n(52322),o=n(92850),s=n(26468),a=n(22226),l=n(54326),c=n(2338),u=n(97217),d=n(77533),h=n(28535),p=n(50250),f=n(75768),m=n(62614),x=n(55478),g=n(70065),v=n(42946),j=n(49929),b=n(5879),y=n(87254),C=n(1842),k=n.n(C),w=n(2784),D=n(93202),_=n(94199),E=n(36651),S=n(8174),A=n(16710);let T=e=>{var t;let{onClose:n,onSubmit:x,doc:g}=e,C=(0,E.py)("manage",g||void 0),{isConnected:k}=(0,D.$gs)(),[_,S]=(0,w.useState)(D.y3$.Manage);return g?(0,r.jsxs)(o.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:n,size:"lg",children:[(0,r.jsx)(s.Z,{}),(0,r.jsxs)(a.h,{"data-testid":"workspace-permissions-prompt",children:[(0,r.jsx)(l.x,{children:(0,r.jsx)(b.cC,{id:"JzTAyU",values:{0:g.title}})}),(0,r.jsx)(c.o,{}),(0,r.jsxs)(u.f,{children:[(0,r.jsx)(d.x,{mb:6,children:(0,r.jsx)(b.cC,{id:"wKPcxh"})}),(0,r.jsx)(i.o$,{testId:"workspace",title:(0,r.jsx)(b.cC,{id:"wtxjAY"}),subtitle:y.ag._({id:"aC87LX",values:{0:null==g?void 0:null===(t=g.organization)||void 0===t?void 0:t.name}}),isDisabled:!C||!k,img:(0,r.jsx)(h.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:"32px",children:(0,r.jsx)(j.G,{size:"1x",icon:v.P88})}),disabledText:i.Nj[_].title(),permissionsControl:(0,r.jsx)(i.t9,{selected:_,options:[D.y3$.Manage,D.y3$.Edit,D.y3$.Comment,D.y3$.View],onClick:e=>{S(e)}})})]}),(0,r.jsx)(p.m,{children:(0,r.jsxs)(f.h,{children:[(0,r.jsx)(m.z,{variant:"ghost",onClick:n,children:(0,r.jsx)(b.cC,{id:"dEgA5A"})}),(0,r.jsx)(m.z,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:()=>{x(_),n()},children:(0,r.jsx)(b.cC,{id:"DPfwMq"})})]})})]})]}):(0,r.jsx)(r.Fragment,{})},I=()=>{let{onOpen:e,isOpen:t,onClose:n}=(0,x.q)({id:"workspacePermissionPromptDisclosure"}),[i]=(0,D.rIg)(),{currentWorkspace:r}=(0,E.SE)(),o=(0,g.p)(),{addDocChannel:s}=(0,S.Z)(),[a,l]=(0,w.useState)(null),[c,u]=(0,w.useState)(null),d=(0,E.we)(),h=(0,w.useCallback)((e,t)=>{let n=(e.channels||[]).find(e=>e.id===t.id),i=(0,A.Gi)(e,r),s=d.cannot("manage",e)&&k()(e.orgAccess);return i?(o({description:y.ag._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:_.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):s?(o({description:y.ag._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:_.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!n||(o({description:y.ag._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:_.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[d,o,r]),p=(0,w.useCallback)(e=>{if(!a||!c)return;let{id:t}=a;i({variables:{id:t,orgAccess:e},optimisticResponse:{updateDoc:{id:t,orgAccess:e,__typename:"Doc"}}}).then(()=>{s({doc:a,channel:c,existingChannels:null==a?void 0:a.channels})}).catch(e=>{console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",t),o({title:y.ag._({id:"SlfejT"}),description:y.ag._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})},[s,a,c,o,i]),f=(0,w.useCallback)((t,n)=>{let i=h(t,n);i&&(t.orgAccess?s({doc:t,channel:n,existingChannels:(null==t?void 0:t.channels)||[]}):(l(t),u(n),e()))},[s,e,h]),m=(0,w.useCallback)(()=>{u(null),l(null),n()},[n]);return{isOpen:t,onClose:m,doc:a,handleAddDocToChannel:f,updateWorkspacePermissionThenAddToChannel:p}}},8174:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(52322),r=n(70065),o=n(5879),s=n(2784),a=n(93202),l=n(94199);let c=()=>{let e=(0,r.p)(),[t]=(0,a.yx3)({refetchQueries:["GetChannelDocActivity","GetChannels"]}),n=(0,s.useCallback)(n=>{let{docId:r,doc:s,channel:c,existingChannels:u=[]}=n,d=r||(null==s?void 0:s.id);if(!d){console.error("Invalid docid");return}let h={input:{docId:d,sharing:[{op:a.Bdm.Add,path:"/channels",value:[{channelId:c.id}]}]}},p=(null==s?void 0:s.title)||l.Yc,f=[...u,{id:c.id,slug:c.slug,name:c.name,permission:a.y3$.Comment}].sort((e,t)=>e.slug.localeCompare(t.slug,"en"));t({variables:h,update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(d),fragment:a.IiT,data:null==n?void 0:n.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:h.input.docId,channels:f}}}).then(()=>{e({title:(0,i.jsx)(o.cC,{id:"7hDHpt",values:{title:p}}),description:(0,i.jsx)(o.cC,{id:"A2xcFn",values:{GAMMA_ARTIFACT_PROPER_NOUN:l.Yc,0:c.name}}),status:"success",duration:5e3,isClosable:!0,position:"top"})},t=>{e({title:(0,i.jsx)(o.cC,{id:"bLdU0Q",values:{title:p,0:c.name}}),description:t.message,duration:null,status:"error",isClosable:!0,position:"top"})})},[t,e]),c=(0,s.useCallback)((n,r)=>{var s;if(!r)return;let c={input:{docId:n.id,sharing:[{op:a.Bdm.Remove,path:"/channels",value:[{channelId:r}]}]}};t({variables:c,update:(e,t)=>{let{data:i}=t;e.writeFragment({id:"Doc:".concat(n.id),fragment:a.P6u,data:null==i?void 0:i.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:c.input.docId,channels:null===(s=n.channels)||void 0===s?void 0:s.filter(e=>e.id!==r)}}}).then(()=>{e({title:(0,i.jsx)(o.cC,{id:"qsnpV6",values:{GAMMA_ARTIFACT_PROPER_NOUN:l.Yc}}),status:"success",duration:1e4,position:"top"})}).catch(t=>{e({title:(0,i.jsx)(o.cC,{id:"+yMzgs"}),description:t.message,status:"error",duration:3e3,isClosable:!0,position:"top"}),console.error("[addRemoveDocChannel] Error removing channel:",t.message)})},[t,e]);return{addDocChannel:n,removeDocChannel:c}}},16710:function(e,t,n){"use strict";n.d(t,{Gi:function(){return u},Xp:function(){return p},h_:function(){return f},nZ:function(){return g},qw:function(){return m},uG:function(){return v}});var i=n(52322),r=n(42946),o=n(5879),s=n(87254),a=n(94199),l=n(30579),c=n(78462);let u=(e,t)=>{var n;return(null==e?void 0:null===(n=e.organization)||void 0===n?void 0:n.id)!==(null==t?void 0:t.id)},d={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",PASSWORD_VIEW:"password-view",PASSWORD_COMMENT:"password-comment",PASSWORD_EDIT:"password-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},h=[d.ORG_VIEW,d.ORG_COMMENT,d.ORG_EDIT,d.ORG_MANAGE],p=()=>({[d.PRIVATE]:{title:()=>s.ag._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),subtitle:()=>s.ag._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.byT},[d.LINK_VIEW]:{title:()=>s.ag._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.nNP},[d.LINK_COMMENT]:{title:()=>s.ag._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.nNP},[d.LINK_EDIT]:{title:()=>s.ag._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.nNP},[d.PASSWORD_VIEW]:{title:()=>s.ag._({id:"s1I4TC",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.LbY},[d.PASSWORD_COMMENT]:{title:()=>s.ag._({id:"ZVsBuN",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.LbY},[d.PASSWORD_EDIT]:{title:()=>s.ag._({id:"IAzUDH",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.LbY},[d.INDIVIDUAL]:{title:()=>s.ag._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),subtitle:e=>"".concat(e," can access this ").concat(a.Yc,"."),primaryIcon:r.ILF},[d.ORG_VIEW]:{title:e=>s.ag._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:r.P88,secondaryIcon:r.Mdf},[d.ORG_COMMENT]:{title:e=>s.ag._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:r.P88,secondaryIcon:r.Mzg},[d.ORG_EDIT]:{title:e=>s.ag._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:r.P88,secondaryIcon:r.TzT},[d.ORG_MANAGE]:{title:e=>s.ag._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:r.P88},[d.CHANNEL_PRIVATE]:{title:()=>s.ag._({id:"Tw6Jzi"}),primaryIcon:l.Ty},[d.PUBLIC]:{title:()=>s.ag._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:r.Xj}}),f=(e,t)=>{var n;if(!e)return null;let i=(null==e?void 0:e.publicAccess)?d.PUBLIC:(null==e?void 0:e.orgAccess)==="manage"?d.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?d.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?d.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?d.ORG_VIEW:(null==e?void 0:e.channels)&&e.channels.some(e=>null!==e.permission)?d.CHANNEL_PRIVATE:(null==e?void 0:e.collaborators)&&(null==e?void 0:null===(n=e.collaborators)||void 0===n?void 0:n.length)>1?d.INDIVIDUAL:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"view"===e.permission&&""===e.token)?d.LINK_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"comment"===e.permission&&""===e.token)?d.LINK_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"edit"===e.permission&&""===e.token)?d.LINK_EDIT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"view"===e.permission&&""===e.token)?d.PASSWORD_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"comment"===e.permission&&""===e.token)?d.PASSWORD_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"edit"===e.permission&&""===e.token)?d.PASSWORD_EDIT:v(e,t)?d.PRIVATE:d.INDIVIDUAL;return i},m=e=>(null==e?void 0:e.publicAccess)?s.ag._({id:"gJUdlS",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}):(null==e?void 0:e.orgAccess)?s.ag._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}):s.ag._({id:"QbKKqw",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),x=(e,t,n)=>{var s,a;if(!t)return[];let p=(null==e?void 0:null===(s=e.channels)||void 0===s?void 0:s.map(e=>{let{id:t,name:n,slug:i}=e;return{id:t,label:n,href:(0,c.j)({id:t,slug:i}),icon:l.Ty}}))||[],m=f(e,t),x=u(e,n),g=x?[{id:"shared-from-external-org",label:(null==e?void 0:null===(a=e.organization)||void 0===a?void 0:a.name)?(0,i.jsx)(o.cC,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,i.jsx)(o.cC,{id:"qn35Ez"}),icon:r.Gg,color:"gray.500"}]:[];if(m===d.PUBLIC)return[{id:"public",label:(0,i.jsx)(o.cC,{id:"7d1a0d"}),icon:r.Xj,color:"gray.500"},...g,...p];if(m===d.PRIVATE)return[{id:"private",label:(0,i.jsx)(o.cC,{id:"zwBp5t"}),icon:r.byT,color:"gray.500"},...g];if(m===d.INDIVIDUAL){let n=(e.collaborators||[]).filter(e=>e.user.id!==t.id).length;return[{id:"collaborators",label:(0,i.jsx)(o.cC,{id:"o2NxSP",values:{numCollaborators:n}}),icon:r.ILF,color:"gray.500"},...g]}return x?g:m&&h.includes(m)?[{id:"workspace",label:(0,i.jsx)(o.cC,{id:"0Gd0NU"}),icon:r.P88,color:"gray.500"},...g,...p]:p},g=e=>{let{doc:t,user:n,currentWorkspace:i,channelToExclude:r}=e;return x(t,n,i).filter(e=>e.id!==r)},v=(e,t)=>{var n;return e&&t&&!e.orgAccess&&!e.publicAccess&&(null===(n=e.createdBy)||void 0===n?void 0:n.id)===t.id}},46759:function(e,t,n){"use strict";n.d(t,{M:function(){return S}});var i=n(52322),r=n(70065),o=n(92850),s=n(26468),a=n(22226),l=n(54326),c=n(2338),u=n(97217),d=n(43297),h=n(35183),p=n(97166),f=n(85573),m=n(50250),x=n(75768),g=n(62614),v=n(94523),j=n(5879),b=n(87254),y=n(5632),C=n(2784),k=n(93202),w=n(83669),D=n(15041),_=n(36651),E=n(78462);let S=e=>{var t;let{isOpen:n,onClose:S,existingDoc:A}=e,T=(0,r.p)(),I=(0,C.useRef)(null),[O,M]=(0,C.useState)(!1),{currentWorkspace:F}=(0,_.SE)(),[R,N]=(0,C.useState)(""),[P]=(0,k.V$$)(),[L]=(0,k.So6)(),z=(0,w.b)(),{push:G}=(0,y.useRouter)(),U=(0,C.useCallback)(async()=>{if(null==A?void 0:A.id){await (0,D.iL)(A.id),M(!0);try{var e,t;let{data:n}=await L({variables:{duplicateDocInput:{sourceDocId:A.id,source:k.L17.SitesCopyToSite,title:(null==A?void 0:A.title)||b.ag._({id:"wja8aL"}),orgId:null==F?void 0:F.id,orgAccess:k.y3$.Manage,themeId:null}}}),i=null==n?void 0:null===(e=n.duplicateDoc)||void 0===e?void 0:e.id;if(!i){console.error("[CreateSiteModal] Failed to duplicate doc with id",A.id);return}let{data:r}=await P({variables:{input:{workspaceId:null==F?void 0:F.id,name:R,routes:[{docId:i,path:"/"}],themeId:null==A?void 0:null===(t=A.theme)||void 0===t?void 0:t.id}}}),o=null==r?void 0:r.createSite;if(!o){console.error("[CreateSiteModal] Failed to create site, no site returned");return}let s=(0,E.yQ)({docId:i});G(s),S()}catch(e){T({status:"error",title:(0,i.jsx)(j.cC,{id:"Pdboh4"}),description:(0,i.jsx)(j.cC,{id:"c6YG3V"})}),console.error(e)}M(!1)}},[P,null==F?void 0:F.id,L,null==A?void 0:A.id,null==A?void 0:null===(t=A.theme)||void 0===t?void 0:t.id,null==A?void 0:A.title,R,G,T]),B=(0,C.useCallback)(async()=>{M(!0);let{data:e}=await P({variables:{input:{workspaceId:null==F?void 0:F.id,name:R,routes:[]}}}),t=null==e?void 0:e.createSite;if(!t){console.error("[CreateSiteModal] Failed to create site, no site returned");return}z({siteId:null==t?void 0:t.id,routes:null==t?void 0:t.routes,title:"Home",path:"/"})},[z,P,null==F?void 0:F.id,R]),H=(0,C.useCallback)(async()=>(null==A?void 0:A.id)?U():B(),[null==A?void 0:A.id,U,B]),W=R.length>0;return(0,i.jsx)(v.Wk,{isDark:!1,children:(0,i.jsxs)(o.u_,{isOpen:n,onClose:S,initialFocusRef:I,size:"2xl",children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(a.h,{children:[(0,i.jsx)(l.x,{children:(0,i.jsx)(j.cC,{id:"JHMOcq"})}),(0,i.jsx)(c.o,{}),(0,i.jsx)(u.f,{children:(0,i.jsx)(d.K,{spacing:4,children:(0,i.jsxs)(h.NI,{children:[(0,i.jsx)(p.l,{children:(0,i.jsx)(j.cC,{id:"Lve3H6"})}),(0,i.jsx)(f.I,{ref:I,placeholder:b.ag._({id:"tlD7N3"}),onChange:e=>{N(e.target.value)},onKeyDown:e=>{W&&"Enter"===e.key&&H()}})]})})}),(0,i.jsx)(m.m,{children:(0,i.jsxs)(x.h,{children:[(0,i.jsx)(g.z,{variant:"ghost",onClick:S,children:(0,i.jsx)(j.cC,{id:"dEgA5A"})}),(0,i.jsx)(g.z,{variant:"solid",onClick:H,isDisabled:!W,isLoading:O,children:(0,i.jsx)(j.cC,{id:"JHMOcq"})})]})})]})]})})}},83669:function(e,t,n){"use strict";n.d(t,{b:function(){return f}});var i=n(5632),r=n(2784),o=n(93202),s=n(84405),a=n(61811),l=n(4170),c=n(41425),u=n(12136),d=n(23147),h=n(21733),p=n(78462);let f=()=>{let e=(0,u.e)(),{user:t,currentWorkspace:n}=(0,h.SE)(),[f]=(0,o.CsQ)(),[m]=(0,o.qbt)(),{push:x}=(0,i.useRouter)(),g=(0,r.useCallback)(async i=>{let r,{title:u,path:h,siteId:g,routes:v,sourceDocId:j}=i;if(!h.startsWith("/")){console.error("[AddNewPageToSite] Path must start with /. Aborting.",h);return}if(!(null==n?void 0:n.id)||!g||!v)return;if(j)await e({docId:j,docTitle:u,source:o.L17.SitesDuplicatePage,onSuccess:e=>{r=e}});else{let e=(0,a.R$)({settings:{...(0,l.Y)(),defaultFullBleed:"full"},docFlags:{cardLayoutsEnabled:!0}}),i=(0,d.qI)(e),{data:p}=await f({variables:{workspaceId:null==n?void 0:n.id,title:u,source:o.L17.SitesAddPage,initialContent:{ydoc:i,schemaVersion:c.bI,editors:[null==t?void 0:t.id]},orgAccess:o.y3$.Manage,mainPage:"/"===h}});r=null==p?void 0:p.createDoc.id,(0,s.Q)({doc_id:r,source:o.L17.SitesAddPage,channel:null})}if(!g||!r){console.error("[AddPageModal] Site or doc id is undefined. Cannot add route.");return}await m({variables:{input:{siteId:g,docId:r,path:h,offline:!1}},refetchQueries:["GetSite"]});let b=(0,p.yQ)({docId:r});return console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",r),await x(b,void 0,{shallow:!0}),r},[null==n?void 0:n.id,m,x,e,f,null==t?void 0:t.id]);return g}},76713:function(e,t,n){"use strict";n.d(t,{z:function(){return tD}});var i=n(52322),r=n(70065),o=n(32981),s=n(26468),a=n(73751),l=n(97217),c=n(2338),u=n(28535),d=n(42822),h=n(81540),p=n(92850),f=n(22226),m=n(54326),x=n(77533),g=n(50250),v=n(75768),j=n(62614),b=n(94523),y=n(5879),C=n(87254),k=n(18149),w=n.n(k),D=n(2784),_=n(43997),E=n(93202),S=n(11550),A=n(11050),T=n(47968),I=n(36651),O=n(93441),M=n(38035),F=n(43297),R=n(74008),N=n(36371),P=n(73582),L=n(2969),z=n(3181),G=n(13272),U=n(84010),B=n(66625),H=n(94199),W=n(91994),V=n(61811),q=n(46409),Z=n(49354),K=n(96933),Y=n(20678),X=n(47749),$=n(29318),J=n(887),Q=n(66479),ee=n(20437),et=n(30233),en=n(26838);let ei=(0,D.memo)(e=>{let{theme:t,onThemeClick:n,onSelectClick:r}=e,{data:o,loading:s}=(0,E.BCl)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),a=(null==o?void 0:o.themes)||[],l=(0,K.i)({base:"md","2xl":"lg"});return(0,i.jsxs)(M.k,{flexDirection:"column",w:"100%",children:[(0,i.jsx)(u.xu,{flex:1,p:{base:3,md:5},children:s?(0,i.jsx)(et.S,{size:4}):(0,i.jsx)(ee.M,{columns:{base:1,lg:2},spacing:1,children:[...a].sort(Q.qb).map(e=>(0,i.jsx)(en.o,{type:"standard",theme:e,isChecked:e.id===t.id,onThemeClicked:n,variant:"ghost"},e.id))})}),(0,i.jsxs)(u.xu,{pos:"sticky",bottom:0,children:[(0,i.jsx)(R.i,{}),(0,i.jsx)(M.k,{p:{base:3,md:5},alignItems:"center",bg:"white",children:(0,i.jsx)(j.z,{size:l,"data-testid":"select-this-theme",flex:1,variant:"solid",onClick:r,children:(0,i.jsx)(y.cC,{id:"RT9Fre"})})})]})]})});var er=n(5200),eo=n(29117),es=n(74409),ea=n(82655),el=n(49929),ec=n(42111),eu=n(35183),ed=n(97166),eh=n(47443),ep=n(82713),ef=n(24213),em=n(71272),ex=n(59568),eg=n(52929),ev=n(42946),ej=n(37164),eb=n(99787),ey=n(16494),eC=n(29596),ek=n(40520),ew=n(64743);let eD=e=>(0,ew.bH)(e)&&(0,ew.Rr)(e),e_=e=>{let{setBackground:t,background:n,defaultMessage:r,isDark:o,isValidSource:s}=e,[a,l]=(0,D.useState)(eb.hq.key),c=eC.ah[a],u=(0,D.useCallback)(e=>s?s(e)&&eD(e):eD(e),[s]),d=(0,D.useCallback)(e=>{t({...n,...e})},[n,t]);return(0,i.jsx)(ek.O,{isDark:o,isValidSource:u,defaultMessage:r,currentBackground:n,currentSource:c,updateCurrentBackground:d,setCurrentSourceKey:l,currentSourceKey:a,editType:"themeBackground"})};var eE=n(13793);n(38095);var eS=n(17993),eA=n(75009),eT=n(32899),eI=n(91710),eO=n(97253),eM=n(87205);n(65331),n(41779);let eF=e=>{let{uploadedImages:t,setUploadedImages:n,setIsLoading:o}=e,s=(0,W.CG)(T.KV),{currentWorkspace:a}=(0,I.SE)(),{orgId:l,templateId:c}=(0,$.Ds)(s||(null==a?void 0:a.id),"themeBackground"),u=(0,r.p)(),[d,h]=(0,D.useState)(0),[p,f]=(0,D.useState)(!1),m=(0,D.useCallback)(e=>{let{file:t,tempUrl:i}=e;o(!0);let r=i;if(t.type&&(0,eM.Ns)(t.type)){let e="HEIC_tempId_".concat((0,ej.x0)());r=e}n(e=>[...e,{tempUrl:r,name:t.name,src:null,showPlaceholder:!0,uploadStatus:ey.D.Uploading}])},[o,n]),g=(0,D.useCallback)(e=>{n(t=>{let n=t.map(t=>t.name===e.name?{...t,tempUrl:null,...(0,eO.gM)({result:e,isError:!1})}:t);return n}),h(e=>e+1)},[n]);(0,D.useEffect)(()=>{o(!t.every(e=>"optimized"===e.uploadResultStep))},[o,t]);let v=(0,D.useCallback)(()=>{u({title:"Error uploading images, please try again",status:"error",duration:3e3,isClosable:!0}),h(e=>e+1)},[u]),j=(0,D.useMemo)(()=>{if(!l)throw Error("Tried uploading an image with no orgId");return eb.ND.createUppyInstance(l,{onUploadStart:m,onUploadComplete:g,onUploadFailed:v},"themeBackground",50,"image",c)},[d,l,m,g,v,c]),k=()=>(0,i.jsx)(i.Fragment,{children:l&&(0,i.jsx)(eI.v0,{width:"100%",height:"100%",note:C.ag._({id:"7TtsoC"}),uppy:j,locale:{strings:{browse:C.ag._({id:"wZ9s+A"})}}})});return t.length>0?(0,i.jsxs)(eS.g,{align:"flex-start",spacing:4,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),f(!0)},children:[p&&(0,i.jsx)(k,{}),(0,i.jsx)(ee.M,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let{src:t,meta:r,name:o,tempUrl:s}=e||{},a=t?(0,eM.aN)(t,{width:500}):void 0;return(0,i.jsxs)(F.K,{spacing:1,position:"relative",role:"group",children:[(0,i.jsx)(eA.E,{src:a||s||"",alt:"",ignoreFallback:!0,borderRadius:"md"}),(0,i.jsx)(b.kH,{label:(0,i.jsx)(y.cC,{id:"ZTnXof"}),placement:"top",children:(0,i.jsx)(eT.h,{"aria-label":C.ag._({id:"Rz0Yis"}),icon:(0,i.jsx)(el.G,{icon:ev.XAH}),onClick:()=>{n(t=>{let n=t.filter(t=>t.name!==e.name);return n})},isRound:!0,position:"absolute",top:1,right:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),r&&r.width&&r.height&&(0,i.jsxs)(x.x,{fontSize:"xs",children:[r.width,"\xd7",r.height,"px"]}),o&&(0,i.jsx)(x.x,{fontSize:"xs",lineHeight:4,children:o})]},e.tempUrl)})})]}):(0,i.jsx)(k,{})};var eR=n(53701);let eN=e=>e.backgroundType===eE.E.IMAGE,eP={...Z.Gx,accentId:void 0},eL=e=>{let{theme:t,updateTheme:n}=e,[r,o]=(0,D.useState)(!1),[s,a]=(0,D.useState)(null),[l,c]=(0,D.useState)(null),u=s&&!!s.accentId,d=t.config.accentBackgrounds,h=(0,ec.ye)("bulkUploadAccentImages"),p=(0,D.useCallback)(()=>{c(eP),a(eP)},[]),f=(0,D.useCallback)(()=>{a(null),c(null)},[]),m=(0,D.useCallback)(e=>{let t=e||s;if(!t)return;let i={...t,source:X.cx,originalSource:t.source,accentId:(0,ej.x0)()},r=d||[];if(u){let e=r.findIndex(e=>e.accentId===s.accentId);if(-1===e){console.warn("[AccentImagePicker] Could not find accent image to edit");return}n({accentBackgrounds:[...r.slice(0,e),i,...r.slice(e+1)]})}else n({accentBackgrounds:[...r,i]});f()},[d,s,u,f,n]),x=(0,D.useCallback)(e=>{let t=(d||[]).filter(t=>t.accentId!==e.accentId);n({accentBackgrounds:t})},[d,n]),g=(0,D.useCallback)(e=>{let t={...e,source:e.originalSource};c(t),a({...e,source:e.originalSource})},[]),b=(0,D.useCallback)(e=>{if(e.source===eb.hq.key||e.source===eb.$5.key){m(e);return}if(e.source===eb.in.key){var t,n,i,r;(null===(t=e.image)||void 0===t?void 0:t.uploadStatus)===ey.D.Uploading?o(!0):(null===(n=e.image)||void 0===n?void 0:n.uploadStatus)===ey.D.Done&&(null===(i=e.image)||void 0===i?void 0:i.uploadResultStep)==="optimized"?o(!1):(null===(r=e.image)||void 0===r?void 0:r.uploadStatus)===ey.D.Error&&o(!1)}a(e)},[m]),k=(0,D.useMemo)(()=>!w()(s,l),[s,l]),_=(0,Q.wj)(t),[E,S]=(0,D.useState)([]),[A,T]=(0,D.useState)(!1),I=(0,D.useCallback)(()=>{S([]),T(!1)},[]),O=(0,D.useCallback)(()=>{let e=E.map(e=>({type:eE.E.IMAGE,source:X.cx,originalSource:"image.custom",image:e,accentId:(0,ej.x0)()})),t=d||[];n({accentBackgrounds:[...e,...t]}),I()},[E,d,n,I]);return s?(0,i.jsxs)(F.K,{p:6,children:[(0,i.jsx)(e_,{setBackground:b,background:s,isValidSource:eN,defaultMessage:(0,i.jsxs)(eh.b,{children:[(0,i.jsx)(eg.z,{}),(0,i.jsx)(y.cC,{id:"VPwqDS"})]}),isDark:_}),(0,i.jsxs)(v.h,{pt:6,display:"flex",children:[(0,i.jsx)(j.z,{variant:"ghost",onClick:f,children:(0,i.jsx)(y.cC,{id:"dEgA5A"})}),(0,i.jsx)(j.z,{variant:"solid",onClick:()=>m(),isLoading:r,isDisabled:!k,flex:1,children:u?(0,i.jsx)(y.cC,{id:"tfDRzk"}):(0,i.jsx)(y.cC,{id:"B6vyEa"})})]})]}):(0,i.jsxs)(F.K,{spacing:6,children:[(0,i.jsxs)(F.K,{spacing:3,children:[(0,i.jsx)(j.z,{leftIcon:(0,i.jsx)(el.G,{icon:ev.r8p}),alignSelf:"flex-start",onClick:p,children:(0,i.jsx)(y.cC,{id:"5phU36"})}),h&&(0,i.jsx)(eF,{uploadedImages:E,setUploadedImages:S,setIsLoading:T}),d&&0!=d.length&&(0,i.jsx)(eR.U,{accentImages:d,isDark:_,handleDelete:x,handleItemClick:g,editType:"themeBackground"})]}),E.length>0&&(0,i.jsxs)(v.h,{display:"flex",w:"100%",position:"sticky",bottom:0,left:0,bg:"white",py:3,px:6,borderTop:"1px",borderColor:"gray.300",children:[(0,i.jsx)(j.z,{variant:"ghost",onClick:I,children:(0,i.jsx)(y.cC,{id:"dEgA5A"})}),(0,i.jsx)(j.z,{variant:"solid",onClick:O,isLoading:A,flex:1,children:(0,i.jsx)(y.cC,{id:"1rLekk",values:{0:E.length,1:C.ag._({id:"BZPFHo",values:{0:E.length}})}})})]})]})};var ez=n(85573),eG=n(29494),eU=n(63176),eB=n(99793),eH=n(12985);let eW=async(e,t,i)=>{try{let i=(await Promise.all([n.e(5489),n.e(4751)]).then(n.bind(n,89089))).default,r=(await Promise.all([n.e(5489),n.e(9224)]).then(n.bind(n,30058))).default,o=i.parse(e),s=r.objectify(o);t(s)}catch(e){i(e.message)}},eV=async(e,t,i)=>{try{let i=(await Promise.all([n.e(5489),n.e(4751)]).then(n.bind(n,89089))).default,r=(await Promise.all([n.e(5489),n.e(9224)]).then(n.bind(n,30058))).default;i().process(e,{parser:r}).then(e=>{let{css:n}=e;t(n)})}catch(e){i(e.message)}},eq=e=>{let{label:t,initialValue:r,updateValue:o,helperText:s}=e,[a,l]=(0,D.useState)(""),[c,d]=(0,D.useState)(null),[h,p]=(0,D.useState)(),f=(0,O.Kt)(eW,100);return((0,D.useEffect)(()=>{Promise.all([n.e(8917),n.e(7120),n.e(6214)]).then(n.bind(n,65284)).then(e=>{p(e.css())})},[]),(0,O.vm)(()=>{d(null),r&&eV(r,l,d)},[r],[]),(0,O.vm)(()=>{d(null),f(a,o,d)},[a,o,f],[a]),h)?(0,i.jsxs)(eu.NI,{isInvalid:!!c,children:[(0,i.jsx)(ed.l,{children:t}),c&&(0,i.jsx)(eB.J1,{children:c}),s&&(0,i.jsx)(eu.Q6,{children:s}),(0,i.jsx)(u.xu,{border:"1px solid",borderColor:"gray.200",fontSize:"md",children:(0,i.jsx)(D.Suspense,{fallback:(0,i.jsx)("span",{}),children:(0,i.jsx)(eH.B,{value:a,height:"300px",extensions:[h],onChange:l})})})]}):null};var eZ=n(8624),eK=n(10625),eY=n(67046),eX=n(99058),e$=n(39237),eJ=n(89098);let eQ=e=>{let{theme:t,dispatch:n}=e,r=(0,eJ.c)(t);return(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"x5htAS"})}),(0,i.jsxs)(eK.v,{matchWidth:!0,children:[(0,i.jsx)(eY.j,{size:"lg",as:j.z,borderRadius:"md",rightIcon:(0,i.jsx)(el.G,{icon:ev.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",children:(0,i.jsx)(x.x,{textAlign:"left",fontWeight:"400",children:r.name()})}),(0,i.jsx)(eX.q,{maxH:"320px",maxW:"100%",overflow:"auto",children:eJ.N.map(e=>(0,i.jsx)(e$.i,{isChecked:r.key===e.key,value:e.key,onClick:()=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{themeBase:e.key}}}),children:(0,i.jsxs)(eo.U,{maxW:"100%",children:[(0,i.jsx)(e0,{base:e}),(0,i.jsxs)(u.xu,{flex:"1",minW:"0",children:[e.name(),e.description&&(0,i.jsx)(x.x,{color:"gray.400",fontSize:"sm",children:e.description()})]})]})},e.key))})]})]})},e0=e=>{let{base:t}=e,n={"--card-color":"#FFF",...t.getCSSVars({cardColor:"#FFF",accentColor:"#F00",accentPalette:["#F00"]})};return(0,i.jsx)(u.xu,{backgroundColor:"gray.200",p:4,css:n,children:(0,i.jsx)(u.xu,{sx:t.cardSx,h:"3em",w:"5em"})})},e1=(0,D.memo)(()=>{var e;let{state:t,dispatch:n}=(0,ex.q)(),{theme:r}=t,o=(null===(e=r.config.cardBackground)||void 0===e?void 0:e.type)===eE.E.COLOR?r.config.cardBackground.color:null;return(0,i.jsxs)(F.K,{spacing:4,children:[(0,i.jsxs)(eu.NI,{"data-testid":"custom-theme-card-color-picker",children:[(0,i.jsxs)(ed.l,{children:[(0,i.jsx)(y.cC,{id:"9d2iLQ"})," ",(0,i.jsx)(b.Yq,{label:(0,i.jsx)(y.cC,{id:"7wiFpy"})})]}),(0,i.jsx)(eZ.T,{value:(null==o?void 0:o.hex)||null,updateValue:e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{cardBackground:e?{type:eE.E.COLOR,color:{hex:e}}:void 0}}}),defaultValue:"#FFFFFF"})]}),(0,i.jsx)(eQ,{theme:r,dispatch:n})]})});e1.displayName="ThemeConfigCardStylesPanel";var e2=n(28553),e3=n(66028);let e5=e=>{let{value:t,updateValue:n,onLogoUploadStart:r,onLogoUploadFail:o}=e,[s,a]=(0,D.useState)(null),[l,c]=(0,D.useState)(null),d=(0,W.CG)(T.KV),{currentWorkspace:h}=(0,I.SE)(),p=d||(null==h?void 0:h.id);return p?t||l?(0,i.jsxs)(eS.g,{align:"flex-start",spacing:4,children:[(0,i.jsxs)(u.xu,{position:"relative",w:"100%",background:"gray.50",children:["placeholder"==l?(0,i.jsx)(e2.k3,{w:"100%"}):(0,i.jsx)(eA.E,{w:"100%",src:t||l||void 0,alt:"",onMouseDown:e3.br}),s==ey.D.Uploading&&(0,i.jsx)(e2.HI,{}),s==ey.D.Error&&(0,i.jsx)(e2.s7,{})]}),(0,i.jsx)(j.z,{onClick:()=>{n(null),a(null)},mt:2,w:"100%",children:(0,i.jsx)(y.cC,{id:"VlT9ID"})})]}):(0,i.jsx)(eb.un,{orgId:p,uploadType:"image",editType:"icon",dropHereText:C.ag._({id:"cmRkd1",values:{0:"%{browse}"}}),customHeight:"250px",customFontSize:"sm",showTip:!1,onUploadStart:e=>{let{file:t,tempUrl:n}=e;a(ey.D.Uploading),r&&r(),t.type&&(0,eM.Ns)(t.type)?c("placeholder"):c(n)},onUploadSuccess:e=>{let{src:t}=e;a(ey.D.Done),n(t),c(null)},onUploadFailed:e=>{a(ey.D.Error),o&&o()}}):null};var e4=n(30423),e6=n(52099),e8=n(78462),e7=n(44035),e9=n(27599),te=n(65739),tt=n(62131),tn=n(57124),ti=n(50245),tr=n(54933);let to=e=>{let{label:t,description:n,labelColor:r="black",fontFamily:o,fontStyle:s="normal",fontWeight:a=400}=e,l=(0,i.jsxs)(eo.U,{alignItems:"baseline",children:[(0,i.jsx)(u.xu,{color:"yellow.400",children:(0,i.jsx)(el.G,{icon:tr.e7M})}),(0,i.jsx)(x.x,{textAlign:"left",color:r,fontWeight:a,fontSize:"lg",fontFamily:o,fontStyle:s,children:t})]});return n?(0,i.jsxs)(u.xu,{children:[l,(0,i.jsx)(x.x,{fontSize:"xs",color:"gray.500",children:n})]}):l},ts=e=>{let{value:t,updateValue:n,onFontUploadClick:r,weight:o="regular",defaultFont:s,fonts:a,customFontsEnabled:l,...c}=e,{workspaceFonts:u,globalFonts:d}=a,[h,p,f]=(0,D.useMemo)(()=>{let e=[...u,...d],n=e.find(e=>e.id===t),i=(0,e6.Yw)(e,t),r=(0,e6.Yw)(e,t,!1);return[n,i,r]},[d,u,t]),m=l&&u.filter(e=>!e.archived||e.id===(null==h?void 0:h.id)).length>0,g=!1,v="normal",C="bold"===o?700:400;if(h&&null!==h.workspaceId){g=!0===h.archived;let e=[...h.fontFiles||[]];v=(0,e4.Sd)(e)?"italic":"normal";let t=(0,e4.B_)(e);C=(0,e4.QP)(t,"bold"===o?700:400)||400}let{currentWorkspace:k}=(0,ti.K)(),w=(0,tn.Y)("custom_fonts",k);return(0,i.jsxs)(eK.v,{matchWidth:!0,isLazy:!0,children:[(0,i.jsx)(eY.j,{size:"lg",as:j.z,borderRadius:"md",rightIcon:(0,i.jsx)(el.G,{icon:ev.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",...c,children:l&&g?(0,i.jsx)(to,{label:f||"",fontFamily:'"'.concat(p,'"'),labelColor:t?"gray.800":"gray.400",fontStyle:v,fontWeight:C}):(0,i.jsx)(x.x,{textAlign:"left",fontFamily:'"'.concat(p||s,'"'),fontWeight:C,color:t?"gray.800":"gray.400",fontStyle:v,children:f||(0,i.jsx)(y.cC,{id:"Ff/YaY",values:{defaultFont:s,GAMMA_PROPER_NOUN:H.N6}})})}),(0,i.jsxs)(eX.q,{maxH:"40vh",overflow:"auto",zIndex:"dropdown",children:[(0,i.jsxs)(e7._,{type:"radio",value:t||"",onChange:e=>n(e||void 0),children:[m&&(0,i.jsx)(b.NZ,{m:2,children:(0,i.jsx)(y.cC,{id:"syCKVA"})}),m&&u.map(e=>{var n;let r=e.id!==t,s=e.archived&&r,a=(null===(n=e.fontFiles)||void 0===n?void 0:n.length)===0&&r;if(!e.fontFiles||a||s)return null;let l=(0,e4.Sd)(e.fontFiles)?"italic":"normal";return g&&e.id===t?(0,i.jsx)(e$.i,{value:e.id,disabled:!0,children:(0,i.jsx)(to,{fontFamily:e.name,label:e.name,fontStyle:l,description:(0,i.jsx)(y.cC,{id:"FZBl16"})})},e.id):(0,i.jsx)(e$.i,{value:e.id,children:(0,i.jsx)(x.x,{fontFamily:'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:o,fontStyle:l,children:e.name})},e.id)}),m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e9.R,{}),(0,i.jsx)(b.NZ,{m:2,children:(0,i.jsx)(y.cC,{id:"Z/0bkt"})})]}),(0,i.jsx)(e$.i,{value:"",children:(0,i.jsx)(x.x,{fontFamily:s,fontSize:"lg",fontWeight:o,color:"gray.400",children:(0,i.jsx)(y.cC,{id:"fuNYg+"})})}),d&&d.map(e=>(0,i.jsx)(e$.i,{value:e.id,children:(0,i.jsx)(x.x,{fontFamily:(0,e6.eu)(e.id)?'"'.concat(e.id,'"'):'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:o,children:e.name})},e.id))]}),l&&(0,i.jsx)(te.d,{label:(0,i.jsx)(y.cC,{id:"vNYIdl"}),leftIcon:(0,i.jsx)(el.G,{icon:ev.A$k,fixedWidth:!0}),rightIcon:w?void 0:(0,i.jsx)(tt.ER,{product:"pro"}),onClick:r,isSticky:!0})]})]})};var ta=n(29705),tl=n(11082),tc=n(62700);let tu=e=>{var t,n,r;let{font:o,value:s,defaultWeight:a,updateValue:l,...c}=e,u=(0,D.useCallback)(e=>{let t=Number(e);Number.isNaN(t)||l(t)},[l]),d=(null==s?void 0:s.toString())||"",h=(0,tc.d)()[a],{weightOptions:p,isDeletedFontWeight:f}=(0,D.useMemo)(()=>{let e=(0,e6.W9)(o),t=void 0!==s&&!e.includes(s);if(!t||!s)return{isDeletedFontWeight:t,weightOptions:e};let n=[...e,s].sort((e,t)=>e-t);return{isDeletedFontWeight:t,weightOptions:n}},[o,s]),m=o&&(null==o?void 0:o.workspaceId)!==null,g=m&&(null===(t=o.fontFiles)||void 0===t?void 0:t.length)===0,v=f&&m,b=(0,e8.p6)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eK.v,{matchWidth:!0,isLazy:!0,children:[(0,i.jsx)(eY.j,{size:"lg",as:j.z,borderRadius:"md",rightIcon:(0,i.jsx)(el.G,{icon:ev.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",isDisabled:p.length<=1,...c,children:f?(0,i.jsx)(to,{label:g?(0,i.jsx)(y.cC,{id:"EqUVJs"}):null!==(n=(0,tc.d)()[d])&&void 0!==n?n:h,labelColor:s?"gray.800":"gray.400"}):(0,i.jsx)(x.x,{textAlign:"left",color:s?"gray.800":"gray.400",fontWeight:400,children:null!==(r=(0,tc.d)()[d])&&void 0!==r?r:h})}),(0,i.jsx)(eX.q,{maxH:"320px",overflow:"auto",zIndex:"dropdown",children:(0,i.jsx)(e7._,{type:"radio",value:d,onChange:u,children:p.map(e=>{var t,n;return f&&s===e?(0,i.jsx)(e$.i,{value:e.toString(),disabled:!0,children:(0,i.jsx)(to,{label:null!==(t=(0,tc.d)()[e])&&void 0!==t?t:h,description:v?(0,i.jsx)(y.cC,{id:"KFmni+"}):(0,i.jsx)(y.cC,{id:"mGTUJj"})})},e):(0,i.jsx)(e$.i,{value:e.toString(),children:(0,i.jsx)(x.x,{fontSize:"lg",children:null!==(n=(0,tc.d)()[e])&&void 0!==n?n:h})},e)})})})]}),v&&(0,i.jsx)(x.x,{fontSize:"xs",mt:1.5,children:(0,i.jsxs)(tl.r,{href:b,textDecoration:"underline",isExternal:!0,children:[(0,i.jsx)(y.cC,{id:"RUO69p"}),(0,i.jsx)(ta.h,{ml:1})]})})]})},td=e=>{let{label:t,helperText:n,value:r,defaultValue:o,updateValue:s,...a}=e;return(0,i.jsxs)(eu.NI,{...a,children:[t&&(0,i.jsx)(ed.l,{children:(0,i.jsx)(x.x,{children:t})}),(0,i.jsx)(eZ.T,{value:r,updateValue:s,defaultValue:o}),n&&(0,i.jsx)(eu.Q6,{children:n})]})},th=[{testId:"typography",label:()=>C.ag._({id:"nWRfmt"}),icon:ea.nUG,Component:(0,i.jsx)(()=>{var e;let t=(0,ec.ye)("customFonts"),{dispatch:n,state:r}=(0,ex.q)(),{theme:o,fontState:s}=r,{fonts:a,fontsMap:l}=s,c=(0,D.useCallback)(e=>{let t=l[e],i=(0,e6.W9)(t),r=(0,e4.QP)(i,o.headingFontWeight||X.ZT.heading)||X.ZT.heading,s=(0,e6.s8)({fontsMap:l,headingFontId:e,bodyFontId:o.bodyFont});n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{headingFont:e,headingFontWeight:r,fonts:s}}})},[n,l,o.bodyFont,o.headingFontWeight]),u=(0,D.useCallback)(e=>{let t=l[e],i=(0,e6.W9)(t),r=(0,e4.QP)(i,o.bodyFontWeight||X.ZT.body)||X.ZT.body,s=(0,e6.s8)({fontsMap:l,bodyFontId:e,headingFontId:o.headingFont});n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{bodyFont:e,bodyFontWeight:r,fonts:s}}})},[n,l,o.headingFont,o.bodyFontWeight]),d=(0,D.useCallback)(e=>n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{headingFontWeight:e}}}),[n]),h=(0,D.useCallback)(e=>n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{bodyFontWeight:e}}}),[n]),p=(0,D.useCallback)(e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{headingColor:null!=e?e:void 0}}}),[n]),f=(0,D.useCallback)(e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{headingGradient:null!=e?e:void 0}}}),[n]),m=(0,D.useCallback)(e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{bodyColor:null!=e?e:void 0}}}),[n]),g=(0,D.useCallback)(()=>{let e=(0,e8.p6)();window.open(e,"_blank")},[]),v=l[o.headingFont||X.ke.headingFont]||l[X.ke.headingFont],j=l[o.bodyFont||X.ke.bodyFont]||l[X.ke.bodyFont],b=o.headingFontWeight||X.ZT.heading,C=o.bodyFontWeight||X.ZT.body,k=(0,Q.wj)(o);return(0,i.jsxs)(F.K,{children:[(0,i.jsxs)(eu.NI,{mb:"2",children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(x.x,{children:(0,i.jsx)(y.cC,{id:"7OvVwW"})})}),(0,i.jsx)(ts,{fonts:a,value:o.headingFont,customFontsEnabled:t,updateValue:c,onFontUploadClick:g,weight:"bold",defaultFont:X.ke.headingFont,"data-testid":"custom-theme-heading-font-picker"}),t&&(0,i.jsx)(tu,{font:v,value:b,defaultWeight:700,updateValue:d})]}),(0,i.jsx)(eu.NI,{mb:"2","data-testid":"custom-theme-heading-color-picker",children:(0,i.jsx)(ef.U,{color:o.config.headingColor,updateColor:p,defaultColor:k?X.Qw:X.l0,gradient:o.config.headingGradient,updateGradient:f})}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(x.x,{children:(0,i.jsx)(y.cC,{id:"B4QCf7"})})}),(0,i.jsx)(ts,{fonts:a,value:o.bodyFont,customFontsEnabled:t,updateValue:u,onFontUploadClick:g,weight:"normal",defaultFont:X.ke.bodyFont,"data-testid":"custom-theme-body-font-picker"}),t&&(0,i.jsx)(tu,{font:j,value:C,defaultWeight:400,updateValue:h})]}),(0,i.jsx)(td,{value:(null===(e=o.config)||void 0===e?void 0:e.bodyColor)||null,defaultValue:k?X.Z_:X.zL,updateValue:m}),(0,i.jsx)(eh.b,{mt:"6",colorScheme:"gray",children:(0,i.jsx)(x.x,{fontSize:"sm",children:(0,i.jsx)(y.cC,{id:"gXllrZ"})})})]})},{})},{testId:"accent-colors",label:()=>C.ag._({id:"1HfW/F"}),icon:ea.AVo,Component:(0,i.jsx)(()=>{var e,t;let{state:n,dispatch:r}=(0,ex.q)(),{theme:o}=n,s=(0,D.useCallback)(e=>r({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{accentColor:null!=e?e:void 0}}}),[r]);return(0,i.jsxs)(F.K,{spacing:2,children:[(0,i.jsxs)(eu.NI,{"data-testid":"custom-theme-accent-color-picker",children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"Udsgl4"})}),(0,i.jsx)(eu.Q6,{mb:4,children:(0,i.jsx)(y.cC,{id:"ILESdz"})}),(0,i.jsx)(ef.U,{color:o.accentColor,defaultColor:X.uP,updateColor:s,gradient:o.config.accentGradient,updateGradient:e=>r({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{accentGradient:e}}})})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"NEXUdn"})}),(0,i.jsx)(eu.Q6,{mb:2,children:(0,i.jsx)(y.cC,{id:"OU8xue"})}),(0,i.jsx)(em.Y,{value:(null===(e=o.config)||void 0===e?void 0:e.secondaryAccentColors)||[],updateValue:e=>r({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{secondaryAccentColors:e}}}),maxColors:4})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsxs)(ed.l,{mt:4,children:[(0,i.jsx)(y.cC,{id:"AnNF5e"})," ",(0,i.jsx)(b.Yq,{label:(0,i.jsx)(y.cC,{id:"QjwqJE"})})]}),(0,i.jsx)(eh.b,{colorScheme:"gray",children:(0,i.jsx)(ep.X,{isChecked:!(null===(t=o.config)||void 0===t?void 0:t.disableReadabilityAdjustment),onChange:()=>{var e;return r({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{disableReadabilityAdjustment:!(null===(e=o.config)||void 0===e?void 0:e.disableReadabilityAdjustment)}}})},children:(0,i.jsx)(x.x,{fontSize:"sm",children:(0,i.jsx)(y.cC,{id:"KmUJ3J"})})})})]})]})},{})},{testId:"logo",label:()=>C.ag._({id:"iG7KNr"}),icon:ea.yoz,Component:(0,i.jsx)(()=>{let{state:e,dispatch:t}=(0,ex.q)(),{theme:n}=e;return(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"qy77B2"})}),(0,i.jsx)(e5,{value:n.logoUrl||null,onLogoUploadStart:()=>{t({type:"THEME_LOGO_UPLOAD_STARTED"})},updateValue:e=>t({type:"THEME_LOGO_UPLOAD_SUCCESS",data:{logoUrl:null!=e?e:void 0}}),onLogoUploadFail:()=>{t({type:"THEME_LOGO_UPLOAD_FAIL"})}})]})},{})},{testId:"card-styles",label:()=>C.ag._({id:"Roi1AL"}),icon:ea.lCX,Component:(0,i.jsx)(e1,{})},{testId:"accent-images",label:()=>C.ag._({id:"COXEr5"}),description:()=>C.ag._({id:"B2lKp+"}),icon:ea.l9f,Component:(0,i.jsx)(()=>{let{state:e,dispatch:t}=(0,ex.q)(),{theme:n}=e;return(0,i.jsx)(eL,{theme:n,updateTheme:e=>t({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{...e}}})})},{})},{testId:"background",label:()=>C.ag._({id:"GtJbUa"}),icon:ea.UHQ,Component:(0,i.jsx)(()=>{let{dispatch:e,state:t}=(0,ex.q)(),n=(0,Q.E7)(t.theme),r=(0,Q.wj)(t.theme),o=(0,D.useCallback)(t=>{var n,i;(null==t?void 0:t.type)===eE.E.IMAGE&&(null===(n=t.image)||void 0===n?void 0:n.uploadStatus)===ey.D.Uploading?e({type:"THEME_BACKGROUND_IMAGE_UPLOAD_STARTED",data:{background:t}}):(null==t?void 0:t.type)===eE.E.IMAGE&&(null===(i=t.image)||void 0===i?void 0:i.uploadStatus)===ey.D.Error?e({type:"THEME_BACKGROUND_IMAGE_UPLOAD_FAIL"}):e({type:"THEME_BACKGROUND_UPDATE_SUCCESS",data:{background:t}})},[e]);return(0,i.jsxs)(u.xu,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"uIeorD"})}),(0,i.jsx)(e_,{setBackground:o,background:n,defaultMessage:(0,i.jsxs)(eh.b,{fontSize:"xs",children:[(0,i.jsx)(eg.z,{}),(0,i.jsx)(x.x,{children:(0,i.jsx)(y.cC,{id:"j+PsQe"})})]}),isDark:r})]})},{})},{testId:"advanced",label:()=>C.ag._({id:"sxkWRg"}),description:()=>C.ag._({id:"VeFaaQ",values:{GAMMA_PROPER_NOUN:H.N6}}),icon:ea.gr5,Component:(0,i.jsx)(()=>{var e,t,n,r,o,s,a;let{state:l,dispatch:c}=(0,ex.q)(),{theme:u}=l;return(0,i.jsxs)(F.K,{spacing:4,children:[(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"S0kLOH"})}),(0,i.jsx)(ez.I,{defaultValue:u.id,readOnly:!0})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"PPYsiY"})}),(0,i.jsx)(eG.g,{defaultValue:null===(t=u.config.keywords)||void 0===t?void 0:null===(e=t.color)||void 0===e?void 0:e.join(", "),onChange:e=>{c({type:"THEME_UPDATE_THEME_KEYWORDS",data:{keywords:{color:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}}})}}),(0,i.jsx)(eu.Q6,{children:(0,i.jsx)(y.cC,{id:"j3OJ2O"})})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"valYIJ"})}),(0,i.jsx)(eG.g,{defaultValue:null===(r=u.config.keywords)||void 0===r?void 0:null===(n=r.tone)||void 0===n?void 0:n.join(", "),onChange:e=>{c({type:"THEME_UPDATE_THEME_KEYWORDS",data:{keywords:{tone:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}}})}}),(0,i.jsx)(eu.Q6,{children:(0,i.jsx)(y.cC,{id:"j3OJ2O"})})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"ae1soi"})}),(0,i.jsx)(eG.g,{defaultValue:u.config.stylePrompt,onChange:e=>{c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{stylePrompt:e.target.value}}})}})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"1hKEom"})}),(0,i.jsx)(eU.Y2,{defaultValue:u.priority,onChange:(e,t)=>{c({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{priority:Number.isNaN(t)?void 0:t}}})},children:(0,i.jsx)(eU.zu,{})}),(0,i.jsx)(eu.Q6,{children:(0,i.jsx)(y.cC,{id:"RyAyyY"})})]}),(0,i.jsxs)(eu.NI,{children:[(0,i.jsx)(ed.l,{children:(0,i.jsx)(y.cC,{id:"q3il6U"})}),(0,i.jsx)(eU.Y2,{defaultValue:null===(o=u.config)||void 0===o?void 0:o.fontSize,onChange:(e,t)=>{c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{fontSize:Number.isNaN(t)?void 0:t}}})},children:(0,i.jsx)(eU.zu,{})})]}),(0,i.jsx)(eq,{label:(0,i.jsx)(y.cC,{id:"3loch2"}),initialValue:null===(s=u.config)||void 0===s?void 0:s.contentStyles,updateValue:e=>c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{contentStyles:e}}})}),(0,i.jsx)(eq,{label:(0,i.jsx)(y.cC,{id:"r0cjYF"}),initialValue:null===(a=u.config)||void 0===a?void 0:a.containerStyles,updateValue:e=>c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{containerStyles:e}}}),helperText:C.ag._({id:"W5hi5t"})})]})},{}),isForGammaOnly:!0}],tp=(e,t)=>!!e.featureFlag&&!ec.VH.get(e.featureFlag)||!!e.isForGammaOnly&&!t,tf=e=>{let{theme:t,dispatch:n,fonts:r,fontsMap:o}=e,{isGammaOrgUser:s}=(0,I.SE)(),a=(0,K.i)({base:!0,lg:!1,default:!1}),l=(0,D.useMemo)(()=>th.filter(e=>!tp(e,s)),[s]),c={outline:"1px dashed var(--chakra-colors-sunglow-500)",outlineOffset:"0"};return(0,i.jsx)(ex.u.Provider,{value:{state:{theme:t,fontState:{fonts:r,fontsMap:o}},dispatch:n},children:(0,i.jsxs)(N.m,{display:a?"block":"flex",alignItems:"flex-start",flexDirection:a?"column":"row",variant:"soft-rounded",defaultIndex:0,w:"100%",flex:"1",children:[(0,i.jsx)(P.t,{display:"flex",flexDirection:a?"row":"column",overflowX:"auto",position:"sticky",top:"0",p:"2",bg:"white",zIndex:"1",minW:a?"100%":"220px",alignItems:a?"flex-start":"stretch",gap:a?void 0:"1",children:l.map((e,t)=>(0,i.jsx)(L.O,{"data-testid":"theme-config-tab-".concat(e.testId),justifyContent:"flex-start",whiteSpace:a?"nowrap":void 0,...e.isForGammaOnly&&c,borderRadius:"md",_hover:{bg:"trueblue.50"},children:(0,i.jsxs)(eo.U,{spacing:"2.5",fontSize:{base:"sm",md:"md"},children:[(0,i.jsx)(u.xu,{color:"trueblue.400",children:(0,i.jsx)(el.G,{icon:e.icon,fixedWidth:!0})}),(0,i.jsx)(x.x,{textAlign:"left",noOfLines:{base:void 0,md:1},whiteSpace:"no-wrap",children:e.label()})]})},t))}),(0,i.jsx)(R.i,{orientation:a?"horizontal":"vertical"}),(0,i.jsx)(z.n,{children:l.map((e,t)=>(0,i.jsxs)(G.x,{bg:"white",p:{base:3,md:5},pb:{base:5,md:12},h:"100%",as:F.K,spacing:{base:"4",md:"6"},children:[(0,i.jsxs)(F.K,{spacing:"1",children:[(0,i.jsx)(es.X,{fontSize:"2xl",color:"gray.800",fontWeight:"500",children:e.label()}),e.description&&(0,i.jsx)(x.x,{fontSize:"sm",color:"gray.600",children:e.description()})]}),e.Component]},t))})]})})};var tm=n(58905),tx=n(75230),tg=n(64951),tv=n(95083);let tj=e=>{let{value:t,onSave:n,themeValidationError:r}=e;return(0,i.jsxs)(eu.NI,{isInvalid:!!r,children:[(0,i.jsx)(tm.C,{defaultValue:t,placeholder:(0,X.F)(),onSubmit:n,submitOnBlur:!0,color:"gray.800",isPreviewFocusable:!0,fontSize:"2xl",fontWeight:"500",children:(0,i.jsxs)(eo.U,{spacing:"2",minHeight:10,minW:"10",children:[(0,i.jsx)(tx.w,{px:"1",bg:"gray.50",w:"100%","data-testid":"custom-theme-name-preview",_hover:{bg:"gray.200"}}),(0,i.jsx)(tg.V,{px:"1","data-testid":"custom-theme-name-input"}),(0,i.jsx)(tb,{})]})}),r&&(0,i.jsx)(eB.J1,{fontWeight:"500",pb:2,children:r})]})},tb=()=>{let{isEditing:e,getSubmitButtonProps:t,getCancelButtonProps:n,getEditButtonProps:r}=function(){let{isEditing:e,getEditButtonProps:t,getCancelButtonProps:n,getSubmitButtonProps:i}=(0,tv.V)();return{isEditing:e,getEditButtonProps:t,getCancelButtonProps:n,getSubmitButtonProps:i}}();return e?(0,i.jsxs)(v.h,{justifyContent:"center",size:"sm",spacing:0,children:[(0,i.jsx)(b.kH,{label:(0,i.jsx)(y.cC,{id:"dEgA5A"}),placement:"top",children:(0,i.jsx)(eT.h,{size:"md",colorScheme:"red",variant:"ghost","aria-label":C.ag._({id:"dEgA5A"}),icon:(0,i.jsx)(el.G,{icon:tr.YIN}),...n()})}),(0,i.jsx)(b.kH,{label:(0,i.jsx)(y.cC,{id:"fNzdjk"}),placement:"top",children:(0,i.jsx)(eT.h,{size:"md",colorScheme:"green",variant:"ghost","aria-label":C.ag._({id:"fNzdjk"}),icon:(0,i.jsx)(el.G,{icon:tr.LEp}),...t(),"data-testid":"save-theme-name-button"})})]}):(0,i.jsx)(M.k,{justifyContent:"center",children:(0,i.jsx)(b.kH,{label:(0,i.jsx)(y.cC,{id:"+MxT3Q"}),placement:"top",children:(0,i.jsx)(u.xu,{children:(0,i.jsx)(eT.h,{size:"md",variant:"ghost",colorScheme:"gray",color:"gray.400","aria-label":C.ag._({id:"+MxT3Q"}),icon:(0,i.jsx)(el.G,{icon:tr.IwR}),...r(),ref:null})})})})},ty="theme-editor-root",tC=e=>{var t,n;let{state:r,dispatch:o,docContent:s,doc:a,workspaceId:l,onSave:c,onCancel:h,isLoading:p}=e,{theme:f,customizationStep:m}=r,[g,C]=(0,D.useState)(),[k,_]=(0,D.useState)(null),E=(0,O.Kt)(C,300);(0,D.useEffect)(()=>{E(f)},[f,E]);let{globalFonts:S,workspaceFonts:A,fontsMap:I,allThemeFonts:U}=(0,$.TY)(l);(null==s?void 0:s.content)&&(null===(t=s.content[0].attrs)||void 0===t?void 0:t.background)&&(s.content[0].attrs.background=Z.jg);let H=(0,W.CG)(B.mT),Y="selection"===m,ee=(0,K.i)({base:"var(--chakra-sizes-sm)",lg:Y?"var(--chakra-sizes-lg)":"var(--chakra-sizes-xl)",xl:Y?"var(--chakra-sizes-xl)":"var(--chakra-sizes-2xl)","2xl":Y?"var(--chakra-sizes-2xl)":"var(--chakra-sizes-3xl)"})||"var(--chakra-sizes-md)",et=(0,K.i)({base:"md","2xl":"lg"}),en=(0,D.useMemo)(()=>(0,J.y)(),[]);(0,D.useEffect)(()=>{let e=null==g?void 0:g.config.accentBackgrounds;if(e){if(k&&0===e.length){k.commands.setContent(en);return}null==k||k.commands.updateThemeAccentImages(e,!0)}},[k,null==g?void 0:g.config.accentBackgrounds,en]);let eo=(0,D.useCallback)(e=>{o({type:"SET_NEW_THEME_FOR_SELECTING",data:{theme:(0,Q.mg)(e)}})},[o]),es=(0,D.useCallback)(()=>{o({type:"SET_NEW_THEME_FOR_CUSTOMIZING",data:{theme:(0,Q.mg)(f,!0)}})},[o,f]),ea="loading"===r.themeBackgroundImgStatus||"loading"===r.themeLogoImgStatus,el="new"===r.theme.id||!w()(r.theme,r.originalTheme),ec=(0,W.CG)(T.pN,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return w()(...t)}),eu=s&&ec.length>=3;return(0,i.jsxs)(M.k,{direction:"row",h:"100%",maxH:"100%",children:[(0,i.jsx)(M.k,{direction:"column",w:ee,borderLeft:"1px solid",borderColor:"gray.200",position:"relative",children:(0,i.jsxs)(M.k,{flex:"1",position:"relative",h:"100%",flexDirection:"column",children:[(0,i.jsx)(M.k,{p:{base:3,md:5},alignItems:"stretch",flexDirection:"column",children:Y?(0,i.jsxs)(F.K,{spacing:0,children:[(0,i.jsx)(x.x,{fontSize:{base:"2xl",lg:"3xl"},fontWeight:"700",letterSpacing:"tight",children:(0,i.jsx)(y.cC,{id:"sZF+xW"})}),(0,i.jsx)(x.x,{color:"gray.700",fontSize:"sm",children:(0,i.jsx)(y.cC,{id:"cMoaWD"})})]}):(0,i.jsx)(tk,{name:(null===(n=r.theme)||void 0===n?void 0:n.name)||(0,X.F)(),doc:a,theme:r.theme,dispatch:o,themeValidationError:r.themeValidationError})}),(0,i.jsx)(R.i,{}),(0,i.jsx)(M.k,{flex:"1",maxH:"100%",overflowY:"auto",w:"100%",children:Y?(0,i.jsx)(ei,{theme:f,onThemeClick:eo,onSelectClick:es}):(0,i.jsx)(tf,{theme:f,dispatch:o,fonts:{globalFonts:S,workspaceFonts:A},fontsMap:I})}),!Y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R.i,{}),(0,i.jsx)(M.k,{p:{base:3,md:4},justifyContent:"flex-end",bg:"white",position:"sticky",bottom:"0",children:(0,i.jsxs)(v.h,{size:et,children:[(0,i.jsx)(j.z,{variant:"plain",onClick:h,children:(0,i.jsx)(y.cC,{id:"dEgA5A"})}),(0,i.jsx)(b.kH,{isDisabled:!ea,label:(0,i.jsx)(y.cC,{id:"yz1qqg"}),children:(0,i.jsx)(u.xu,{display:"inline-flex",children:(0,i.jsx)(j.z,{variant:"solid",isLoading:p||p||ea,isDisabled:!el,onClick:c,"data-testid":"custom-theme-save",children:(0,i.jsx)(y.cC,{id:"EsJdRp"})})})})]})})]})]})}),(0,i.jsx)(M.k,{flex:1,bg:"gray.100",position:"relative",maxW:"calc(100vw - ".concat(ee,")"),children:(0,i.jsxs)(M.k,{className:ty,overflowY:"scroll",width:"100%",height:"100%",direction:"column",position:"relative",css:{"--editor-width":"100%"},children:[(0,i.jsx)(q.Y,{}),(0,i.jsx)(er.J,{fonts:U}),(0,i.jsxs)(N.m,{variant:"soft-rounded",size:"sm","data-testid":"custom-theme-tabs",defaultIndex:eu?1:0,children:[s&&(0,i.jsx)(d.M,{position:"sticky",top:0,zIndex:2,background:"white",children:(0,i.jsxs)(P.t,{p:2,position:"absolute",top:"1rem",background:"white",borderRadius:"full",shadow:"base",children:[(0,i.jsx)(L.O,{"data-testid":"custom-theme-tester-deck-tab",children:(0,i.jsx)(y.cC,{id:"ypSaiK"})}),(0,i.jsx)(L.O,{"data-testid":"custom-theme-current-deck-tab",children:(0,i.jsx)(y.cC,{id:"VJUm9p"})})]})}),(0,i.jsxs)(z.n,{"data-testid":"custom-theme-tab-panels",pointerEvents:"none",children:[(0,i.jsx)(G.x,{p:0,"data-testid":"custom-theme-preview-editor",children:(0,i.jsx)(V.fb,{onCreate:e=>{let{editor:t}=e;return _(t)},initialContent:en,theme:g,scrollingParentSelector:".".concat(ty),isInsideDrawer:!0})}),s&&(0,i.jsx)(G.x,{p:0,"data-testid":"custom-theme-preview-editor",children:(0,i.jsx)(V.fb,{reduxData:{cards:H},initialContent:s,theme:g,scrollingParentSelector:".".concat(ty),doc:a,isInsideDrawer:!0})})]})]})]})})]})},tk=e=>{var t;let{name:n,doc:r,theme:o,themeValidationError:s,dispatch:a}=e,[l,c]=(0,D.useState)(),{data:u,loading:d}=(0,E.gec)({variables:{id:null==o?void 0:o.id},skip:!o||"new"===o.id}),h=(0,Y.$)(null==r?void 0:r.title);(0,D.useEffect)(()=>{!d&&u&&u.theme&&c(u.theme)},[d,u,c]);let p=(0,D.useCallback)(e=>{let t=e||(0,X.F)();a({type:"THEME_UPDATE_THEME_NAME",data:{name:t}})},[a]);return(0,i.jsxs)(F.K,{spacing:"1.5",children:[(0,i.jsx)(tj,{value:n||(0,X.F)(),onSave:p,themeValidationError:s}),d?(0,i.jsx)(U.N,{noOfLines:1,fontSize:"sm",maxW:"300px"}):(0,i.jsxs)(x.x,{color:"gray.700",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:[(null==l?void 0:l.createdBy)&&(0,i.jsx)(y.cC,{id:"qeNU2j",values:{0:l.createdBy.displayName}})," ",(null==l?void 0:l.docCount)&&(null==l?void 0:l.docCount)===1&&(null==l?void 0:l.id)===(null==r?void 0:null===(t=r.theme)||void 0===t?void 0:t.id)?(0,i.jsx)(y.cC,{id:"On+kRG",values:{docTitle:h,GAMMA_ARTIFACT_PROPER_NOUN:H.Yc},components:{0:(0,i.jsx)("strong",{})}}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.cC,{id:"eVRfvp",values:{GAMMA_ARTIFACT_PROPER_NOUN:H.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:H.aq,0:(null==l?void 0:l.docCount)||0},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}})})]})]})},tw=["headingFont","bodyFont","accentColor","logoUrl"],tD=(0,D.memo)(e=>{let{isOpen:t,onClose:n,state:u,dispatch:d,docContent:h,onThemeCreated:p,disableDrawerTransition:f=!1}=e,m=(0,A.z$)(),x=(0,r.p)(),g=(0,_.v9)(T.yx),v=(0,O.NE)(t,500),{user:j,currentWorkspace:k}=(0,I.SE)(),M=(0,D.useRef)(null),F=f?t:v,[R,{loading:N}]=(0,E.Wu6)(),[P,{loading:L}]=(0,E.suk)(),z="new"===u.theme.id||!w()(u.theme,u.originalTheme),{isOpen:G,onOpen:U,onClose:B}=(0,S.M)({id:"unsaved-changes"}),H=(0,D.useCallback)(()=>{B(),n()},[B,n]),W=(0,D.useCallback)(()=>{"customization"===u.customizationStep&&z?U():H()},[H,z,u.customizationStep,U]),V=(0,D.useCallback)(()=>{d({type:"THEME_RESET"}),n()},[d,n]),q=(0,D.useCallback)(()=>{if(j&&k&&u.theme){if(!u.theme.name){d({type:"THEME_VALIDATION_ERROR",data:{errorMessage:"Theme name is required."}});return}if("new"===u.theme.id){let e={...u.theme,workspaceId:k.id},{id:t,archived:n,fonts:i,...r}=e;R({variables:{input:r},update:(t,n)=>{let{data:i}=n;(null==i?void 0:i.createTheme)&&t.writeQuery({query:E.$LR,variables:{workspaceId:e.workspaceId,archived:!1},data:{themes:[i.createTheme]}})},optimisticResponse:{createTheme:{__typename:"Theme",...e,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(t=>{let{data:n}=t;if(null==n?void 0:n.createTheme){var i;null==m||m.track(A.AA.THEME_CREATED,{theme_id:null==n?void 0:null===(i=n.createTheme)||void 0===i?void 0:i.id,type:"new"}),null==p||p(n.createTheme)}x({title:C.ag._({id:"NE6T/k",values:{0:e.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),V()}).catch(t=>{t.graphQLErrors&&t.graphQLErrors.length>0&&"duplicate_theme_name"===t.graphQLErrors[0].code?d({type:"THEME_VALIDATION_ERROR",data:{errorMessage:t.message}}):(console.error("Couldn't create theme ".concat(e.name," error: ").concat(t)),x({title:C.ag._({id:"FcSGqc",values:{e:t}}),status:"error",duration:3e3,position:"top",isClosable:!1}))})}else{let{__typename:e,archived:t,createdTime:n,updatedTime:i,createdBy:r,fonts:o,...s}=u.theme;for(let e of tw)e in s&&void 0===s[e]&&(s[e]=null);P({variables:{input:s},update:(e,t)=>{let{data:n}=t;(null==n?void 0:n.updateTheme)&&e.writeQuery({query:E.$LR,variables:{workspaceId:u.theme.workspaceId,archived:!1},data:{themes:[n.updateTheme]}})},optimisticResponse:{updateTheme:{__typename:"Theme",...u.theme,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(()=>{null==m||m.track(A.AA.THEME_UPDATED,{theme_id:u.theme.id}),x({title:C.ag._({id:"WODDpW",values:{0:u.theme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),V()}).catch(e=>{e.graphQLErrors&&"duplicate_theme_name"===e.graphQLErrors[0].code?d({type:"THEME_VALIDATION_ERROR",data:{errorMessage:e.message}}):(console.error("Couldn't update theme ".concat(u.theme.name," error: ").concat(e)),x({title:C.ag._({id:"hSYiXl",values:{e:e}}),status:"error",duration:3e3,position:"top",isClosable:!1}))})}}},[j,k,d,null==u?void 0:u.theme,R,x,V,m,p,P]),Z="calc(var(--100vh) - 24px)";return(0,i.jsx)(b.Wk,{isDark:!1,children:(0,i.jsxs)(o.d,{placement:"bottom",onClose:W,isOpen:t,isFullHeight:!0,initialFocusRef:M,children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(a.s,{h:Z,transform:f?"none !important":void 0,borderTopRadius:"xl",overflow:"hidden",children:[(0,i.jsx)(l.f,{p:0,maxH:Z,children:F?(0,i.jsx)(tC,{state:u,workspaceId:null==k?void 0:k.id,dispatch:d,docContent:h,doc:g,onSave:q,onCancel:V,isLoading:!!(N||L)}):(0,i.jsx)(t_,{})}),(0,i.jsx)(b.kH,{label:(0,i.jsx)(y.cC,{id:"j5HZKI"}),placement:"top",children:(0,i.jsx)(c.o,{ref:M,bg:"white",boxShadow:"base",size:"lg",top:"3",right:"3"})})]}),(0,i.jsx)(tE,{isOpen:G,onClose:B,onConfirm:H})]})})});tD.displayName="ThemeEditorDrawer";let t_=()=>(0,i.jsx)(u.xu,{flexDirection:"column",flex:"1",w:"100%",h:"100%",bg:"gray.100",inset:0,children:(0,i.jsx)(d.M,{h:"100%",children:(0,i.jsx)(h.$,{})})}),tE=e=>{let{isOpen:t,onClose:n,onConfirm:r}=e;return(0,i.jsxs)(p.u_,{isOpen:t,onClose:n,children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(f.h,{children:[(0,i.jsx)(m.x,{children:(0,i.jsx)(y.cC,{id:"sCTlv5"})}),(0,i.jsx)(c.o,{}),(0,i.jsx)(l.f,{children:(0,i.jsx)(x.x,{children:(0,i.jsx)(y.cC,{id:"nvyKWT"})})}),(0,i.jsx)(g.m,{children:(0,i.jsxs)(v.h,{flexWrap:"wrap",gap:"3",justifyContent:"flex-end",spacing:"0",children:[(0,i.jsx)(j.z,{variant:"ghost",onClick:n,children:(0,i.jsx)(y.cC,{id:"4OjqAQ"})}),(0,i.jsx)(j.z,{variant:"solid",onClick:r,children:(0,i.jsx)(y.cC,{id:"a7JgI7"})})]})})]})]})}},30233:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var i=n(52322),r=n(69251),o=n(67109);let s=e=>{let{size:t}=e;return(0,i.jsx)(r.r,{gap:4,flex:1,templateColumns:{base:"repeat(2, minmax(0, 1fr))"},children:Array(t).fill(!0).map((e,t)=>(0,i.jsx)(o.O,{h:"9em",borderRadius:"base"},t))})}},26838:function(e,t,n){"use strict";n.d(t,{o:function(){return ea}});var i=n(52322),r=n(56581),o=n(29117),s=n(77533),a=n(70065),l=n(55478),c=n(28535),u=n(38035),d=n(36474),h=n(5879),p=n(87254),f=n(2784),m=n(90763),x=n(93202),g=n(48832),v=n(11050),j=n(50260),b=n(10625),y=n(67046),C=n(32899),k=n(332),w=n(99058),D=n(27599),_=n(25481),E=n(42946),S=n(54933),A=n(49929),T=n(94523),I=n(82282),O=n(31807),M=n(47749),F=n(29318);let R=(0,f.memo)(e=>{let{theme:t}=e,n=(0,F.eo)({theme:t}),r=t.name.replace(M.Qk,"");return(0,i.jsxs)(b.v,{isLazy:!0,children:[(0,i.jsx)(y.j,{as:C.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,i.jsx)(A.G,{icon:E.S6C}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(h.cC,{id:"7L01XJ"})}),(0,i.jsx)(k.h,{children:(0,i.jsxs)(w.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)(c.xu,{px:4,py:0,maxWidth:"300px",children:[(0,i.jsx)(s.x,{noOfLines:3,children:r}),t.createdTime&&(0,i.jsx)(s.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,I.Z)((0,O.Z)(t.createdTime),"PPP")}})}),t.createdBy&&(0,i.jsx)(T.kH,{label:t.createdBy.email,children:(0,i.jsx)(s.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(h.cC,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,i.jsx)(D.R,{}),(0,i.jsx)(_.s,{icon:(0,i.jsx)(A.G,{icon:S.XnX,fixedWidth:!0}),onClick:n,children:(0,i.jsx)(h.cC,{id:"yKu/3Y"})})]})})]})});var N=n(53596),P=n(36651),L=n(14274),z=n(8393),G=n(21733);let U=(0,f.memo)(e=>{let{onCustomizeThemeClick:t,onEditThemeClick:n}=e,{isGammaOrgUser:r}=(0,G.SE)(),o=r&&"production"!==L.v.APPLICATION_ENVIRONMENT;return(0,i.jsxs)(b.v,{isLazy:!0,children:[(0,i.jsx)(y.j,{as:C.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,i.jsx)(A.G,{icon:E.S6C}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(h.cC,{id:"7L01XJ"})}),(0,i.jsx)(k.h,{children:(0,i.jsxs)(w.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)(_.s,{icon:(0,i.jsx)(A.G,{icon:E.Mw$,fixedWidth:!0}),onClick:t,children:(0,i.jsx)(h.cC,{id:"XZd6AM"})}),o&&(0,i.jsx)(_.s,{color:"orange.500",icon:(0,i.jsx)(c.xu,{boxSize:"4",children:(0,i.jsx)(z.Y,{})}),onClick:n,children:"Edit theme"}),(0,i.jsx)(D.R,{}),(0,i.jsx)(c.xu,{px:4,py:0,maxW:56,children:(0,i.jsx)(s.x,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(h.cC,{id:"FV8ABd"})})})]})})]})});var B=n(29705),H=n(92850),W=n(26468),V=n(22226),q=n(54326),Z=n(97217),K=n(11082),Y=n(67109),X=n(50250),$=n(75768),J=n(62614),Q=n(2338),ee=n(5632),et=n(94199),en=n(91994),ei=n(47968);let er=e=>{let{theme:t,isOpen:n,onClose:r}=e,{asPath:o}=(0,ee.useRouter)(),[a,l]=(0,f.useState)(),[c,u]=(0,f.useState)(),d=(0,en.CG)(ei.yx),p=(0,F.EW)({theme:t,showLinkToDashboard:!!d}),{data:m,loading:g}=(0,x.gec)({variables:{id:null==t?void 0:t.id},skip:!t||"new"===t.id});(0,f.useEffect)(()=>{var e,t;!g&&m&&((null===(e=m.theme)||void 0===e?void 0:e.docCount)&&l(m.theme.docCount),(null===(t=m.theme)||void 0===t?void 0:t.siteCount)&&u(m.theme.siteCount))},[g,m,l,u]);let v=(0,f.useMemo)(()=>{let e=0;return a&&a>0&&(e+=a),c&&c>0&&(e+=c),e},[a,c]);return(0,i.jsxs)(H.u_,{closeOnOverlayClick:!1,isOpen:n,onClose:r,size:"lg",children:[(0,i.jsx)(W.Z,{}),(0,i.jsxs)(V.h,{children:[(0,i.jsx)(q.x,{children:(0,i.jsx)(h.cC,{id:"oh7Knm",values:{0:t.name}})}),(0,i.jsx)(Z.f,{children:v>0?(0,i.jsxs)(s.x,{mb:2,children:[(0,i.jsx)(h.cC,{id:"uSopl9",values:{totalCount:v,GAMMA_ARTIFACT_PROPER_NOUN:et.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:et.aq}})," ",(0,i.jsx)(h.cC,{id:"c+lbSJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:et.aq}})," ","/#themes"!==o&&(0,i.jsx)(h.cC,{id:"kLomb7",components:{0:(0,i.jsx)(K.r,{color:"trueblue.500",colorScheme:"trueblue",href:j.oH,textDecoration:"underline",isExternal:!0}),1:(0,i.jsx)(B.h,{mx:"2px"})}})]}):g?(0,i.jsx)(Y.O,{h:"1em",mb:2}):(0,i.jsx)(s.x,{mb:2,children:(0,i.jsx)(h.cC,{id:"KNTN0L",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:et.aq}})})}),(0,i.jsx)(X.m,{children:(0,i.jsxs)($.h,{children:[(0,i.jsx)(J.z,{variant:"ghost",onClick:r,children:(0,i.jsx)(h.cC,{id:"dEgA5A"})}),(0,i.jsx)(J.z,{variant:"ghost",colorScheme:"red",onClick:()=>{p(),r()},children:(0,i.jsx)(h.cC,{id:"zck3yw"})})]})}),(0,i.jsx)(Q.o,{})]})]})},eo=(0,f.memo)(e=>{let{theme:t,openThemeEditorWithThisTheme:n,onDuplicate:r,onArchiveThemeModalOpen:o,isArchiveThemeModalOpen:a,onArchiveThemeModalClose:l}=e,{canMakeStandard:u,convertToStandard:d}=(0,F.Xm)(t);return(0,i.jsxs)(b.v,{isLazy:!0,children:[(0,i.jsx)(y.j,{as:C.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,i.jsx)(A.G,{icon:E.S6C}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(h.cC,{id:"7L01XJ"})}),(0,i.jsx)(k.h,{children:(0,i.jsxs)(w.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)(c.xu,{px:4,py:0,maxWidth:"300px",children:[(0,i.jsx)(s.x,{noOfLines:3,children:t.name}),t.createdTime&&(0,i.jsx)(s.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,I.Z)((0,O.Z)(t.createdTime),"PPP")}})}),t.createdBy&&(0,i.jsx)(T.kH,{label:t.createdBy.email,children:(0,i.jsx)(s.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(h.cC,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,i.jsx)(D.R,{}),(0,i.jsx)(_.s,{icon:(0,i.jsx)(A.G,{icon:E.Xcf,fixedWidth:!0}),onClick:n,children:(0,i.jsx)(h.cC,{id:"ePK91l"})}),(0,i.jsx)(_.s,{icon:(0,i.jsx)(A.G,{icon:E.WM4,fixedWidth:!0}),onClick:r,children:(0,i.jsx)(h.cC,{id:"euc6Ns"})}),(0,i.jsx)(D.R,{}),u&&(0,i.jsx)(_.s,{color:"orange.500",icon:(0,i.jsx)(c.xu,{boxSize:"4",children:(0,i.jsx)(z.Y,{})}),onClick:d,children:(0,i.jsx)(h.cC,{id:"thLYdn"})}),(0,i.jsx)(_.s,{color:"red.500",icon:(0,i.jsx)(A.G,{icon:E.N2j,fixedWidth:!0}),onClick:o,children:(0,i.jsx)(h.cC,{id:"B495Gs"})})]})}),a&&(0,i.jsx)(k.h,{children:(0,i.jsx)(er,{theme:t,isOpen:!0,onClose:l})})]})}),es=e=>{let{isChecked:t,name:n}=e;return(0,i.jsxs)(o.U,{spacing:1,alignItems:"flex-start",children:[t&&(0,i.jsx)(r.n,{w:3,h:"auto",mr:1,mt:1,color:"trueblue.700"}),(0,i.jsx)(s.x,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:t?"trueblue.700":void 0,children:n})]})},ea=(0,f.memo)(e=>{var t,n,r,s;let{theme:b,onThemeClicked:y,isChecked:C=!1,onEditClick:k,variant:w="outline"}=e,D=(0,v.z$)(),_=(0,a.p)(),E="ghost"===w,S=(0,f.useRef)(null),A=(0,f.useCallback)(e=>()=>{k&&(e?k((0,j.mg)(b,!0)):k(b))},[k,b]),{isOpen:T,onOpen:I,onClose:O}=(0,l.q)({id:"ArchiveThemeModalDisclosure"}),{user:M,currentWorkspace:F}=(0,P.SE)(),[L]=(0,x.gFs)(),z=b.name.replace(j.Qk,""),G=(0,f.useCallback)(()=>{if(!M||!F)return;let{id:e,...t}=b;L({variables:{id:e},update:(e,t)=>{let{data:n}=t;(null==n?void 0:n.duplicateTheme)&&e.writeQuery({query:x.$LR,variables:{workspaceId:b.workspaceId,archived:!1},data:{themes:[n.duplicateTheme]}})},optimisticResponse:{duplicateTheme:{id:"temp",__typename:"Theme",...t,name:"".concat(z," (copy)"),archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(t=>{let{data:n}=t;n&&(null==D||D.track(v.AA.THEME_DUPLICATED,{theme_id:n.duplicateTheme.id,source_theme_id:e,name:z}),null==D||D.track(v.AA.THEME_CREATED,{theme_id:n.duplicateTheme.id,name:n.duplicateTheme.name,type:"duplicate"}),_({title:p.ag._({id:"DvRoa4",values:{0:n.duplicateTheme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),null==y||y(n.duplicateTheme))}).catch(e=>{console.error("Couldn't duplicate theme ".concat(b.name," error: ").concat(e)),_({title:p.ag._({id:"aOi88n",values:{err:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})})},[M,F,b,L,z,D,_,y]),B=b.workspaceId&&!!(null===(t=b.createdBy)||void 0===t?void 0:t.displayName),H=!!y,W=!k;return(0,i.jsxs)(c.xu,{ref:S,bgColor:C?"trueblue.100":E?void 0:"linen.50",textAlign:"left",tabIndex:H?0:void 0,borderRadius:"md",transitionProperty:E?"common":"none",transitionDuration:"normal",outline:"none",onClick:()=>null==y?void 0:y(b),onKeyPress:e=>{H&&"Enter"===e.key&&(null==y||y(b))},_hover:H?{shadow:E||C?void 0:"lg",bgColor:C?"trueblue.100":E?"trueblue.50":"gray.100"}:void 0,_focus:{boxShadow:C||!H?void 0:"outline"},shadow:E?void 0:"md",p:E?2:0,"data-theme-id":b.id,"data-testid":C?"current-theme-preview":void 0,cursor:H?"pointer":void 0,children:[(0,i.jsx)(N.n,{theme:b,minH:"9em",maxH:"9em"}),(0,i.jsxs)(u.k,{align:"baseline",mt:1,direction:"column",p:E?0:2,children:[B&&(0,i.jsx)(u.k,{my:2,children:(0,i.jsx)(es,{name:z,isChecked:C})}),(0,i.jsxs)(o.U,{alignItems:"flex-start",w:"100%",children:[B?(0,i.jsx)(m.l,{createdByYou:(null===(n=b.createdBy)||void 0===n?void 0:n.id)===(null==M?void 0:M.id),createdByName:null===(r=b.createdBy)||void 0===r?void 0:r.displayName,createdByProfileImageUrl:null===(s=b.createdBy)||void 0===s?void 0:s.profileImageUrl,timestampDescription:b.updatedTime&&(0,i.jsx)(h.cC,{id:"E1dtM3",values:{0:(0,g.Dw)(b.updatedTime)}})}):(0,i.jsx)(es,{name:z,isChecked:C}),(0,i.jsx)(d.L,{}),W?null:b.workspaceId&&!b.archived?(0,i.jsx)(eo,{theme:b,openThemeEditorWithThisTheme:A(!1),onDuplicate:G,onArchiveThemeModalOpen:I,isArchiveThemeModalOpen:T,onArchiveThemeModalClose:O}):b.workspaceId&&!0===b.archived?(0,i.jsx)(R,{theme:b}):(0,i.jsx)(U,{onCustomizeThemeClick:A(!0),onEditThemeClick:A(!1)})]})]})]})});ea.displayName="ThemePreview"},52394:function(e,t,n){"use strict";n.d(t,{t:function(){return M}});var i=n(52322),r=n(38035),o=n(36474),s=n(43297),a=n(42822),l=n(77533),c=n(62614),u=n(42946),d=n(49929),h=n(5879),p=n(2784),f=n(91994),m=n(30233),x=n(29705),g=n(47443),v=n(52929),j=n(28535),b=n(80877),y=n(74444),C=n(11082),k=n(94199),w=n(50260);let D=e=>{let{openThemeEditor:t}=e;return(0,i.jsxs)(s.K,{bg:"gray.100",p:4,textAlign:"left",spacing:4,borderRadius:"md",my:2,children:[(0,i.jsx)(l.x,{textAlign:"center",fontWeight:"700",children:(0,i.jsx)(h.cC,{id:"yNvg2Q"})}),(0,i.jsx)(l.x,{fontSize:"sm",color:"gray.700",children:(0,i.jsx)(h.cC,{id:"qYwzxB"})}),(0,i.jsx)(c.z,{onClick:t,variant:"solid",leftIcon:(0,i.jsx)(d.G,{icon:u.JyM}),"data-testid":"new-theme-button",children:(0,i.jsx)(h.cC,{id:"srRMnJ"})})]})};var _=n(67613),E=n(69251),S=n(26838);let A=e=>{let{themes:t,currentThemeId:n,setTheme:r,openThemeEditor:o}=e;return(0,i.jsx)(E.r,{gap:1,flex:1,my:2,templateColumns:{base:"repeat(2, minmax(0, 1fr))"},children:[...t].map(e=>(0,i.jsx)(S.o,{theme:e,isChecked:!!(n&&e.id===n),onEditClick:o,onThemeClicked:r,variant:"ghost"},e.id))})},T=(0,p.memo)(e=>{let{currentTheme:t,setTheme:n,openThemeEditor:r,openThemeEditorWithDefaultTheme:o}=e,a=(0,f.CG)(_.Y3),l=(0,f.CG)(_.C0);return!l&&r?(0,i.jsxs)(s.K,{spacing:8,children:[o&&(0,i.jsx)(D,{openThemeEditor:o}),(0,i.jsx)(A,{themes:a,currentThemeId:null==t?void 0:t.id,setTheme:n,openThemeEditor:r})]}):(0,i.jsxs)(i.Fragment,{children:[(null==t?void 0:t.archived)?(0,i.jsxs)(g.b,{status:"warning",mb:4,children:[(0,i.jsx)(v.z,{}),(0,i.jsxs)(j.xu,{children:[(0,i.jsx)(b.C,{children:(0,i.jsx)(h.cC,{id:"i7yZxh",values:{GAMMA_ARTIFACT_PROPER_NOUN:k.Yc}})}),(0,i.jsx)(y.X,{children:(0,i.jsx)(h.cC,{id:"jH2g5C",components:{0:(0,i.jsx)(C.r,{textDecoration:"underline",isExternal:!0,href:w.oH}),1:(0,i.jsx)(x.h,{mx:"2px"})}})})]})]}):null,(0,i.jsx)(s.K,{spacing:2,children:(0,i.jsx)(j.xu,{width:"100%",mx:0,children:(0,i.jsx)(A,{themes:a,currentThemeId:null==t?void 0:t.id,setTheme:n,openThemeEditor:r})})})]})});T.displayName="ThemePickerBodyInner";var I=n(93441),O=n(14324);let M=e=>{let{setTheme:t,openThemeEditor:n,openThemeEditorWithDefaultTheme:x,currentTheme:g,openBackgroundPanel:v,shouldScrollToCurrent:j=!0,flexProps:b}=e,{isLoadingThemes:y}=(0,O.a)(),C=(0,f.CG)(_.FM);return(0,I.vm)(()=>{j&&!y&&"search"!==C&&(y||requestAnimationFrame(()=>{var e;return null===(e=document.querySelector('[data-theme-id="'.concat(null==g?void 0:g.id,'"]')))||void 0===e?void 0:e.scrollIntoView()}))},[y,null==g?void 0:g.id,C,j],[y,C]),(0,p.useEffect)(()=>{var e;null===(e=document.querySelector("[data-theme-picker-scroll-container]"))||void 0===e||e.scrollTo(0,0)},[C]),(0,i.jsxs)(r.k,{direction:"column",flex:1,h:"fit-content",...b,children:[y?(0,i.jsx)(m.S,{size:4}):(0,i.jsx)(T,{currentTheme:g,setTheme:t,openThemeEditor:n,openThemeEditorWithDefaultTheme:x}),v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.L,{}),(0,i.jsxs)(s.K,{mt:12,mb:4,p:8,border:"1px solid",borderColor:"gray.200",spacing:4,bgColor:"gray.50",borderRadius:"md",align:"center",justifyContent:"center",children:[(0,i.jsx)(a.M,{children:(0,i.jsx)(l.x,{fontSize:"sm",children:(0,i.jsx)(h.cC,{id:"UNfHm4"})})}),(0,i.jsx)(c.z,{size:"sm",w:"fit-content",leftIcon:(0,i.jsx)(d.G,{icon:u.UHQ}),onClick:v,children:(0,i.jsx)(h.cC,{id:"+EZioz"})})]})]})]})}},75586:function(e,t,n){"use strict";n.d(t,{v:function(){return S}});var i=n(52322),r=(0,n(67012).I)({d:"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z",displayName:"Search2Icon"}),o=n(43297),s=n(74409),a=n(36474),l=n(62614),c=n(2338),u=n(28535),d=n(75768),h=n(32899),p=n(87651),f=n(85573),m=n(89099),x=n(16556),g=n(42946),v=n(49929),j=n(5879),b=n(87254),y=n(2784),C=n(8393),k=n(91994),w=n(67613),D=n(36651),_=n(93441);let E={dark:{label:(0,i.jsx)(j.cC,{id:"pvnfJD"})},light:{label:(0,i.jsx)(j.cC,{id:"1njn7W"})},professional:{label:(0,i.jsx)(j.cC,{id:"Oojfbh"})},colorful:{label:(0,i.jsx)(j.cC,{id:"Op7PhG"})}},S=(0,y.memo)(e=>{let{title:t,description:n,showDrawerCloseButton:S,openThemeEditorWithDefaultTheme:A,stackProps:T,currentTheme:I}=e,O=(0,k.TL)(),M=(0,k.CG)(w.FM),F=(0,k.CG)(w.s1),R=(0,y.useRef)(null),{currentWorkspace:N}=(0,D.SE)(),[P,L]=(0,y.useState)(""),z=(0,k.CG)(w.C0),G=(0,y.useCallback)(()=>{O((0,w.uG)({activeView:"search"})),setTimeout(()=>{var e;null===(e=R.current)||void 0===e||e.focus()},200)},[O]),U=(0,y.useCallback)(e=>{O((0,w.ql)({searchQuery:e}))},[O]),B=(0,_.Kt)(U,500),H=(0,y.useCallback)(e=>{L(e),B(e)},[B]),W=(0,y.useCallback)(e=>{let t=[...F];F.includes(e)?t=t.filter(t=>t!==e):t.push(e),O((0,w.LT)({filterKeywords:t}))},[F,O]);return(0,_.vm)(()=>{"search"!==M&&(I&&I.workspaceId?O((0,w.uG)({activeView:"custom"})):O((0,w.uG)({activeView:"standard"})))},[O,I,M],[I]),(0,y.useEffect)(()=>()=>{O((0,w.mc)())},[]),(0,i.jsxs)(o.K,{spacing:4,...T,children:[(0,i.jsxs)(o.K,{spacing:8,children:[(0,i.jsxs)(o.K,{spacing:4,children:[(0,i.jsxs)(o.K,{direction:"row",width:"100%",pr:S?10:void 0,children:[(0,i.jsx)(s.X,{fontSize:"3xl",children:t}),(0,i.jsx)(a.L,{}),!!A&&N&&(0,i.jsx)(l.z,{size:"sm",variant:"solid",leftIcon:(0,i.jsx)(v.G,{icon:g.r8p}),onClick:A,"data-testid":"new-theme-button",children:(0,i.jsx)(j.cC,{id:"FiwgR9"})}),S&&(0,i.jsx)(c.o,{})]}),n?(0,i.jsx)(u.xu,{children:n}):(0,i.jsx)(i.Fragment,{})]}),z&&(0,i.jsxs)(d.h,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",children:[(0,i.jsx)(l.z,{borderRadius:"full",w:"50%",leftIcon:(0,i.jsx)(v.G,{icon:g.D0h,fixedWidth:!0}),"data-theme-picker-active-view-button":"custom",colorScheme:"custom"===M?"trueblue":"gray",bg:"custom"===M?"trueblue.100":"gray.100",onClick:()=>O((0,w.uG)({activeView:"custom"})),children:(0,i.jsx)(j.cC,{id:"8Tg/JR"})}),(0,i.jsx)(l.z,{borderRadius:"full",w:"50%",leftIcon:(0,i.jsx)(u.xu,{w:3.5,children:(0,i.jsx)(C.Y,{})}),"data-theme-picker-active-view-button":"standard",colorScheme:"standard"===M?"trueblue":"gray",bg:"standard"===M?"trueblue.100":"gray.100",onClick:()=>O((0,w.uG)({activeView:"standard"})),children:(0,i.jsx)(j.cC,{id:"TJBHlP"})}),(0,i.jsx)(h.h,{icon:(0,i.jsx)(r,{}),isRound:!0,"data-theme-picker-active-view-button":"search","aria-label":b.ag._({id:"A1taO8"}),variant:"ghost",colorScheme:"search"===M?"trueblue":"gray",bg:"search"===M?"trueblue.100":"gray.100",onClick:G})]})]}),(0,i.jsx)(p.U,{in:"search"===M,children:(0,i.jsx)(f.I,{ref:R,w:"100%",placeholder:b.ag._({id:"L0fOnm"}),value:P,onChange:e=>{H(e.target.value)}})}),(0,i.jsx)(p.U,{in:"standard"===M,children:(0,i.jsx)(m.E,{children:Object.entries(E).map(e=>{let[t,{label:n}]=e,r=F.includes(t);return(0,i.jsx)(x.Vp,{size:"md",letterSpacing:"normal",cursor:"pointer",onClick:()=>{W(t)},_hover:{bgColor:r?"trueblue.200":"blackAlpha.200"},colorScheme:r?"trueblue":"blackAlpha",children:n},t)})})})]})});S.displayName="ThemePickerHeader"},86963:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var i=n(9850),r=n.n(i),o=n(2784),s=n(47749);let a={theme:s.mU,themeValidationError:null,status:"new",themeBackgroundImgStatus:"idle",themeLogoImgStatus:"idle",customizationStep:null,originalTheme:null};function l(e,t){switch(t.type){case"NEW_BLANK_THEME":return{...r()(a),customizationStep:"customization"};case"THEME_RESET":return r()(a);case"SET_THEME_EDITING":{let{theme:n}=t.data,i=r()(n);return{...e,status:"editing",theme:n,originalTheme:i,customizationStep:"customization"}}case"SET_NEW_THEME_FOR_SELECTING":{let{theme:n}=t.data;return{...e,status:"new",theme:n,customizationStep:"selection"}}case"SET_NEW_THEME_FOR_CUSTOMIZING":{let{theme:n}=t.data,i=r()(n);return{...e,theme:n,originalTheme:i,customizationStep:"customization"}}case"THEME_UPDATE_THEME_PROPS":{let{theme:n}=e,{themeProps:i}=t.data;return{...e,theme:{...n,...i}}}case"THEME_UPDATE_THEME_CONFIG":{let{theme:n}=e,{themeConfig:i}=t.data;return{...e,theme:{...n,config:{...n.config,...i}}}}case"THEME_UPDATE_THEME_KEYWORDS":{let{theme:n}=e,{keywords:i}=t.data;return{...e,theme:{...n,config:{...n.config,keywords:{color:[],tone:[],...n.config.keywords,...i}}}}}case"THEME_BACKGROUND_IMAGE_UPLOAD_STARTED":{let{theme:n}=e,{background:i}=t.data;return{...e,themeBackgroundImgStatus:"loading",theme:{...n,config:{...n.config,background:i}}}}case"THEME_BACKGROUND_UPDATE_SUCCESS":{let{theme:n}=e,{background:i}=t.data;return{...e,themeBackgroundImgStatus:"idle",theme:{...n,config:{...n.config,background:i}}}}case"THEME_BACKGROUND_IMAGE_UPLOAD_FAIL":return{...e,themeBackgroundImgStatus:"idle"};case"THEME_LOGO_UPLOAD_STARTED":return{...e,themeLogoImgStatus:"loading"};case"THEME_LOGO_UPLOAD_SUCCESS":{let{theme:n}=e,{logoUrl:i}=t.data;return{...e,themeLogoImgStatus:"idle",theme:{...n,logoUrl:i}}}case"THEME_LOGO_UPLOAD_FAIL":return{...e,themeLogoImgStatus:"idle"};case"THEME_UPDATE_THEME_NAME":{let{theme:n}=e,{name:i}=t.data;return{...e,theme:{...n,name:i},themeValidationError:null}}case"THEME_VALIDATION_ERROR":{let{errorMessage:n}=t.data;return{...e,themeValidationError:n}}case"THEME_VALIDATION_ERROR_RESET":return{...e,themeValidationError:null}}}function c(){return o.useReducer(l,a)}},86783:function(e,t,n){"use strict";n.d(t,{z:function(){return v}});var i=n(52322),r=n(38035),o=n(87254),s=n(2784),a=n(64467),l=n(91994),c=n(3693),u=n(91579),d=n(58879),h=n(46741),p=n(97676);let f={fontFamily:'"Inter", sans-serif !important',fontWeight:"500",lineHeight:"1.5 !important",textTransform:"none",letterSpacing:"normal !important",textAlign:"left !important",margin:"0 !important",color:"gray.800 !important",background:"none !important",border:"0 none !important",padding:"0 !important",content:'""'},m={".block-paragraph,.block-heading,.block-title,.block-todo,.block-numbered,.block-bullet":{...f,margin:0,my:"0.75em",":first-child":{mt:"0px !important"},":last-child":{mb:"0px !important"}},".block-paragraph":{fontSize:"1em"},".block-heading,.block-title":{fontWeight:"bold",lineHeight:{fontSize:"1.25"},'.heading[level="1"]':{fontSize:"1.5em"},'.heading[level="2"]':{fontSize:"1.25em"},'.heading[level="3"]':{fontSize:"1.125em"},'.heading[level="4"]':{fontSize:"1em"}},".block-title":{".title":{fontSize:"1.75em"},'.title[level="1"]':{fontSize:"1.75em"},'.title[level="2"]':{fontSize:"2em"},'.title[level="3"]':{fontSize:"2.25em"}},a:{...f,color:"var(--chakra-colors-blue-500) !important","&:hover":{textDecoration:"underline"},cursor:"pointer"},".mention":{bgColor:"trueblue.50",whiteSpace:"break-spaces"},code:{backgroundColor:"var(--chakra-colors-trueblue-50)",color:"var(--body-color)",...p.FC}},x={".block-paragraph,.block-heading,.block-title,.block-todo,.block-numbered,.block-bullet":{...f,margin:0,my:"0.75em",":first-child":{mt:"0px !important"},":last-child":{mb:"0px !important"},color:"white"},code:{backgroundColor:"var(--chakra-colors-whiteAlpha-100)",color:"var(--chakra-colors-gray-200)",...p.FC},".block-todo label.chakra-checkbox .chakra-checkbox__control[data-checked]":{backgroundColor:"var(--chakra-colors-whiteAlpha-100)",color:"var(--chakra-colors-white)"}},g=e=>{let{isDark:t=!1}=e;return{".ProseMirror":{height:"100%"},...m,...h.dE,"--box-border-radius":"var(--chakra-radii-sm)","--link-color":t?"var(--chakra-colors-trueblue-100)":"var(--chakra-colors-trueblue-500)",".block-todo label.chakra-checkbox .chakra-checkbox__control:not([data-checked])":{borderColor:"var(--chakra-colors-chakra-border-color)"},"--body-color-inverted":t?"black":"white",...t?x:{},".is-selecting-node":{"[data-selection-ring]":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"2px solid",outlineColor:t?"trueblue.100":"trueblue.300",pointerEvents:"none",zIndex:1}},'[data-selection-ring="padded"]':{_before:{outlineOffset:"0.25em"}}}}},v=(0,s.memo)(e=>{let{isEditable:t,notesSx:n,canShowEditHint:h=!1,isDark:p=!1}=e,[f,m]=(0,s.useState)(null),{destroyEditor:x,mountEditor:v}=(0,l.CG)(a.Vy),j=(0,s.useRef)(!1);(0,s.useEffect)(()=>(v&&m(v()),()=>{null==x||x(),m(null)}),[x,v]),(0,s.useEffect)(()=>{f&&t&&!j.current&&(f.commands.focus("end"),j.current=!0)},[t,f]),(0,s.useEffect)(()=>{if(f){if(f.shouldUseLiteMenus=!0,t&&!f.isEditable){f.setEditable(!0);return}if(!t&&f.isEditable){f.setEditable(!1);return}}},[t,f]);let b=t?o.ag._({id:"fnNtuR"}):"Double click to edit",y=h&&f&&f.isEmpty,C=g({isDark:p});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.k,{className:"card-notes-editor",overflowY:"auto",border:"1px solid",borderColor:p?"gray.700":"gray.200",borderRadius:"md",flex:1,p:4,wordBreak:"break-word",sx:{".block.block-paragraph.first-block.last-block.is-empty::before":{...d.BI,content:'"'.concat(b,'"')},...C,...n,_before:y?{...d.BI,top:2,left:2,height:"auto",width:"auto",content:'"'.concat(o.ag._({id:"CvH5f/"}),'"')}:{}},pos:"relative",children:(0,i.jsx)(r.k,{flex:1,flexDirection:"column",children:f&&(0,i.jsx)(u.k,{editor:f,className:"highlight-mask",style:{height:"100%"}})})}),f&&(0,i.jsx)(c.u,{editor:f,appendToSelector:"[data-card-notes-bubble-menu-target]"})]})});v.displayName="CardNotesEditor"},12136:function(e,t,n){"use strict";n.d(t,{e:function(){return m}});var i=n(52322),r=n(70065),o=n(5879),s=n(5632),a=n(2784),l=n(93202),c=n(49165),u=n(11050),d=n(84405),h=n(36651),p=n(41425),f=n(23147);let m=()=>{let[e]=(0,l.So6)({refetchQueries:["GetDocs"]}),{push:t}=(0,s.useRouter)(),n=(0,r.p)(),{user:m,currentWorkspace:x}=(0,h.SE)(),g=(0,u.z$)(),v=(0,a.useCallback)(async r=>{var s;let{docId:a,docTitle:l,initialContent:h,channelId:v,source:j,openThemeEditor:b,onSuccess:y,newWindow:C}=r,k=null==m?void 0:null===(s=m.settings)||void 0===s?void 0:s.needsEditorOnboarding;if(!a)return Promise.reject(Error("Cannot duplicate without a docId"));let w=n({id:"duplicate-toast-".concat(a),isClosable:!1,position:"top",status:"loading",variant:"light",duration:null,title:(0,i.jsx)(o.cC,{id:"OvEjsP"})});return m&&(null==x?void 0:x.id)?e({variables:{duplicateDocInput:{orgId:null==x?void 0:x.id,sourceDocId:a,source:c.R[j],initialContent:h?{ydoc:(0,f.qI)(h),schemaVersion:p.bI,editors:[null==m?void 0:m.id]}:void 0,...v?{channels:[{channelId:v}]}:{}}}}).then(e=>{var r,s,c;if(!(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.duplicateDoc))throw Error("No data received");null==g||g.track(u.AA.EXAMPLE_DUPLICATED,{doc_id:a,title:l,source:j});let h=null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(s=c.duplicateDoc)||void 0===s?void 0:s.id;(0,d.Q)({doc_id:h,source:j,source_doc_id:a}),console.debug("[Duplicate.".concat(j,"] Doc duplicated New doc id (").concat(h,"). Navigating to Editor")),n.update(w,{status:"success",description:(0,i.jsx)(o.cC,{id:"zzDlyQ"}),duration:5e3,isClosable:!0});let p=b?"/docs/".concat(h).concat(b?"?openThemeEditor=true":""):k?"/docs/".concat(h,"?tour=true"):"/docs/".concat(h);C?window.open(p,"_blank"):t(p),y&&h&&y(h)},e=>{console.error("[Duplicate.".concat(j,"] Error duplicating doc:"),e.message),n.update(w,{title:(0,i.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}).catch(e=>{console.error("[Duplicate.".concat(j,"] Error duplicating doc:"),e.message),n.update(w,{title:(0,i.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}):(console.error("[Duplicate.".concat(j,"] Cannot duplicate without a user or workspace"),{user:m}),Promise.reject(Error("Cannot duplicate without a user or workspace")))},[null==x?void 0:x.id,m,n,e,g,t]);return v}},82245:function(e,t,n){"use strict";n.d(t,{AN:function(){return i},bI:function(){return o},ir:function(){return r}});let i=e=>e.endsWith("gmail.com")||e.endsWith("hotmail.com")||e.endsWith(".edu"),r="gamma_logged_in",o=31536e7},68322:function(e,t,n){"use strict";n.d(t,{W:function(){return _},c:function(){return E}});var i=n(52322),r=n(55478),o=n(92850),s=n(26468),a=n(22226),l=n(54326),c=n(2338),u=n(97217),d=n(43297),h=n(77533),p=n(38035),f=n(82713),m=n(28535),x=n(50250),g=n(75768),v=n(62614),j=n(5879),b=n(2784),y=n(93202),C=n(16893),k=n(81640),w=n(1163),D=n(80498);let _=()=>{let[e,t]=(0,b.useState)(!1),{product:n}=(0,k.z)(),i=!!n,[o,s]=(0,b.useState)(new D.B),{isOpen:a,onOpen:l,onClose:c}=(0,r.q)({id:"confirm-add-paid-user"}),u=(0,b.useCallback)(()=>t(e=>!e),[]),d=(0,b.useCallback)(()=>{o.reject(),t(!1),c()},[c,o]),h=(0,b.useCallback)(()=>{o.resolve(!0),t(!1),c()},[c,o]),p=(0,b.useCallback)(()=>{if(!i)return Promise.resolve();let e=new D.B;return s(e),l(),e.promise},[i,l]);return{isConfirmAddPaidMemberModalOpen:a,isConfirmAddPaidMemberModalChecked:e,onConfirmAddPaidMemberClose:d,onConfirmAddPaidMemberClick:h,showConfirmPaidUserModal:p,onConfirmAddPaidMemberClickCheckbox:u}},E=e=>{let{isOpen:t,newMemberCount:n,isChecked:r,onClose:D,onConfirmClick:_,onCancelClick:E,onCheckboxConfirm:S}=e,{subscription:A}=(0,k.z)(),T=(0,b.useCallback)(()=>(0,w.$F)(A,n),[A,n]),{totalPrice:I,productPrice:O}=(0,C.A)(T,[n,A]);if(!t||!A)return null;let M=(null==O?void 0:O.frequencyUnit)===y.C_B.Month?(0,i.jsx)(j.cC,{id:"JKIwMd",values:{newMemberCount:n,totalPrice:I},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}}):(0,i.jsx)(j.cC,{id:"Pltlc3",values:{newMemberCount:n,totalPrice:I},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}});return(0,i.jsxs)(o.u_,{isOpen:t,onClose:D,trapFocus:!1,size:"xl",children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(a.h,{children:[(0,i.jsx)(l.x,{children:(0,i.jsx)(j.cC,{id:"B9zUUN",values:{newMemberCount:n}})}),(0,i.jsx)(c.o,{}),(0,i.jsx)(u.f,{children:(0,i.jsxs)(d.K,{spacing:4,children:[(0,i.jsx)(h.x,{as:"span",children:(0,i.jsx)(j.cC,{id:"c6yFkJ"})}),(0,i.jsxs)(p.k,{gap:3,alignItems:"start",children:[(0,i.jsx)(f.X,{mt:1,isChecked:r,onChange:S}),(0,i.jsx)(h.x,{children:M})]}),(0,i.jsx)(m.xu,{fontSize:"sm",bgColor:"gray.200",p:4,borderRadius:"md",children:(0,i.jsx)(h.x,{children:(0,i.jsx)(j.cC,{id:"mjZQpA"})})})]})}),(0,i.jsx)(x.m,{children:(0,i.jsxs)(g.h,{children:[(0,i.jsx)(v.z,{variant:"ghost",colorScheme:"gray",onClick:E,children:(0,i.jsx)(j.cC,{id:"dEgA5A"})}),(0,i.jsx)(v.z,{variant:"solid",onClick:_,isDisabled:!r,children:(0,i.jsx)(j.cC,{id:"WMsmjg",values:{newMemberCount:n}})})]})})]})]})}},55089:function(e,t,n){"use strict";n.d(t,{t9:function(){return eJ},kV:function(){return e2},ER:function(){return e3},p7:function(){return e4}});var i=n(52322),r=n(92850),o=n(26468),s=n(22226),a=n(54326),l=n(2338),c=n(74008),u=n(97217),d=n(28535),h=n(43297),p=n(74409),f=n(36371),m=n(73582),x=n(2969),g=n(3181),v=n(13272),j=n(50250),b=n(36474),y=n(75768),C=n(62614),k=n(42946),w=n(54933),D=n(49929),_=n(5879),E=n(2784),S=n(93202),A=n(87342),T=n(11050),I=n(36651),O=n(29705),M=n(11082),F=n(94523),R=n(82282),N=n(31807),P=n(6912),L=n(62131),z=n(11942),G=n(81640),U=n(42005),B=n(25566);let H=e=>{var t,n,r,o;let{memberCount:s}=e,{user:a,currentWorkspace:l}=(0,I.SE)(),{subscription:c,product:u,refetchSubscription:p}=(0,G.z)(),{launchCancelFlow:f,cancelFlowEnabled:m}=(0,P.B_)(c,l),[x,g]=(0,E.useState)(!1),v=(0,E.useCallback)(async()=>{if(f){U.c.track(B.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"cancel-flow"}),g(!0);try{var e;let t=await f();(null==t?void 0:null===(e=t.sessionResults)||void 0===e?void 0:e.canceled)===!0&&await (null==p?void 0:p())}catch(e){console.warn("Failed to cancel subscription",e)}g(!1)}},[f,p]),j=null==c?void 0:null===(t=c.products)||void 0===t?void 0:t[0];if(!j||!u)return null;let b=!!(null==c?void 0:c.cancellationRequestedTime),w=!!(null==c?void 0:c.expirationTime)&&new Date>new Date(c.expirationTime),S=(null==c?void 0:null===(n=c.createdByUser)||void 0===n?void 0:n.id)===(null==a?void 0:a.id),A=S?(0,z._8)():null,T=(null==j?void 0:j.units)&&s?s-j.units:void 0,H="".concat(null==c?void 0:null===(r=c.createdByUser)||void 0===r?void 0:r.displayName," (").concat(null==c?void 0:null===(o=c.createdByUser)||void 0===o?void 0:o.email,")");return(0,i.jsxs)(h.K,{direction:"row",spacing:2,alignItems:"baseline",children:[(0,i.jsx)(L.Y7,{workspace:l}),T&&T>0&&S&&(0,i.jsx)(F.kH,{label:(0,i.jsx)(_.cC,{id:"J8+D9M",values:{addedSeats:T}}),placement:"top",children:(0,i.jsx)(d.xu,{color:"yellow.500",children:(0,i.jsx)(D.G,{icon:k.Vm4})})}),(0,i.jsxs)(y.h,{px:2,spacing:4,children:[(0,i.jsx)(F.kH,{placement:"top",shouldWrapChildren:!0,label:S?w?(0,i.jsx)(_.cC,{id:"uxwzHm",values:{0:(0,R.Z)((0,N.Z)(c.expirationTime),"PPP")}}):b?(0,i.jsx)(_.cC,{id:"SoEbnk",values:{0:(0,R.Z)((0,N.Z)(c.expirationTime),"PPP")}}):(0,i.jsx)(_.cC,{id:"HrQ7yf"}):(0,i.jsx)(_.cC,{id:"H49TQ5",values:{creatorNameAndEmail:H}}),children:(0,i.jsx)(C.z,{target:"_blank",href:S&&A?A:void 0,as:M.r,colorScheme:S?"trueblue":"gray",variant:"link",size:"sm",rightIcon:(0,i.jsx)(O.h,{ml:-1}),isDisabled:!S,children:(0,i.jsx)(_.cC,{id:"J/hVSQ",values:{0:b||w?"Re-activate subscription":"Manage subscription"}})})}),m&&!b&&S&&(0,i.jsx)(F.kH,{placement:"top",shouldWrapChildren:!0,label:(0,i.jsx)(_.cC,{id:"o/WrRZ"}),children:(0,i.jsx)(C.z,{colorScheme:"gray",color:"gray.600",variant:"link",size:"sm",onClick:v,isLoading:x,isDisabled:x,children:(0,i.jsx)(_.cC,{id:"fHXMPy"})})})]}),w?(0,i.jsx)(d.xu,{fontSize:"sm",color:"gray.400",children:(0,i.jsx)(_.cC,{id:"mrIVJ+",values:{0:(0,R.Z)((0,N.Z)(c.expirationTime),"PPP")}})}):b?(0,i.jsx)(d.xu,{fontSize:"sm",color:"gray.400",children:(0,i.jsx)(_.cC,{id:"uBqaX6",values:{0:(0,R.Z)((0,N.Z)(c.expirationTime),"PPP")}})}):(0,i.jsx)(d.xu,{fontSize:"sm",color:"gray.400",children:(0,i.jsx)(_.cC,{id:"TwZCUl",values:{0:(0,R.Z)((0,N.Z)(c.nextBillingTime),"PPP")}})})]})};var W=n(46640),V=n(70065),q=n(35183),Z=n(97166),K=n(85573),Y=n(37733),X=n(99793),$=n(87254),J=n(52610);let Q=e=>{let{workspace:t,canManageWorkspace:n}=e,r=(0,V.p)(),{refetch:o}=(0,I.SE)(),[s,a]=(0,E.useState)((null==t?void 0:t.name)||""),[l,c]=(0,E.useState)(!1),[u,{loading:p,called:f,error:m,reset:x}]=(0,S.Mqp)(),g=(0,E.useCallback)(()=>{c(!1),a((null==t?void 0:t.name)||"")},[null==t?void 0:t.name]),v=(0,E.useCallback)(()=>{u({variables:{input:{name:s,id:null==t?void 0:t.id}},fetchPolicy:"no-cache"}).then(()=>{null==o||o(),r({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3}),setTimeout(()=>{c(!1),x()},1e3)}).catch(e=>{console.error('[WorkspaceSettingsModal] Error updating workspace "'.concat(null==t?void 0:t.id,'"'),e.message)})},[s,null==t?void 0:t.id,o,x,r,u]),j=""===s||s.length<J.My||s.length>50||!!(null==m?void 0:m.message);(0,E.useEffect)(()=>{s!==t.name&&c(!0)},[s,t.name]);let b=(0,J.up)();return t?(0,i.jsx)(d.xu,{children:(0,i.jsxs)(q.NI,{isInvalid:j,children:[(0,i.jsx)(Z.l,{children:(0,i.jsx)(_.cC,{id:"CozWO1"})}),(0,i.jsxs)(h.K,{w:"100%",direction:["column","row"],children:[(0,i.jsx)(F.kH,{placement:"top-start",label:(0,i.jsx)(_.cC,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:b}}),isDisabled:n,children:(0,i.jsx)(d.xu,{flex:1,children:(0,i.jsx)(K.I,{w:["100%","50%"],placeholder:$.ag._({id:"CozWO1"}),value:s,disabled:!n,onChange:e=>a(e.target.value.slice(0,50))})})}),(0,i.jsx)(Y.R,{in:l,unmountOnExit:!0,children:(0,i.jsx)(d.xu,{children:(0,i.jsxs)(y.h,{w:"100%",children:[(0,i.jsx)(C.z,{variant:"solid",isLoading:p,isDisabled:j||f,onClick:v,children:(0,i.jsx)(_.cC,{id:"EkH9pt"})}),(0,i.jsx)(C.z,{onClick:g,children:(0,i.jsx)(_.cC,{id:"dEgA5A"})})]})})})]}),(0,i.jsx)(q.Q6,{children:(0,i.jsx)(_.cC,{id:"ODB/Vo"})}),(0,i.jsx)(X.J1,{children:(null==m?void 0:m.message)?null==m?void 0:m.message:(0,i.jsx)(_.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:J.My}})})]})}):null};var ee=n(46949),et=n(55478),en=n(77533),ei=n(38035),er=n(74105),eo=n(20816),es=n(46028),ea=n(7985),el=n(38045),ec=n(84636),eu=n.n(ec),ed=n(23312),eh=n(4758),ep=n(80498),ef=n(68322);let em=(0,el.E)(d.xu),ex=e=>{let{workspace:t,canManageWorkspace:n,setDoneFn:r}=e,o=(0,V.p)(),s=(0,E.useRef)(),a=(0,E.useRef)(null),[l,c]=(0,E.useState)([]),[u,h]=(0,E.useState)(new ep.B),[p,f]=(0,E.useState)(""),[m,{loading:x}]=(0,S.f4M)(),{isOpen:g,onOpen:v,onClose:j}=(0,et.q)({id:"confirm-unsent-invitations"}),{isConfirmAddPaidMemberModalOpen:b,isConfirmAddPaidMemberModalChecked:y,onConfirmAddPaidMemberClick:k,onConfirmAddPaidMemberClose:w,showConfirmPaidUserModal:D,onConfirmAddPaidMemberClickCheckbox:A}=(0,ef.W)(),T=(0,E.useMemo)(()=>l.concat({email:p.trim()}).filter(e=>!("email"in e)||(0,ea.G)(e.email||"")),[p,l]),I=!!(p.length||l.length),O=!!T.length;(0,E.useEffect)(()=>{r(()=>()=>(O?v():u.resolve(),u.promise))},[O,u,v,r]);let M=x||!n,R=(0,E.useCallback)(async()=>{if(0!==T.length)return m({variables:{workspaceId:t.id,invitees:T},refetchQueries:["GetWorkspace"]}).then(()=>{let e=(0,i.jsx)(_.cC,{id:"Ka86rB",values:{0:T.length}});o({title:e,description:(0,i.jsx)(en.x,{children:T.map(e=>(0,i.jsx)(en.x,{children:e.email},e.email))}),status:"success",position:"top",isClosable:!0,duration:9e3})})},[T,m,t.id,o]),N=(0,E.useCallback)(async()=>D().then(R).then(()=>{var e;c([]),f(""),null===(e=s.current)||void 0===e||e.resetItems(!0),u.resolve(),h(new ep.B)}).catch(e=>{console.warn(e)}),[D,R,u]),P=(0,E.useCallback)(e=>{c(t=>t.filter(t=>t.email!==e))},[]),L=(0,E.useCallback)(e=>{c(t=>eu()([...t,...e],"email"))},[]),z=(0,J.up)(),G=(0,J.r_)();return(0,i.jsxs)(d.xu,{my:4,mb:6,children:[(0,i.jsx)(en.x,{mb:2,fontSize:"sm",color:"gray.500",children:(0,i.jsx)(_.cC,{id:"/Yxzaj"})}),(0,i.jsxs)(ei.k,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,i.jsx)(er.B,{w:"100%",justifyContent:"center",flex:1,children:(0,i.jsxs)(es.Qc,{ref:s,values:l,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,t)=>!l.find(e=>e.email===t),onSelectOption:e=>{let{item:t}=e;L([{email:t.value}]),f("")},onTagRemoved:e=>{c(t=>[...t].filter(t=>t.email!==e))},children:[(0,i.jsxs)(eo.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,i.jsx)(ei.k,{flex:1}),(0,i.jsx)(ei.k,{h:10,py:4,alignItems:"center",children:(0,i.jsx)(ee.W,{w:10})})]}),(0,i.jsx)(F.kH,{placement:"top-start",label:(0,i.jsx)(_.cC,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:z,WORKSPACE_ADMIN_DISPLAY_NAME:G}}),isDisabled:n,children:(0,i.jsx)(d.xu,{children:(0,i.jsx)(es.Vp,{ref:a,"data-testid":"autocomplete-collaborators-input",cursor:M?"not-allowed":void 0,disabled:M,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:$.ag._({id:"+1O5zr"}),transition:"width 1s ease-in-out",value:p,onKeyDown:e=>{let{key:t}=e;if("Enter"===t&&0===p.length){e.preventDefault();return}if("Backspace"===t&&0===p.length&&l.length>0){let e=l.slice(-1).pop();if(e){var n;null===(n=s.current)||void 0===n||n.removeItem(e.email)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let t=e.clipboardData.getData("Text"),n=t.trim().split(/[,|;\s]+/);L([...n.map(e=>({email:e}))]),f("")},onChange:e=>{let{target:t}=e,{value:n}=t;f(n)},children:l.map((e,t)=>(0,i.jsx)(eh.L,{idx:t,selectedCollaborator:e,handleRemoveClick:()=>{P(e.email)}},e.email))})})})]})}),(0,i.jsx)(em,{overflowX:"hidden",transition:"slow",animate:{maxWidth:I?"240px":"0px"},children:(0,i.jsx)(d.xu,{ml:2,children:(0,i.jsx)(C.z,{variant:"solid",onClick:N,isDisabled:!O,isLoading:!1,"data-testid":"add-selected-items",children:(0,i.jsx)(_.cC,{id:"MFKlMB"})})})})]}),(0,i.jsx)(ed.C,{invitationCount:T.length,isOpen:g,onClose:()=>{j(),u.reject(),h(new ep.B)},onDiscardClick:()=>{j(),u.resolve(),h(new ep.B)},onSendInvitationsClick:()=>{j(),N()}}),(0,i.jsx)(ef.c,{isOpen:b,newMemberCount:T.length,isChecked:y,onConfirmClick:k,onClose:w,onCancelClick:w,onCheckboxConfirm:A})]})};var eg=n(47443),ev=n(52929),ej=n(21979),eb=n(94199),ey=n(1163);let eC=()=>{let{subscription:e}=(0,G.z)(),t=(0,ey.OJ)(e),n=null==t?void 0:t.frequencyUnit;return(0,i.jsxs)(en.x,{children:[(0,i.jsx)(en.x,{as:"span",fontWeight:"600",children:n===S.C_B.Month?(0,i.jsx)(_.cC,{id:"cs6BKJ",values:{0:(0,ey.Hk)(t)},components:{0:(0,i.jsx)(en.x,{as:"span",textDecoration:"underline"})}}):n===S.C_B.Year?(0,i.jsx)(_.cC,{id:"xArlW8",values:{0:(0,ey.Hk)(t)},components:{0:(0,i.jsx)(en.x,{as:"span",textDecoration:"underline"})}}):"---"}),(0,i.jsx)(en.x,{children:(0,i.jsx)(_.cC,{id:"gfz9Jx"})})]})};var ek=n(78462);let ew=e=>{let{workspace:t}=e,n=(0,ek.Dg)(t),{product:r}=(0,G.z)(),o=(0,I.d3)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(en.x,{my:2,fontSize:"sm",color:"gray.500",children:[(0,i.jsx)(_.cC,{id:"eR6rch"})," ",o&&(0,i.jsx)(_.cC,{id:"X4Z7y1"})]}),(0,i.jsx)(ei.k,{mb:4,children:(0,i.jsx)(ej.I,{url:n})}),(0,i.jsxs)(eg.b,{mt:2,status:"warning",fontSize:"sm",borderRadius:4,children:[(0,i.jsx)(ev.z,{}),(0,i.jsxs)(h.K,{children:[(0,i.jsxs)(en.x,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(_.cC,{id:"XeiZmu"})})," ",(0,i.jsx)(_.cC,{id:"PF+S+V",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eb.aq}})]}),r&&(0,i.jsx)(eC,{})]})]})]})};var eD=n(14093),e_=n(70189),eE=n(78534),eS=n(80774),eA=n(5832),eT=n(66983),eI=n(79443),eO=n(67109),eM=n(81540),eF=n(29117),eR=n(109),eN=n(28356),eP=n(17993),eL=n(97010);let ez=(e,t,n)=>{let r=(0,eN.Cq)(t.displayName,t.email),o=(0,J.r_)();return"remove"===e?{title:(0,i.jsx)(_.cC,{id:"HlXuQk",values:{0:t.displayName||""}}),description:(0,i.jsx)(_.cC,{id:"MYcnTw",values:{nameWithEmail:r}}),confirmButtonLabel:(0,i.jsx)(_.cC,{id:"gNjH/6"})}:"leave"===e?{title:(0,i.jsx)(_.cC,{id:"6iUevl"}),description:(0,i.jsx)(_.cC,{id:"nM44Cu",values:{0:n.name}}),confirmButtonLabel:(0,i.jsx)(_.cC,{id:"hGWoeF"})}:{title:(0,i.jsx)(_.cC,{id:"kxbLa+",values:{WORKSPACE_ADMIN_DISPLAY_NAME:o}}),description:(0,i.jsx)(_.cC,{id:"gJfQ74",values:{WORKSPACE_ADMIN_DISPLAY_NAME:o}}),confirmButtonLabel:(0,i.jsx)(_.cC,{id:"m4YerB"})}},eG=e=>{let{isOpen:t,onClose:n,onConfirmClick:c,onCancelClick:d,userToConfirm:h,workspace:p,action:f}=e;if(!t)return null;let{title:m,description:x,confirmButtonLabel:g}=ez(f,h,p);return(0,i.jsxs)(r.u_,{returnFocusOnClose:!1,onClose:n,isOpen:!0,isCentered:!0,size:"lg",children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(s.h,{children:[(0,i.jsx)(a.x,{children:m}),(0,i.jsx)(l.o,{}),(0,i.jsxs)(u.f,{children:[(0,i.jsx)(en.x,{children:x}),"remove"===f&&(0,i.jsx)(eU,{user:h,mt:3})]}),(0,i.jsx)(j.m,{children:(0,i.jsxs)(y.h,{variant:"ghost",children:[(0,i.jsx)(C.z,{onClick:d,colorScheme:"gray",children:(0,i.jsx)(_.cC,{id:"dEgA5A"})}),(0,i.jsx)(C.z,{colorScheme:"red",onClick:c,children:g})]})})]})]})},eU=e=>{let{user:t,...n}=e;return(0,i.jsxs)(eP.g,{spacing:3,...n,children:[(0,i.jsx)(eg.b,{status:"warning",children:(0,i.jsxs)(eF.U,{children:[(0,i.jsx)(eR.q,{src:null==t?void 0:t.profileImageUrl,size:"sm",name:null==t?void 0:t.displayName}),(0,i.jsxs)(h.K,{spacing:0,ml:2,flex:"1",children:[(0,i.jsx)(en.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:null==t?void 0:t.displayName}),t.email&&(0,i.jsx)(en.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:t.email})]})]})}),(0,i.jsxs)(eg.b,{children:[(0,i.jsx)(ev.z,{}),(0,i.jsxs)(eL.GS,{spacing:3,children:[(0,i.jsx)(eL.HC,{children:(0,i.jsx)(_.cC,{id:"J1E9I7",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eb.aq,0:t.displayName||""}})}),(0,i.jsx)(eL.HC,{children:(0,i.jsx)(_.cC,{id:"1i/P7t",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eb.aq,0:t.displayName||""}})})]})]})]})};var eB=n(10625),eH=n(67046),eW=n(99058),eV=n(44035),eq=n(39237),eZ=n(19783),eK=n(27599),eY=n(25481);let eX=e=>{let{selected:t,options:n,onSelect:r,isMenuDisabled:o,disabledOptions:s=[],deleteLabel:a=(0,i.jsx)(_.cC,{id:"HBvein"}),onDeleteClick:l,disabledDeleteReason:c}=e,u=t===S.r3E.Admin?(0,i.jsx)(_.cC,{id:"U3pytU"}):(0,i.jsx)(_.cC,{id:"OvoEq7"});return(0,i.jsxs)(eB.v,{closeOnSelect:!0,children:[(0,i.jsx)(eH.j,{as:C.z,isDisabled:o,variant:"ghost",size:"sm",rightIcon:(0,i.jsx)(D.G,{icon:k.ptq}),children:u}),(0,i.jsx)(eW.q,{maxW:"320px",zIndex:"dropdown",children:(0,i.jsxs)(eV._,{defaultValue:t,value:t,type:"radio",onChange:e=>{Array.isArray(e)||r(e)},children:[n.map(e=>{let t=s.find(t=>t.disabledOption===e);return(0,i.jsx)(eq.i,{value:e,isDisabled:!!t,pt:3,children:(0,i.jsx)(eZ.u,{"aria-label":null==t?void 0:t.reason,label:null==t?void 0:t.reason,isDisabled:!t,placement:"right",shouldWrapChildren:!0,children:(0,i.jsxs)(d.xu,{lineHeight:"base",children:[(0,i.jsx)(en.x,{fontSize:"md",children:J.rK[e].title}),(0,i.jsx)(en.x,{fontSize:"sm",color:"gray.500",children:J.rK[e].description})]})})},e)}),(0,i.jsx)(eK.R,{}),(0,i.jsx)(eZ.u,{"aria-label":c,label:c,isDisabled:!c,placement:"right",shouldWrapChildren:!0,children:(0,i.jsx)(eY.s,{onClick:l,color:"red.500",fontSize:"md",lineHeight:"base",isDisabled:!!c,children:a})})]})})]})},e$=(e,t)=>(t||[]).find(t=>{var n;return(null===(n=t.workspace)||void 0===n?void 0:n.id)===e}),eJ=e=>{var t;let{workspace:n,dateFormatterFn:r,canManageWorkspace:o,workspaceAdminCount:s}=e,[a,l]=(0,E.useState)(S.tvj.DisplayName),[c,u]=(0,E.useState)(S.SrV.Asc),[p,f]=(0,E.useState)(!1),m={id:null==n?void 0:n.id,first:50,sortBy:{field:a,direction:c}},{data:x,loading:g,fetchMore:v}=(0,S.iR3)({variables:m,skip:!(null==n?void 0:n.id),fetchPolicy:"network-only",nextFetchPolicy:"network-only"}),[j,{loading:b}]=(0,S.Eiz)(),[y,{loading:k}]=(0,S.ert)(),[A,T]=(0,E.useState)(null),O=null==x?void 0:null===(t=x.workspaceMembers)||void 0===t?void 0:t.pageInfo,M=!g&&(null==O?void 0:O.hasNextPage)&&(null==O?void 0:O.endCursor),F=null==x?void 0:x.workspaceMembers.edges.map(e=>e.node),{user:R,refetch:N}=(0,I.SE)(),P=n.id,L=(0,V.p)(),[z,G]=(0,E.useState)(null),[U,B]=(0,E.useState)(null),[H,W]=(0,E.useState)(new ep.B),{isOpen:q,onOpen:Z,onClose:K}=(0,et.q)(),Y=(0,E.useMemo)(()=>null!=s?s:(null==F?void 0:F.reduce((e,t)=>{let n=e$(P,t.workspaceMemberships);return n&&n.role===S.r3E.Admin&&e++,e},0))||0,[F,P,s]),X=(0,E.useCallback)(async()=>(Z(),H.promise),[H,Z]),$=(0,E.useCallback)(()=>{G(null),B(null)},[]),Q=(0,E.useCallback)((e,t)=>{T(e.id),j({variables:{workspaceId:n.id,userId:e.id,role:t},refetchQueries:["GetWorkspace"]}).then(()=>{null==N||N();let n=t===S.r3E.Admin?(0,i.jsx)(_.cC,{id:"IFCQlQ",values:{0:e.displayName,1:e.email}}):(0,i.jsx)(_.cC,{id:"gWgob7",values:{0:e.displayName,1:e.email}});L({description:n,status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{L({description:(0,i.jsx)(_.cC,{id:"CF7q4i",values:{0:e.displayName,1:e.email}}),status:"error",position:"top",duration:5e3,isClosable:!0})}).finally(()=>{T(null)})},[N,L,j,n.id]),ee=(0,E.useCallback)(e=>async t=>{e&&o&&((null==R?void 0:R.id)===e.id&&t===S.r3E.Member?!(Y<=1)&&(G(e),B("giveUpAdminAccess"),X().then(()=>{Q(e,t)}).catch(()=>{console.debug("[handleMemberRoleChange] User cancelled action")}).finally(()=>$())):Q(e,t))},[Y,o,Q,X,$,null==R?void 0:R.id]),en=(0,E.useCallback)(e=>()=>{if(e.id===(null==R?void 0:R.id))return;let t=(0,eN.Cq)(e.displayName,e.email);G(e),B("remove"),X().then(()=>{T(e.id),y({variables:{workspaceId:P,userId:e.id},refetchQueries:["GetWorkspace","GetWorkspaceMembers"]}).then(()=>{null==N||N(),L({description:(0,i.jsx)(_.cC,{id:"jkCRxy",values:{emailWithName:t}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{L({description:(0,i.jsx)(_.cC,{id:"eETcUn",values:{emailWithName:t}}),status:"error",position:"top",duration:5e3,isClosable:!0})})}).finally(()=>{T(null),$()})},[y,X,P,null==R?void 0:R.id,N,$,L]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eD.x,{children:(0,i.jsxs)(e_.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,i.jsx)(eE.h,{children:(0,i.jsxs)(eS.Tr,{children:[(0,i.jsx)(eA.Th,{children:(0,i.jsx)(C.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{l(S.tvj.DisplayName),u(e=>e===S.SrV.Asc?S.SrV.Desc:S.SrV.Asc)},rightIcon:(0,i.jsx)(d.xu,{color:a===S.tvj.DisplayName?"gray.700":"gray.300",children:(0,i.jsx)(D.G,{icon:a===S.tvj.DisplayName?"asc"===c?w.eW2:w.l1h:w.CmM})}),children:(0,i.jsx)(_.cC,{id:"6YtxFj"})})}),(0,i.jsx)(eA.Th,{children:(0,i.jsx)(C.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{l(S.tvj.CreatedTime),u(e=>e===S.SrV.Asc?S.SrV.Desc:S.SrV.Asc)},rightIcon:(0,i.jsx)(d.xu,{color:a===S.tvj.CreatedTime?"gray.700":"gray.300",children:(0,i.jsx)(D.G,{icon:a===S.tvj.CreatedTime?"asc"===c?w.eW2:w.l1h:w.CmM})}),children:(0,i.jsx)(_.cC,{id:"SnjWqV"})})}),(0,i.jsx)(eA.Th,{children:(0,i.jsx)(_.cC,{id:"GDvlUT"})})]})}),(0,i.jsxs)(eT.p,{children:[g&&(0,i.jsx)(eS.Tr,{p:0,children:(0,i.jsx)(eI.Td,{colSpan:2,p:0,children:(0,i.jsxs)(h.K,{spacing:2,children:[(0,i.jsx)(eO.O,{h:8}),(0,i.jsx)(eO.O,{h:8}),(0,i.jsx)(eO.O,{h:8})]})})}),F&&F.map((e,t)=>{let s=t===F.length-1,a=e$(n.id,e.workspaceMemberships),l=null==a?void 0:a.createdTime,c=r(l),u=null==a?void 0:a.role,h=u===S.r3E.Admin,p=u?J.rK[u].title:"",f=A===e.id,m=e.id===(null==R?void 0:R.id);return(0,i.jsxs)(eS.Tr,{children:[(0,i.jsx)(eI.Td,{borderBottom:s?"0 none":void 0,children:(0,i.jsx)(eQ,{user:e,isSelf:m})}),(0,i.jsx)(eI.Td,{borderBottom:s?"0 none":void 0,whiteSpace:"nowrap",children:c}),(0,i.jsx)(eI.Td,{borderBottom:s?"0 none":void 0,w:32,children:f?(0,i.jsx)(d.xu,{textAlign:"center",children:(0,i.jsx)(eM.$,{size:"xs"})}):o&&u?(0,i.jsx)(eX,{selected:u,isMenuDisabled:b||k,options:[S.r3E.Admin,S.r3E.Member],onSelect:ee(e),disabledOptions:h&&Y<=1?[{disabledOption:S.r3E.Member,reason:"A workspace must have at least one admin"}]:[],disabledDeleteReason:m?"You cannot remove yourself":void 0,onDeleteClick:en(e)}):p})]},e.id)})]})]})}),M&&(0,i.jsx)(ei.k,{w:"100%",justify:"center",align:"center",mt:3,children:(0,i.jsx)(C.z,{isLoading:p,size:"sm",onClick:()=>{f(!0),v({variables:{after:null==O?void 0:O.endCursor}}).finally(()=>{f(!1)})},children:(0,i.jsx)(_.cC,{id:"yQ2kGp"})})}),z&&U&&(0,i.jsx)(eG,{isOpen:q,onClose:()=>{K(),H.reject(),W(new ep.B)},onCancelClick:()=>{K(),H.reject(),W(new ep.B)},onConfirmClick:async()=>{K(),H.resolve(),W(new ep.B)},userToConfirm:z,action:U,workspace:n})]})},eQ=e=>{let{user:t,isSelf:n}=e,{displayName:r,profileImageUrl:o,email:s}=t;return(0,i.jsxs)(eF.U,{children:[(0,i.jsx)(eR.q,{size:"sm",name:r,src:o}),(0,i.jsxs)(h.K,{spacing:0,children:[(0,i.jsxs)(en.x,{children:[r,n?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(_.cC,{id:"4Q6lF1"})]}):""]}),(0,i.jsx)(eF.U,{mt:1,children:(0,i.jsx)(en.x,{fontSize:"xs",color:"gray.500",children:s})})]})]})};var e0=n(829),e1=n.n(e0);let e2=e=>{let{invitations:t,dateFormatterFn:n,canManageWorkspace:r}=e,[o,s]=(0,E.useState)("email"),[a,l]=(0,E.useState)("asc"),[c]=(0,S.PZh)(),u=(0,V.p)(),h=(0,J.up)(),p=(0,E.useCallback)(e=>{c({variables:{id:e}}).then(()=>{u({title:$.ag._({id:"DGxAzK"}),status:"success",duration:3e3,isClosable:!0,position:"bottom"})}).catch(e=>{console.error(e),u({title:$.ag._({id:"s51CLN",values:{0:e.message}}),status:"error",isClosable:!0,position:"bottom"})})},[c,u]),f="asc"===a?e1()(t,o):e1()(t,o).reverse();return 0===f.length?(0,i.jsx)(d.xu,{p:4,background:"gray.50",children:(0,i.jsx)(en.x,{my:8,textAlign:"center",children:(0,i.jsx)(_.cC,{id:"blyObO"})})}):(0,i.jsx)(eD.x,{children:(0,i.jsxs)(e_.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,i.jsx)(eE.h,{children:(0,i.jsxs)(eS.Tr,{children:[(0,i.jsx)(eA.Th,{children:(0,i.jsx)(C.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{s("email"),l(e=>"asc"===e?"desc":"asc")},rightIcon:(0,i.jsx)(d.xu,{color:"email"===o?"gray.700":"gray.300",children:(0,i.jsx)(D.G,{icon:"email"===o?"asc"===a?w.eW2:w.l1h:w.CmM})}),children:(0,i.jsx)(_.cC,{id:"O3oNi5"})})}),(0,i.jsxs)(eA.Th,{children:[" ",(0,i.jsx)(C.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{s("createdTime"),l(e=>"asc"===e?"desc":"asc")},rightIcon:(0,i.jsx)(d.xu,{color:"email"===o?"gray.700":"gray.300",children:(0,i.jsx)(D.G,{icon:"createdTime"===o?"asc"===a?w.eW2:w.l1h:w.CmM})}),children:(0,i.jsx)(_.cC,{id:"B82OLR"})})]}),(0,i.jsx)(eA.Th,{children:(0,i.jsx)(_.cC,{id:"GXsAby"})})]})}),(0,i.jsx)(eT.p,{children:f&&(null==f?void 0:f.length)>0&&f.map((e,t)=>(0,i.jsxs)(eS.Tr,{children:[(0,i.jsx)(eI.Td,{children:e.email}),(0,i.jsx)(eI.Td,{children:n(e.createdTime)}),(0,i.jsx)(eI.Td,{children:(0,i.jsx)(F.kH,{placement:"top",label:(0,i.jsx)(_.cC,{id:"wcx9n8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:h}}),shouldWrapChildren:!0,isDisabled:r,children:(0,i.jsx)(C.z,{w:20,variant:"plain",color:"plain",size:"sm",isDisabled:!r,onClick:()=>{p(e.id)},children:(0,i.jsx)(_.cC,{id:"GXsAby"})})})})]},e.id))})]})})},e3=e=>{var t,n,O;let{isOpen:M,onClose:F}=e,{currentWorkspace:R}=(0,I.SE)(),N=(0,I.d3)(),{data:P}=(0,S.WaV)({variables:{id:null==R?void 0:R.id},skip:!(null==R?void 0:R.id)}),[L,z]=(0,E.useState)(()=>()=>Promise.resolve()),G=(null==P?void 0:null===(t=P.workspace)||void 0===t?void 0:t.invitations)||[],U=(0,E.useCallback)(()=>{L().then(F).catch(()=>{console.warn("[workspaceSettingsModal] InviteByEmail rejected to close modal")})},[L,F]);if(!R)return null;let B=null==P?void 0:null===(n=P.workspace)||void 0===n?void 0:n.memberCount;return(0,i.jsxs)(r.u_,{isOpen:M,onClose:U,size:"3xl",trapFocus:!1,children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(s.h,{children:[(0,i.jsx)(a.x,{children:(0,i.jsx)(_.cC,{id:"Knd6gz"})}),(0,i.jsx)(l.o,{}),(0,i.jsx)(c.i,{mb:4}),(0,i.jsxs)(u.f,{children:[(0,i.jsx)(A.m,{segmentEvent:T.AA.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS,onOpenCallback:U}),(0,i.jsx)(Q,{workspace:R,canManageWorkspace:N}),(0,i.jsx)(d.xu,{mt:12,children:(0,i.jsxs)(h.K,{spacing:8,children:[(0,i.jsxs)(d.xu,{children:[(0,i.jsx)(p.X,{size:"md",fontWeight:"600",mb:4,children:(0,i.jsx)(_.cC,{id:"KKJitJ"})}),(0,i.jsx)(ex,{workspace:R,canManageWorkspace:N,setDoneFn:z}),N&&(0,i.jsx)(ew,{workspace:R})]}),(0,i.jsx)(d.xu,{children:(0,i.jsxs)(f.m,{variant:"soft-rounded",size:"sm",children:[(0,i.jsxs)(m.t,{mb:4,children:[(0,i.jsxs)(x.O,{children:[(0,i.jsx)(d.xu,{mr:2,children:(0,i.jsx)(D.G,{icon:w.iOm,fixedWidth:!0})}),(0,i.jsx)(_.cC,{id:"VJ7g+s",values:{memberCount:B}})]}),(0,i.jsxs)(x.O,{children:[(0,i.jsx)(d.xu,{mr:2,children:(0,i.jsx)(D.G,{icon:k.FU$,fixedWidth:!0})}),(0,i.jsx)(_.cC,{id:"KxTWx3",values:{0:G.length}})]})]}),(0,i.jsxs)(g.n,{children:[(0,i.jsx)(v.x,{p:0,mt:0,children:(0,i.jsx)(eJ,{workspace:R,dateFormatterFn:W.P9,canManageWorkspace:N,workspaceAdminCount:null==P?void 0:null===(O=P.workspace)||void 0===O?void 0:O.adminCount})}),(0,i.jsx)(v.x,{p:0,mt:0,children:(0,i.jsx)(e2,{invitations:G,dateFormatterFn:W.P9,canManageWorkspace:N})})]})]})})]})})]}),(0,i.jsx)(c.i,{mt:6}),(0,i.jsx)(j.m,{children:(0,i.jsxs)(h.K,{w:"100%",direction:"row",align:"center",justifyContent:"space-between",children:[(0,i.jsx)(H,{memberCount:B}),(0,i.jsx)(b.L,{}),(0,i.jsx)(y.h,{children:(0,i.jsx)(C.z,{variant:"solid",onClick:U,children:(0,i.jsx)(_.cC,{id:"DPfwMq"})})})]})})]})]})};var e5=n(82089);let e4=e=>{let{openModal:t}=e,{currentWorkspace:n}=(0,I.SE)(),r=(0,V.p)();(0,E.useEffect)(()=>{let e=(0,ek.SJ)()[I.f2],o=null==n?void 0:n.id;e&&o&&(e===o?t():r({title:(0,i.jsx)(_.cC,{id:"EhVOPs"}),position:"top",id:"workspace-not-found",status:"error",isClosable:!0,duration:3e3}),(0,e5.lO)({query:{...(0,ek.SJ)(),[I.f2]:void 0},emitChange:!1}))},[r,t,n])}},52610:function(e,t,n){"use strict";n.d(t,{My:function(){return a},rK:function(){return u},r_:function(){return l},up:function(){return c}});var i=n(52322),r=n(5879),o=n(87254),s=n(93202);let a=1,l=()=>o.ag._({id:"cyLJM2"}),c=()=>o.ag._({id:"6h5uMS"}),u={[s.r3E.Admin]:{title:(0,i.jsx)(r.cC,{id:"U3pytU"}),description:(0,i.jsx)(r.cC,{id:"U4MLdj"})},[s.r3E.Member]:{title:(0,i.jsx)(r.cC,{id:"OvoEq7"}),description:(0,i.jsx)(r.cC,{id:"nslZjr"})}}},6370:function(e,t,n){"use strict";n.d(t,{ou:function(){return eC},P2:function(){return eR},t9:function(){return ti.t9},kV:function(){return ti.kV},Kz:function(){return eA},y2:function(){return e_},Tx:function(){return eT},ZR:function(){return eS},KI:function(){return eE},Uj:function(){return e8},My:function(){return e$.My},Y7:function(){return eG},RL:function(){return e0},ds:function(){return e5},$W:function(){return tn},bH:function(){return ew},uK:function(){return tt},MB:function(){return e9},VY:function(){return ey},$j:function(){return ej},IF:function(){return tr.IF},Y2:function(){return tr.Y2},DI:function(){return tr.DI},Xd:function(){return tr.Xd},zR:function(){return tr.zR},sI:function(){return tr.sI},Nh:function(){return tr.Nh},r_:function(){return e$.r_},up:function(){return e$.up},Xq:function(){return tr.Xq},sh:function(){return ts},zE:function(){return L}});var i=n(52322),r=n(29117),o=n(76364),s=n(67109),a=n(109),l=n(43297),c=n(77533),u=n(55478),d=n(10625),h=n(28535),p=n(67046),f=n(62614),m=n(99058),x=n(25481),g=n(36474),v=n(27599),j=n(44035),b=n(39237),y=n(38035),C=n(42946),k=n(54933),w=n(49929),D=n(94523),_=n(5879),E=n(87254),S=n(1842),A=n.n(S),T=n(5632),I=n(2784),O=n(14274),M=n(93202),F=n(42111),R=n(62131),N=n(36651),P=n(96933);let L=e=>{var t;let{currentWorkspace:n}=(0,N.SE)(),{data:i}=(0,M.WaV)({variables:{id:null!==(t=null!=e?e:null==n?void 0:n.id)&&void 0!==t?t:""},skip:!e&&!(null==n?void 0:n.id)}),r=e?null==i?void 0:i.workspace:{...n,...null==i?void 0:i.workspace};return r};var z=n(1729),G=n(47443),U=n(74008),B=n(70065),H=n(92850),W=n(26468),V=n(22226),q=n(54326),Z=n(2338),K=n(97217),Y=n(82713),X=n(50250),$=n(75768),J=n(94199);let Q=()=>(0,i.jsxs)(r.U,{px:2,py:2,border:"2px solid var(--chakra-colors-red-500)",borderRadius:"md",children:[(0,i.jsx)(z.i,{w:4,h:4,color:"red.500"}),(0,i.jsx)(c.x,{fontSize:"sm",color:"red.500",children:(0,i.jsx)(_.cC,{id:"Ofm9ns"})})]}),ee=e=>{let{user:t,workspace:n,canDeleteAccount:r}=e;return(0,i.jsxs)(G.b,{status:t||(null==n?void 0:n.memberCount)&&n.memberCount<=1?"error":"warning",display:"flex",flexDirection:"column",alignItems:"normal",mt:2,children:[(0,i.jsxs)(y.k,{pb:3,flexDirection:["column","column","row","row"],align:"flex-start",gap:2,children:[(0,i.jsxs)(y.k,{flex:1,children:[(0,i.jsx)(a.q,{src:null==t?void 0:t.profileImageUrl,size:"sm",name:(null==t?void 0:t.displayName)||(null==n?void 0:n.name)}),(0,i.jsxs)(l.K,{spacing:0,ml:2,flex:"1",children:[(0,i.jsx)(c.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:(null==t?void 0:t.displayName)||(null==n?void 0:n.name)}),t&&(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:t.email}),n&&(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.600",children:(0,i.jsx)(_.cC,{id:"LaQ44M",values:{0:n.memberCount||0}})})]})]}),(0,i.jsx)(y.k,{flexShrink:1,children:(t||n&&(null==n?void 0:n.memberCount)===1)&&(0,i.jsx)(Q,{})})]}),(0,i.jsx)(U.i,{borderColor:"blackAlpha.200"}),(0,i.jsxs)(c.x,{pt:2,fontSize:"sm",color:t||(null==n?void 0:n.memberCount)&&n.memberCount<=1?"red.500":"yellow.700",children:[r&&t&&(0,i.jsxs)(i.Fragment,{children:[""," ",(0,i.jsx)(_.cC,{id:"j95nHI",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})]}),r&&(null==n?void 0:n.memberCount)&&(n.memberCount>1?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(_.cC,{id:"QnF/9z"})]}):(0,i.jsxs)(i.Fragment,{children:[""," ",(0,i.jsx)(_.cC,{id:"PU+L+E",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})]})),!r&&(0,i.jsxs)(i.Fragment,{children:[""," ",(0,i.jsx)(_.cC,{id:"eFx5qm"})]})]})]})},et=e=>{var t,n;let{isOpen:o,onClose:s,user:a}=e,[u,d]=(0,I.useState)(!1),[p,m]=(0,I.useState)(!1),{data:x}=(0,M.NUx)(),g=(0,B.p)(),[v]=(0,M.I1z)(),j=(null==x?void 0:null===(n=x.user)||void 0===n?void 0:null===(t=n.workspaceMemberships)||void 0===t?void 0:t.filter(e=>!1===e.disabled))||[],b=j.filter(e=>{var t,n;return"admin"===e.role&&(null===(t=e.workspace)||void 0===t?void 0:t.adminCount)===1&&(null===(n=e.workspace)||void 0===n?void 0:n.memberCount)&&e.workspace.memberCount>1}),y=j.map(e=>e.workspace),C=0===b.length,k=(0,I.useCallback)(()=>{m(!0),v().then(e=>{let{data:t}=e;t&&(window.location.href="".concat(O.v.API_HOST,"/logout?redirectTo=/user-deleted"))}).catch(()=>{m(!1),g({title:"Delete account failed. Try again or reach out to Gamma support.",status:"error",duration:3e3,position:"top",isClosable:!0})})},[g,v]);return(0,i.jsxs)(H.u_,{isOpen:o,onClose:s,size:"lg",closeOnOverlayClick:!1,children:[(0,i.jsx)(W.Z,{}),(0,i.jsxs)(V.h,{p:2,children:[(0,i.jsx)(q.x,{children:(0,i.jsx)(_.cC,{id:"pj33Dr",values:{GAMMA_PROPER_NOUN:J.N6}})}),(0,i.jsx)(Z.o,{}),(0,i.jsxs)(K.f,{children:[C&&(0,i.jsxs)(l.K,{spacing:3,children:[(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"gICMDu"})}),(0,i.jsxs)(h.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"sG4820"})}),(0,i.jsx)(ee,{user:a,canDeleteAccount:C})]}),y&&y.length>0&&(0,i.jsxs)(h.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"dFEw4P"})}),null==y?void 0:y.map(e=>(0,i.jsx)(ee,{workspace:e,canDeleteAccount:C},null==e?void 0:e.id))]}),(0,i.jsxs)(h.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"R3XcoA"})}),(0,i.jsxs)(r.U,{bg:"gray.100",mt:2,p:3,pl:2,spacing:2,borderRadius:"sm",children:[(0,i.jsx)(Y.X,{size:"lg",spacing:"1rem",p:3,defaultChecked:u,onChange:e=>d(e.target.checked)}),(0,i.jsx)(c.x,{fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"4YT8Pd"})})]})]})]}),!C&&(0,i.jsx)(l.K,{children:(0,i.jsxs)(h.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"nhUDfL"})}),null==y?void 0:y.map(e=>(0,i.jsx)(ee,{workspace:e,canDeleteAccount:C},null==e?void 0:e.id))]})})]}),C&&(0,i.jsx)(X.m,{children:(0,i.jsxs)($.h,{children:[(0,i.jsx)(f.z,{variant:"ghost",colorScheme:"gray",onClick:s,children:(0,i.jsx)(_.cC,{id:"dEgA5A"})}),(0,i.jsx)(f.z,{isDisabled:!u,variant:"ghost",colorScheme:"red",onClick:k,isLoading:p,loadingText:E.ag._({id:"O71YIC"}),children:(0,i.jsx)(_.cC,{id:"dfBVKc"})})]})})]})]})};var en=n(75009),ei=n(81540),er=n(87651),eo=n(99793),es=n(35183),ea=n(97166),el=n(85573),ec=n(89606),eu=n(10649),ed=n(49152),eh=n(43102),ep=n(99787);let ef={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},em=e=>{let{uppy:t,multiple:n=!1,accept:r=ep.pK.join(",")}=e,o=(0,I.useRef)(null),s=(0,I.useMemo)(()=>(0,i.jsx)("input",{ref:o,className:"gamma-uppy-FileInput-input",style:ef,type:"file",name:"gamma-file-input",multiple:n,accept:r,onChange:e=>{let n=e.target;if(!n||!n.files)return;let i=Array.from(n.files);i.forEach(e=>{try{t.addFile({source:"file input",name:e.name,type:e.type,data:e})}catch(e){e.isRestriction?console.warn("[useFileInput] Restriction error:",e):console.error(e)}}),n.value=null}}),[]),a=(0,I.useCallback)(()=>{var e;null===(e=o.current)||void 0===e||e.click()},[]);return(0,I.useEffect)(()=>{let e=o.current;e&&(t.on("file-removed",()=>{e.value=null}),t.on("complete",()=>{e.value=null}),t.on("transloadit:complete",()=>{e.value=null}))},[]),{inputElement:s,onClick:a}};var ex=n(87205);let eg={cropped:"",original:""},ev=e=>{let{isOpen:t,onClose:n,onAccountDeleteModalOpen:o,user:s,orgId:u,refetchUser:g}=e,j=(0,B.p)(),[b,{loading:E,error:S}]=(0,M.kDo)(),{setSettings:A}=(0,N.SE)(),T=(0,ed.l)(),O=(0,I.useMemo)(()=>T,[]),[F,R]=(0,I.useState)(O);(0,eh.m)(F);let[P,L]=(0,I.useState)(s.firstName||""),[z,G]=(0,I.useState)(s.lastName||""),[$,J]=(0,I.useState)(s.profileImageUrl||""),[Q,ee]=(0,I.useState)(eg),[et,ef]=(0,I.useState)("original"),ev=Q.cropped&&"cropped"===et?Q.cropped:Q.original&&"original"===et?Q.original:$,[ej,eb]=(0,I.useState)("idle"),ey=(0,I.useMemo)(()=>ep.ND.createUppyInstance(u,{onUploadStart:e=>{ee(eg),eb("uploading"),ef("original"),(0,ex.Ns)(e.file.type||"")||J(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[AccountSettingsModal] onOriginalFileUpload",e),J(e.src),ee(t=>({...t,original:e.src}))},onUploadComplete:e=>{console.debug("[AccountSettingsModal] onUploadComplete",e),J(t=>t||e.src),ee(()=>({original:e.src,cropped:e.croppedFace||""})),eb("idle"),ey.cancelAll()},onUploadFailed:()=>{eb("error"),ey.cancelAll()}},"profile"),[]),{onClick:eC,inputElement:ek}=em({uppy:ey}),ew=(0,I.useCallback)(()=>{o&&(o(),n())},[o,n]),eD=(0,I.useCallback)(()=>{ey.cancelAll(),eb("idle"),L(s.firstName||""),G(s.lastName||""),J(s.profileImageUrl||""),ef("original"),ee(eg),R(O)},[s,O,ey]),e_=F!==O,eE=P!==s.firstName||z!==s.lastName||$!==s.profileImageUrl,eS=(0,I.useMemo)(()=>eE||e_,[e_,eE]),eA=(0,I.useCallback)(()=>{if(!eS){n();return}let e=[];e_&&A&&eu.p_.includes(F)&&e.push(A({set:{locale:F}})),eE&&e.push(b({variables:{input:{id:s.id,firstName:P,lastName:z,profileImageUrl:$}}})),Promise.all(e).then(()=>{null==g||g(),n(),j({title:(0,i.jsx)(_.cC,{id:"wAvGr+"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[AccountSettingsModal.onSaveClick] Error updating user info "'.concat(null==s?void 0:s.id,'"'),e.message)})},[P,eS,e_,eE,z,F,n,$,g,A,j,b,null==s?void 0:s.id]),eT=P.length<1&&z.length<1||!!(null==S?void 0:S.message)||"error"===ej;return(0,i.jsxs)(H.u_,{isOpen:t,onClose:n,size:"lg",closeOnOverlayClick:!1,children:[ek,(0,i.jsxs)(h.xu,{w:0,h:0,children:[(0,i.jsx)(en.E,{src:Q.original}),(0,i.jsx)(en.E,{src:Q.cropped})]}),(0,i.jsx)(W.Z,{}),(0,i.jsxs)(V.h,{children:[(0,i.jsx)(q.x,{children:(0,i.jsx)(_.cC,{id:"T3FM0r"})}),(0,i.jsx)(Z.o,{}),(0,i.jsx)(U.i,{mb:4}),(0,i.jsxs)(K.f,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,i.jsxs)(l.K,{direction:"column",alignItems:"center",children:[(0,i.jsxs)(d.v,{placement:"bottom-start",offset:[100,0],children:[(0,i.jsx)(D.kH,{label:(0,i.jsx)(_.cC,{id:"etzA4s"}),openDelay:750,placement:"top",children:(0,i.jsx)(p.j,{position:"relative",disabled:"uploading"===ej,userSelect:"none",cursor:"pointer",role:"group",_hover:{opacity:.9},children:(0,i.jsxs)(a.q,{src:ev,name:"".concat(P," ").concat(z).trim(),size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===ej&&(0,i.jsx)(h.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,i.jsx)(ei.$,{size:"xl",thickness:"2px"})}),(0,i.jsx)(h.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,i.jsx)(w.G,{icon:$?C._jT:C.Xcf,width:16,height:16,size:"xs"})})]})})}),(0,i.jsxs)(m.q,{fontSize:"sm",children:[(0,i.jsx)(x.s,{onClick:()=>{"uploading"!==ej&&eC()},children:(0,i.jsxs)(r.U,{children:[(0,i.jsx)(w.G,{icon:k.A$k}),(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"wPTug2"})})]})}),$&&(0,i.jsx)(v.R,{}),$&&(0,i.jsx)(x.s,{onClick:()=>{J(""),ee(eg)},children:(0,i.jsxs)(r.U,{color:"var(--chakra-colors-red-500)",children:[(0,i.jsx)(w.G,{icon:C.Vui,color:"var(--chakra-colors-red-500)"}),(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"k8od7T"})})]})})]})]}),(0,i.jsx)(er.U,{in:!!$&&!!Q.cropped&&$!==s.profileImageUrl&&"idle"===ej,animateOpacity:!0,children:(0,i.jsx)(Y.X,{size:"sm",fontSize:"12px",color:"gray.500",isChecked:"cropped"===et,onChange:e=>{ef(e.target.checked?"cropped":"original"),J(e.target.checked?Q.cropped:Q.original)},mb:3,children:(0,i.jsx)(_.cC,{id:"+J8/VC"})})}),(0,i.jsx)(eo.J1,{children:"error"===ej&&"Error uploading profile image."}),(0,i.jsxs)(l.K,{spacing:0,alignItems:"center",children:[(0,i.jsx)(c.x,{fontSize:"xl",fontWeight:"bold",children:s.displayName}),(0,i.jsx)(c.x,{color:"gray.500",children:s.email})]})]}),(0,i.jsxs)(l.K,{direction:"column",width:"100%",my:6,px:4,spacing:6,children:[(0,i.jsxs)(es.NI,{isInvalid:eT,children:[(0,i.jsx)(ea.l,{children:(0,i.jsx)(_.cC,{id:"V1EGGU"})}),(0,i.jsx)(el.I,{w:"100%",value:P,onChange:e=>L(e.target.value.slice(0,60))})]}),(0,i.jsxs)(es.NI,{isInvalid:eT,children:[(0,i.jsx)(ea.l,{children:(0,i.jsx)(_.cC,{id:"1ZaQUH"})}),(0,i.jsx)(el.I,{w:"100%",value:z,onChange:e=>G(e.target.value.slice(0,60))}),(0,i.jsx)(eo.J1,{children:(null==S?void 0:S.message)?null==S?void 0:S.message:(0,i.jsx)(_.cC,{id:"yQeiGC"})})]}),(0,i.jsxs)(es.NI,{children:[(0,i.jsx)(ea.l,{children:(0,i.jsx)(_.cC,{id:"vXIe7J"})}),(0,i.jsx)(ec.p,{selectedLocale:eu.w$[F],onLocaleSelect:R})]})]})]}),(0,i.jsx)(X.m,{children:(0,i.jsxs)(y.k,{justifyContent:"space-between",flex:1,alignItems:"flex-end",children:[(0,i.jsx)(y.k,{children:(0,i.jsx)(f.z,{variant:"ghost",color:"gray.400",colorScheme:"gray",size:"sm",onClick:ew,children:(0,i.jsx)(_.cC,{id:"ktknoE"})})}),(0,i.jsxs)(y.k,{flexWrap:"wrap",justifyContent:"flex-end",gap:2,children:[eS&&(0,i.jsx)(f.z,{variant:"ghost",colorScheme:"gray",onClick:eD,children:(0,i.jsx)(_.cC,{id:"dEgA5A"})}),(0,i.jsx)(f.z,{variant:eS?"solid":"plain",onClick:eA,isDisabled:eT||"uploading"===ej,isLoading:E,children:eS?(0,i.jsx)(_.cC,{id:"y3aU20"}):(0,i.jsx)(_.cC,{id:"DPfwMq"})})]})]})})]})]})},ej=()=>(0,i.jsxs)(r.U,{w:"100%",px:2,pb:1,children:[(0,i.jsx)(o.s,{size:"32px"}),(0,i.jsx)(s.O,{width:"60%",height:"20px"})]}),eb=e=>{var t;let{workspace:n,memberCount:o,isMultiline:s=!0}=e,u=L(n.id);return u?(0,i.jsxs)(r.U,{mr:4,children:[(0,i.jsx)(a.q,{name:null===(t=u.name)||void 0===t?void 0:t.replace(/\s/g,""),src:u.logoUrl||void 0,size:"sm",bgColor:u.logoUrl?"transparent":"orchid.300",color:"white"}),(0,i.jsxs)(l.K,{textAlign:"left",align:"flex-start",justify:"flex-start",spacing:0,...s?{}:{noOfLines:1},children:[(0,i.jsx)(c.x,{fontSize:"sm",fontWeight:"600",wordBreak:"break-word",m:0,p:0,...s?{}:{overflow:"hidden",textOverflow:"ellipsis"},minWidth:"0px",children:n.name}),(0,i.jsx)(R.Y7,{workspace:n}),!A()(o)&&(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.500",textAlign:"left",children:(0,i.jsx)(_.cC,{id:"F6GBat",values:{memberCount:o}})})]})]}):(0,i.jsx)(i.Fragment,{})},ey=e=>{let{onOpen:t}=e,{user:n,currentWorkspace:o,refetch:s,setCurrentWorkspaceId:S}=(0,N.SE)(),{isConnected:R}=(0,M.$gs)(),{isOpen:L,onOpen:z,onClose:G}=(0,u.q)({id:"user-settings-modal"}),{isOpen:U,onOpen:B,onClose:H}=(0,u.q)({id:"account-delete-modal"}),W=(0,P.i)({md:"400px"}),V=(0,T.useRouter)(),q=(0,F.ye)("workspaceSettings"),Z=(0,I.useCallback)(()=>{q?V.push("/settings"):t()},[q,t,V]);if(!n)return(0,i.jsx)(i.Fragment,{});let K=null==n?void 0:n.organizations;return K&&o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.v,{autoSelect:!1,children:[(0,i.jsx)(D.kH,{label:R?"":"You're offline","aria-label":R?"Workspace options":"You're offline",children:(0,i.jsx)(h.xu,{children:(0,i.jsx)(p.j,{as:f.z,isDisabled:!R,variant:"ghost",rightIcon:R?(0,i.jsx)(w.G,{icon:C.gc2,"aria-label":"Caret icon"}):(0,i.jsx)(w.G,{icon:C.bKP}),w:"100%",colorScheme:"blackAlpha",color:"gray.800",cursor:"pointer",_hover:{color:"trueblue.600"},p:2,pr:4,children:(0,i.jsx)(h.xu,{width:"100%",children:o&&(0,i.jsx)(eb,{workspace:o,memberCount:null,isMultiline:!1})})})})}),(0,i.jsxs)(m.q,{minW:W,zIndex:"overlay",shadow:"lg",maxW:"min(500px, 100vw)",children:[(0,i.jsxs)(x.s,{px:2,cursor:"pointer",onClick:z,children:[(0,i.jsx)(a.q,{src:n.profileImageUrl,size:"sm",name:n.displayName}),(0,i.jsxs)(l.K,{spacing:0,ml:2,children:[(0,i.jsx)(c.x,{fontSize:"sm",children:n.displayName}),(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.500",children:n.email})]}),(0,i.jsx)(g.L,{}),(0,i.jsx)(w.G,{size:"sm",icon:k.gr5,color:"var(--chakra-colors-gray-500)"})]}),(0,i.jsx)(v.R,{}),K&&K.length>0&&(0,i.jsx)(j._,{title:E.ag._({id:"pmt7u4"}),type:"radio",defaultValue:null==o?void 0:o.id,onChange:e=>{S(e)},children:K.filter(e=>!A()(e)&&!A()(e.id)&&!A()(e.name)).map(e=>(0,i.jsx)(b.i,{value:e.id,icon:1===K.length?null:void 0,isFocusable:1!==K.length,children:(0,i.jsxs)(r.U,{children:[(0,i.jsx)(y.k,{flex:1,w:"100%",children:(0,i.jsx)(eb,{workspace:e,memberCount:null,isMultiline:!0})}),e.id===(null==o?void 0:o.id)&&(0,i.jsx)(y.k,{children:(0,i.jsx)(f.z,{size:"sm",variant:"outline",onClick:Z,children:(0,i.jsx)(_.cC,{id:"0dbeO4"})})})]})},e.id))}),(0,i.jsx)(v.R,{}),(0,i.jsx)(x.s,{color:"red.500",icon:(0,i.jsx)(w.G,{icon:C.jLD,fixedWidth:!0}),onClick:()=>{window.location.href="".concat(O.v.API_HOST,"/logout")},children:(0,i.jsx)(_.cC,{id:"fcWrnU"})})]})]}),L&&(0,i.jsx)(ev,{orgId:o.id,user:n,refetchUser:s,isOpen:L,onClose:G,onAccountDeleteModalOpen:B}),U&&(0,i.jsx)(et,{user:n,isOpen:U,onClose:H})]}):(0,i.jsx)(i.Fragment,{})},eC=e=>{let{workspace:t,canManageWorkspace:n,isPaid:r}=e,o={"invite-by-email":{displayName:()=>E.ag._({id:"owUDwc"}),icon:C.IBq,component:(0,i.jsx)(e0,{workspace:t,canManageWorkspace:n,isPaid:r})},"invite-by-link":{displayName:()=>E.ag._({id:"woAAa8"}),icon:C.nNP,component:(0,i.jsx)(e5,{workspace:t,canManageWorkspace:n,isPaid:r})}},[s,a]=(0,I.useState)(Object.keys(o)[0]);return(0,i.jsxs)(h.xu,{w:"100%",children:[(0,i.jsx)(eT,{tabs:o,activeTabKey:s,setActiveTabKey:a,onClick:()=>{}}),(0,i.jsx)(h.xu,{pt:4,children:s&&o[s].component})]})};var ek=n(46640);let ew=e=>{let{workspace:t,canManageWorkspace:n}=e,r={"active-members":{displayName:()=>E.ag._({id:"b2hjP+",values:{0:t.memberCount&&"(".concat(t.memberCount,")")}}),icon:k.iOm,component:(0,i.jsx)(ti.t9,{workspace:t,dateFormatterFn:ek.P9,canManageWorkspace:n,workspaceAdminCount:t.adminCount})},invitations:{displayName:()=>E.ag._({id:"/BTjxe",values:{0:t.invitations&&"(".concat(t.invitations.length,")")}}),icon:C.FU$,component:(0,i.jsx)(ti.kV,{invitations:t.invitations,dateFormatterFn:ek.P9,canManageWorkspace:n})}},[o,s]=(0,I.useState)(Object.keys(r)[0]);return(0,i.jsxs)(h.xu,{w:"100%",children:[t&&(0,i.jsx)(eT,{tabs:r,activeTabKey:o,setActiveTabKey:s,onClick:()=>{}}),o&&r[o].component]})};var eD=n(74409);let e_=e=>{let{children:t,...n}=e;return(0,i.jsx)(eD.X,{fontFamily:"p22-mackinac-pro",fontWeight:"700",mb:"-4",...n,children:t})},eE=e=>{let{children:t}=e;return(0,i.jsx)(eD.X,{fontSize:"lg",fontWeight:"600",color:"gray.800",mt:"2",mb:"2",children:(0,i.jsx)(c.x,{children:t})})},eS=e=>{let{title:t,description:n,children:r,...o}=e;return(0,i.jsxs)(y.k,{direction:{base:"column",lg:"row"},w:"100%",gap:{base:10,lg:24},...o,children:[(0,i.jsxs)(y.k,{direction:"column",justifyContent:"flex-start",flex:"1",children:[(0,i.jsx)(eE,{children:t}),(0,i.jsx)(c.x,{fontSize:"sm",color:"gray.600",children:n})]}),(0,i.jsx)(y.k,{flex:"1",justifyContent:{base:"flex-start",lg:"flex-end"},children:r})]})},eA=e=>{let{children:t}=e;return(0,i.jsx)(l.K,{display:"flex",gap:"8",w:"100%",children:t})},eT=e=>{var t;let{tabs:n,activeTabKey:o,setActiveTabKey:s,onClick:a}=e;return n&&o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.xu,{display:{base:"none",lg:"block"},children:(0,i.jsx)(r.U,{spacing:"2",children:Object.entries(n).map(e=>{let[t,n]=e;return(0,i.jsx)(f.z,{variant:"ghost",onClick:()=>{a(t),s(t)},isActive:o===t,fontWeight:"600",color:o===t?"trueblue.500":"gray.600",bg:o===t?"trueblue.50":"transparent",children:(0,i.jsxs)(y.k,{alignItems:"center",gap:"2",children:[(0,i.jsx)(w.G,{icon:n.icon,fixedWidth:!0}),n.displayName()]})},t)})})}),(0,i.jsx)(h.xu,{display:{base:"block",lg:"none"},children:(0,i.jsxs)(d.v,{children:[(0,i.jsx)(p.j,{as:f.z,variant:"ghost",rightIcon:(0,i.jsx)(w.G,{icon:C.ptq,fixedWidth:!0}),leftIcon:o?(0,i.jsx)(w.G,{icon:n[o].icon,fixedWidth:!0}):void 0,children:null===(t=n[o])||void 0===t?void 0:t.displayName()}),(0,i.jsx)(m.q,{children:(0,i.jsx)(j._,{type:"radio",defaultValue:o,children:Object.entries(n).map(e=>{let[t,n]=e;return(0,i.jsxs)(b.i,{onClick:()=>{a(t),s(t)},value:t,icon:(0,i.jsx)(w.G,{icon:C.LEp,fixedWidth:!0}),children:[(0,i.jsx)(w.G,{icon:n.icon,fixedWidth:!0})," ",n.displayName()]},t)})})})]})})]}):null};var eI=n(29705),eO=n(11082),eM=n(48832),eF=n(81640);let eR=()=>{var e;let{currentWorkspace:t,user:n}=(0,N.SE)(),{subscription:r,product:o,refetchSubscription:s}=(0,eF.z)(),a=(0,tr.IF)(r,n),{isCanceling:l,handleCancel:c,cancelFlowEnabled:u}=ts(r,t,s),d=(0,tr.Xq)(r),p=(0,tr.DI)(r),m=(0,tr.Y2)(r),x=(0,tr.zR)(r,n),g=null==r?void 0:null===(e=r.products)||void 0===e?void 0:e[0];return g&&o?(0,i.jsx)(y.k,{alignItems:"center",direction:"column",w:"100%",gap:"4",children:(0,i.jsxs)(h.xu,{w:"100%",display:"flex",flexDirection:"column",gap:"4",children:[(0,i.jsx)(D.kH,{placement:"top",shouldWrapChildren:!0,label:a?p?(0,i.jsx)(_.cC,{id:"uxwzHm",values:{0:(0,eM.p6)(r.expirationTime,"PPP")}}):d?(0,i.jsx)(_.cC,{id:"SoEbnk",values:{0:(0,eM.p6)(r.expirationTime,"PPP")}}):(0,i.jsx)(_.cC,{id:"HrQ7yf"}):(0,i.jsx)(_.cC,{id:"H49TQ5",values:{creatorNameAndEmail:m}}),children:(0,i.jsx)(f.z,{target:"_blank",href:a&&x?x:void 0,as:eO.r,size:"md",w:"100%",textShadow:"none",rightIcon:(0,i.jsx)(eI.h,{ml:-1}),isDisabled:!a,_hover:{textDecoration:"none"},children:d||p?(0,i.jsx)(_.cC,{id:"aAFalq"}):(0,i.jsx)(_.cC,{id:"IGCJs2"})})}),u&&!d&&(0,i.jsx)(D.kH,{placement:"top",shouldWrapChildren:!0,label:a?(0,i.jsx)(_.cC,{id:"o/WrRZ"}):(0,i.jsx)(_.cC,{id:"cg8FOs",values:{creatorNameAndEmail:m}}),children:(0,i.jsx)(f.z,{colorScheme:"gray",color:"gray.600",variant:"link",size:"sm",w:"100%",mt:"2",onClick:a?c:void 0,isLoading:l,isDisabled:!a||l,children:(0,i.jsx)(_.cC,{id:"fHXMPy"})})})]})}):null};var eN=n(40934),eP=n(1163),eL=n(11050),ez={src:"/_next/static/media/stars.9fe7baf4.svg"};let eG=()=>{let e=L(),t=(0,N.d3)(),{openUpsellModal:n}=(0,eF.z)(),{selectedProductPrices:r}=(0,eN.y)({workspaceId:null==e?void 0:e.id,canManageWorkspace:t,selectedBillingCycleKey:"monthly"}),o=(0,eP.Hk)(null==r?void 0:r.plus);return(0,i.jsxs)(y.k,{direction:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},justifyContent:{base:"flex-start",lg:"space-between"},bg:"linear-gradient(120deg, #3300D9 0%, #9D20C9 56.82%, #DF7A6C 150%), url(".concat(ez.src,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",color:"white",w:"100%",py:"8",px:"6",gap:{base:"6",lg:"2"},rounded:"md",children:[(0,i.jsxs)(y.k,{direction:"column",w:{base:"100%",lg:"75%"},children:[(0,i.jsx)(e_,{fontSize:"2xl",children:(0,i.jsx)(_.cC,{id:"qAWquf"})}),(0,i.jsx)(c.x,{mt:"4",fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"xIOigZ",values:{GAMMA_PROPER_NOUN:J.N6}})})]}),(0,i.jsxs)(y.k,{direction:"column",alignItems:"center",justifyContent:"center",w:{base:"100%",lg:"25%"},gap:"2",children:[(0,i.jsx)(f.z,{w:"100%",cursor:"pointer",onClick:()=>{n({onOpenCallback:()=>{},onCloseCallback:()=>{},segmentEvent:eL.AA.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS})},children:(0,i.jsx)(_.cC,{id:"kwkhPe"})}),o&&(0,i.jsx)(c.x,{textAlign:"center",fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"OXf+Hd",values:{formattedPrice:o}})})]})]})};var eU=n(46949),eB=n(74105),eH=n(20816),eW=n(46028),eV=n(7985),eq=n(38045),eZ=n(84636),eK=n.n(eZ),eY=n(4758),eX=n(68322),e$=n(52610),eJ=n(80498);let eQ=(0,eq.E)(h.xu),e0=e=>{let{workspace:t,canManageWorkspace:n,isPaid:r}=e,o=(0,B.p)(),s=(0,I.useRef)(),a=(0,I.useRef)(null),[u,d]=(0,I.useState)([]),[p,m]=(0,I.useState)(new eJ.B),[x,g]=(0,I.useState)(""),[v,{loading:j}]=(0,M.f4M)(),{isConfirmAddPaidMemberModalOpen:b,isConfirmAddPaidMemberModalChecked:C,onConfirmAddPaidMemberClick:k,onConfirmAddPaidMemberClose:w,showConfirmPaidUserModal:S,onConfirmAddPaidMemberClickCheckbox:A}=(0,eX.W)(),T=(0,I.useMemo)(()=>u.concat({email:x.trim()}).filter(e=>!("email"in e)||(0,eV.G)(e.email||"")),[x,u]),O=!!(x.length||u.length),F=!!T.length,R=j||!n,N=(0,I.useCallback)(async()=>{if(0!==T.length)return v({variables:{workspaceId:t.id,invitees:T},refetchQueries:["GetWorkspace"]}).then(()=>{let e=(0,i.jsx)(_.cC,{id:"Ka86rB",values:{0:T.length}});o({title:e,description:(0,i.jsx)(c.x,{children:T.map(e=>(0,i.jsx)(c.x,{children:e.email},e.email))}),status:"success",position:"top",isClosable:!0,duration:9e3})})},[T,v,t.id,o]),P=(0,I.useCallback)(async()=>S().then(N).then(()=>{var e;d([]),g(""),null===(e=s.current)||void 0===e||e.resetItems(!0),p.resolve(),m(new eJ.B)}).catch(e=>{console.warn(e)}),[S,N,p]),L=(0,I.useCallback)(e=>{d(t=>t.filter(t=>t.email!==e))},[]),z=(0,I.useCallback)(e=>{d(t=>eK()([...t,...e],"email"))},[]),G=(0,e$.up)(),U=(0,e$.r_)();return(0,i.jsxs)(h.xu,{w:"100%",color:"gray.600",fontSize:"sm",children:[(0,i.jsxs)(l.K,{pb:"4",children:[(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"CJWQom"})}),r&&(0,i.jsx)(c.x,{children:(0,i.jsx)("strong",{children:(0,i.jsx)(_.cC,{id:"zHGbOA"})})})]}),(0,i.jsxs)(y.k,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,i.jsx)(eB.B,{w:"100%",justifyContent:"center",flex:1,children:(0,i.jsxs)(eW.Qc,{ref:s,values:u,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,t)=>!u.find(e=>e.email===t),onSelectOption:e=>{let{item:t}=e;z([{email:t.value}]),g("")},onTagRemoved:e=>{d(t=>[...t].filter(t=>t.email!==e))},children:[(0,i.jsxs)(eH.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,i.jsx)(y.k,{flex:1}),(0,i.jsx)(y.k,{h:10,py:4,alignItems:"center",children:(0,i.jsx)(eU.W,{w:10})})]}),(0,i.jsx)(D.kH,{placement:"top-start",label:(0,i.jsx)(_.cC,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:G,WORKSPACE_ADMIN_DISPLAY_NAME:U}}),isDisabled:n,children:(0,i.jsx)(h.xu,{children:(0,i.jsx)(eW.Vp,{ref:a,"data-testid":"autocomplete-collaborators-input",cursor:R?"not-allowed":void 0,disabled:R,w:"100%",pl:5,bg:"white",wrapStyles:{px:2},fontSize:"md",placeholder:E.ag._({id:"mIuglr"}),transition:"width 1s ease-in-out",value:x,onKeyDown:e=>{let{key:t}=e;if("Enter"===t&&0===x.length){e.preventDefault();return}if("Backspace"===t&&0===x.length&&u.length>0){let e=u.slice(-1).pop();if(e){var n;null===(n=s.current)||void 0===n||n.removeItem(e.email)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let t=e.clipboardData.getData("Text"),n=t.trim().split(/[,|;\s]+/);z([...n.map(e=>({email:e}))]),g("")},onChange:e=>{let{target:t}=e,{value:n}=t;g(n)},children:u.map((e,t)=>(0,i.jsx)(eY.L,{idx:t,selectedCollaborator:e,handleRemoveClick:()=>{L(e.email)}},e.email))})})})]})}),(0,i.jsx)(eQ,{overflowX:"hidden",transition:"slow",animate:{maxWidth:O?"240px":"0px"},children:(0,i.jsx)(h.xu,{ml:2,children:(0,i.jsx)(f.z,{variant:"solid",onClick:P,isDisabled:!F,isLoading:!1,"data-testid":"add-selected-items",children:(0,i.jsx)(_.cC,{id:"MFKlMB"})})})})]}),(0,i.jsx)(eX.c,{isOpen:b,newMemberCount:T.length,isChecked:C,onConfirmClick:k,onClose:w,onCancelClick:w,onCheckboxConfirm:A})]})};var e1=n(78462),e2=n(26284);let e3=e=>{let{url:t,placeholder:n,isDisabled:r=!1,onClick:o,...s}=e,[a,l]=(0,I.useState)(!1),[c,u]=(0,I.useState)(""),{hasCopied:d,onCopy:p}=(0,e2.V)(t),m=(0,I.useRef)(null),x=(0,B.p)(),g="link-copied-toast";(0,I.useEffect)(()=>{m.current&&a&&(m.current.focus(),m.current.select())},[a]);let v=(0,I.useCallback)(()=>l(!0),[]),j=(0,I.useCallback)(()=>l(!1),[]),b=(0,I.useCallback)(()=>{p(),x.isActive(g)||x({id:g,title:(0,i.jsx)(_.cC,{id:"pQjjYo"}),status:"success",duration:5e3,isClosable:!0}),null==o||o()},[o,p,x]),y=(0,e$.up)(),C=(0,e$.r_)();return(0,I.useEffect)(()=>{r?u("Only ".concat(y," can view this link")):u(t)},[t,y,r]),(0,i.jsx)(D.kH,{label:(0,i.jsx)(_.cC,{id:"XJhzX8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:y,WORKSPACE_ADMIN_DISPLAY_NAME:C}}),placement:"top-start",isDisabled:!r,children:(0,i.jsx)(h.xu,{w:"100%",children:(0,i.jsxs)(eB.B,{size:"sm",children:[(0,i.jsx)(el.I,{ref:m,w:"100%",h:"3rem",type:"text",value:c,isDisabled:r,placeholder:n||void 0,onClick:v,onBlur:j,pointerEvents:r?"none":void 0,transition:"ease-in-out 0.2s",bg:"white",fontSize:"md",disabled:r,cursor:r?"not-allowed":void 0,wrapStyles:{px:2},...s}),(0,i.jsx)(eH.x,{zIndex:1,w:"unset",display:r?"none":"flex",children:(0,i.jsx)(f.z,{isDisabled:r,onClick:b,height:"2rem",fontSize:"sm",px:3,mt:"1rem",mr:"0.5rem",shadow:"sm",children:d?(0,i.jsx)(_.cC,{id:"6V3Ea3"}):(0,i.jsx)(_.cC,{id:"y1eoq1"})})})]})})})},e5=e=>{let{workspace:t,canManageWorkspace:n,isPaid:r}=e,[o,s]=(0,I.useState)(null);return(0,I.useEffect)(()=>{t&&s((0,e1.Dg)(t))},[o,t]),(0,i.jsxs)(y.k,{direction:"column",color:"gray.600",fontSize:"sm",children:[(0,i.jsxs)(l.K,{pb:"4",children:[(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"ig2Isf",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})}),r&&(0,i.jsx)(c.x,{children:(0,i.jsx)("strong",{children:(0,i.jsx)(_.cC,{id:"ROlVXx"})})})]}),t&&(0,i.jsxs)(y.k,{direction:"column",children:[(0,i.jsx)(y.k,{children:o&&(0,i.jsx)(e3,{url:o,isDisabled:!n})}),n&&(0,i.jsx)(_.cC,{id:"X4Z7y1"})]})]})},e4={bg:"trueblue.50",borderColor:"trueblue.200",color:"trueblue.500"},e6={bg:"linear-gradient(120deg, #3300D9 0%, #9D20C9 56.82%, #DF7A6C 150%), url(".concat(ez.src,")"),borderColor:"trueblue.200",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",color:"white"},e8=e=>{let{plan:t="plus",subscriptionDate:n}=e,r="pro"===t?e6:e4,o="pro"===t?(0,i.jsx)(_.cC,{id:"3fPjUY"}):(0,i.jsx)(_.cC,{id:"R0Ldvn"});return(0,i.jsx)(y.k,{w:"100%",justifyContent:"center",children:(0,i.jsxs)(y.k,{w:"100%",direction:"column",alignItems:"center",justifyContent:"center",rounded:"md",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.05)",borderWidth:"1px",p:"4",py:"8",gap:"2",...r,children:[(0,i.jsx)(e_,{fontSize:"4xl",children:o}),(0,i.jsx)(c.x,{fontSize:"sm",children:(0,i.jsx)(_.cC,{id:"8LFaN4",values:{0:(0,eM.p6)(n,"PPP")},components:{0:(0,i.jsx)("strong",{})}})})]})})};var e7=n(91283);let e9=e=>{let{workspaceId:t,selected:n,fieldName:r,options:o}=e,s=(0,N.d3)(),[a]=(0,M.Mqp)(),l=(0,B.p)(),c=e=>()=>{let t="updated"===e?E.ag._({id:"Xpw8aE"}):E.ag._({id:"jwO7L7"});l({title:t,status:"success",duration:5e3,isClosable:!0,position:"top"})};return(0,i.jsx)(e7.t9,{selected:n,options:o,isDisabled:!s,onClick:e=>{let n=e===e7.XG.NoAccess?null:e,i={id:t,[r]:n};a({variables:{input:i},optimisticResponse:{updateWorkspace:{id:i.id,[r]:n}}}).then(c("updated")).catch(()=>{console.warn("Error updating permission")})}})};var te=n(37733);let tt=e=>{let{workspace:t,canManageWorkspace:n}=e,r=(0,B.p)(),[o,s]=(0,I.useState)((null==t?void 0:t.name)||""),[a,c]=(0,I.useState)(!1),[u,{loading:d,called:p,error:m,reset:x}]=(0,M.Mqp)(),{refetch:g}=(0,N.SE)(),v=(0,I.useCallback)(()=>{c(!1),s((null==t?void 0:t.name)||"")},[null==t?void 0:t.name]),j=(0,I.useCallback)(()=>{u({variables:{input:{name:o,id:null==t?void 0:t.id}},fetchPolicy:"no-cache"}).then(()=>{r({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3,isClosable:!0}),c(!1),x(),g&&g()}).catch(e=>{console.error('[WorkspaceNameField] Error updating workspace "'.concat(null==t?void 0:t.id,'"'),e.message)})},[u,o,null==t?void 0:t.id,r,x,g]),b=""===o||o.length<e$.My||o.length>50||!!(null==m?void 0:m.message);(0,I.useEffect)(()=>{o!==t.name&&c(!0)},[o,t.name]);let C=(0,e$.up)();return t?(0,i.jsxs)(es.NI,{isInvalid:b,children:[(0,i.jsxs)(l.K,{w:"100%",direction:["column","row"],children:[(0,i.jsx)(D.kH,{placement:"top-start",label:(0,i.jsx)(_.cC,{id:"/NhHy7",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:C}}),isDisabled:n,children:(0,i.jsx)(h.xu,{w:"100%",children:(0,i.jsx)(el.I,{w:"100%",placeholder:E.ag._({id:"CozWO1"}),value:o,disabled:!n,onChange:e=>s(e.target.value.slice(0,50)),bg:"white"})})}),n&&a&&(0,i.jsx)(te.R,{in:a,unmountOnExit:!0,children:(0,i.jsxs)(y.k,{children:[(0,i.jsx)(f.z,{variant:"solid",isLoading:d,isDisabled:!n||b||p,onClick:j,children:(0,i.jsx)(_.cC,{id:"tfDRzk"})}),(0,i.jsx)(f.z,{onClick:v,variant:"ghost",colorScheme:"gray",children:(0,i.jsx)(_.cC,{id:"dEgA5A"})})]})})]}),(0,i.jsx)(eo.J1,{children:(null==m?void 0:m.message)?null==m?void 0:m.message:(0,i.jsx)(_.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:e$.My}})})]}):null},tn=e=>{let{workspace:t,canManageWorkspace:n}=e,[o,s]=(0,M.Mqp)(),{loading:u,error:j}=s,b=(0,B.p)(),{refetch:E}=(0,N.SE)(),[S,A]=(0,I.useState)((null==t?void 0:t.logoUrl)||""),[T,O]=(0,I.useState)(""),[F,R]=(0,I.useState)("idle"),P=T||S,L=(0,I.useMemo)(()=>ep.ND.createUppyInstance(t.id,{onUploadStart:e=>{O(""),R("uploading"),(0,ex.Ns)(e.file.type||"")||A(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[WorkspaceLogoField] onOriginalFileUpload",e),A(e.src),O(t=>t||e.src)},onUploadComplete:e=>{console.debug("[WorkspaceLogoField] onUploadComplete",e),A(t=>t||e.src),O(e.src),R("idle"),L.cancelAll()},onUploadFailed:()=>{R("error"),L.cancelAll()}},"workspaceLogo"),[t.id]),{onClick:z,inputElement:G}=em({uppy:L}),U=(0,I.useCallback)(()=>{L.cancelAll(),R("idle"),A(t.logoUrl||""),O("")},[L,t.logoUrl]),H=(0,I.useMemo)(()=>S!==t.logoUrl&&S,[t.logoUrl,S]),W=(0,I.useCallback)(()=>{H&&o({variables:{input:{id:t.id,logoUrl:S}}}).then(()=>{b({title:(0,i.jsx)(_.cC,{id:"Rk6T6B"}),position:"top",status:"success",isClosable:!0,duration:3e3}),setTimeout(()=>{E&&E()},0)}).catch(e=>{console.error('[WorkspaceLogoField.onSaveClick] Error updating workspace info "'.concat(t.id,'"'),e.message)})},[H,o,t,S,b,E]),V=(0,I.useCallback)(()=>{A(""),O(""),o({variables:{input:{id:t.id,logoUrl:""}}}).then(()=>{b({title:(0,i.jsx)(_.cC,{id:"vfEt3o"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[WorkspaceLogoField.onRemoveClick] Error removing workspace logo "'.concat(t.id,'"'),e.message)})},[o,t,b]),q=!!(null==j?void 0:j.message)||"error"===F,Z=(0,e$.up)();return(0,I.useEffect)(()=>{t&&A(t.logoUrl||"")},[t,t.name]),(0,i.jsxs)(y.k,{display:"flex",flexDirection:"row",justifyContent:"flex-start",w:"100%",gap:4,children:[G,(0,i.jsx)(h.xu,{w:0,h:0,children:(0,i.jsx)(en.E,{src:T})}),(0,i.jsx)(y.k,{display:"flex",flexDirection:"row",alignItems:"start",children:(0,i.jsx)(l.K,{children:(0,i.jsxs)(d.v,{placement:"bottom-start",offset:[100,0],children:[(0,i.jsx)(D.kH,{label:n?(0,i.jsx)(_.cC,{id:"U8dGAE"}):(0,i.jsx)(_.cC,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:Z}}),placement:"top",children:(0,i.jsx)(h.xu,{children:(0,i.jsx)(p.j,{position:"relative",disabled:!n||"uploading"===F,userSelect:"none",cursor:"pointer",_disabled:{cursor:"not-allowed"},role:"group",_hover:{opacity:.9},children:(0,i.jsxs)(a.q,{src:P,bg:P?"transparent":"orchid.300",name:t.name,size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===F&&(0,i.jsx)(h.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,i.jsx)(ei.$,{size:"xl",thickness:"2px"})}),(0,i.jsx)(h.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,i.jsx)(w.G,{icon:S?C._jT:C.Xcf,width:16,height:16,size:"xs"})})]})})})}),(0,i.jsxs)(m.q,{fontSize:"sm",children:[(0,i.jsx)(x.s,{onClick:()=>{"uploading"!==F&&z()},children:(0,i.jsxs)(r.U,{children:[(0,i.jsx)(w.G,{icon:k.A$k}),(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"wPTug2"})})]})}),S&&(0,i.jsx)(v.R,{}),S&&(0,i.jsx)(x.s,{onClick:V,children:(0,i.jsxs)(r.U,{color:"var(--chakra-colors-red-500)",children:[(0,i.jsx)(w.G,{icon:C.XAH,color:"var(--chakra-colors-red-500)"}),(0,i.jsx)(c.x,{children:(0,i.jsx)(_.cC,{id:"O90CN2"})})]})})]})]})})}),(0,i.jsx)(g.L,{}),(0,i.jsx)(y.k,{children:(0,i.jsx)(y.k,{justifyContent:"space-between",alignItems:"center",children:(0,i.jsx)(y.k,{direction:"row",justifyContent:"space-between",gap:2,children:(0,i.jsxs)(te.R,{in:!!H,unmountOnExit:!0,children:[(0,i.jsx)(f.z,{variant:H?"solid":"plain",onClick:W,isDisabled:q||"uploading"===F,isLoading:u,children:(0,i.jsx)(_.cC,{id:"tfDRzk"})}),(0,i.jsx)(f.z,{variant:"ghost",colorScheme:"gray",onClick:U,children:(0,i.jsx)(_.cC,{id:"dEgA5A"})})]})})})})]})};var ti=n(55089),tr=n(28356),to=n(6912);let ts=(e,t,n)=>{let[i,r]=(0,I.useState)(!1),{launchCancelFlow:o,cancelFlowEnabled:s}=(0,to.B_)(e,t),a=(0,I.useCallback)(async()=>{if(o&&n){eL.co.track(eL.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"cancel-flow"}),r(!0);try{var e;let t=await o();(null==t?void 0:null===(e=t.sessionResults)||void 0===e?void 0:e.canceled)===!0&&await n()}catch(e){console.warn("Failed to cancel subscription",e)}r(!1)}},[o,n]);return{isCanceling:i,handleCancel:a,cancelFlowEnabled:s}}},28356:function(e,t,n){"use strict";n.d(t,{Cq:function(){return r},DI:function(){return d},IF:function(){return o},Nh:function(){return c},Xd:function(){return u},Xq:function(){return l},Y2:function(){return h},sI:function(){return a},zR:function(){return s}});var i=n(11942);let r=(e,t)=>"".concat(null!=e?e:""," ").concat(t?"(".concat(t,")"):""),o=(e,t)=>{var n;return(null==e?void 0:null===(n=e.createdByUser)||void 0===n?void 0:n.id)===(null==t?void 0:t.id)},s=(e,t)=>e&&t&&o(e,t)?(0,i._8)():null,a=e=>(null==e?void 0:e.nextBillingTime)||"",l=e=>!!(null==e?void 0:e.cancellationRequestedTime),c=e=>(null==e?void 0:e.createdTime)||"",u=e=>{var t;return!!(null==e?void 0:null===(t=e.products)||void 0===t?void 0:t.length)},d=e=>!!(null==e?void 0:e.expirationTime)&&new Date>new Date(null==e?void 0:e.expirationTime),h=e=>{if(!(null==e?void 0:e.createdByUser))return"";let{displayName:t,email:n}=e.createdByUser;return"".concat(t," (").concat(n,")")}},75692:function(e,t,n){"use strict";n.d(t,{nP:function(){return S},tE:function(){return w},vP:function(){return k}});var i=n(52322),r=n(77533),o=n(332),s=n(28535),a=n(74409),l=n(69251),c=n(30523),u=n(19783),d=n(32899),h=n(54933),p=n(49929),f=n(5879),m=n(87254),x=n(87202),g=n(2784),v=n(17292),j=n(87827),b=n(91994),y=n(58184);let C=(0,x.ZP)("mod+Escape"),k=new Set(["h","j","k","l","s","PageUp","PageDown","ArrowRight","ArrowLeft","ArrowDown","ArrowUp","Enter","Escape"]),w=e=>{let{enabled:t,setActiveKey:n}=e,i=(0,b.CG)(j.C),{handlePresentNavigationEvent:r,spotlightingByBlock:o}=(0,y._)();return(0,g.useEffect)(function(){if(t)return v.F7.on("keydown","NAVIGATION_CONTROLS",e=>{var t,o;let s=e.target;if((null==s?void 0:null===(t=s.closest)||void 0===t?void 0:t.call(s,"[data-gamma-child-tiptap-editor]"))||(null==s?void 0:null===(o=s.closest)||void 0===o?void 0:o.call(s,"input"))||e.metaKey||i)return!1;let a=e.key;switch(k.has(a)&&("s"!==a&&(n(e.key),setTimeout(()=>{n(null)},100)),e.preventDefault()),a){case"s":return r({eventType:"toggleSpotlight",eventKey:a});case"l":case"ArrowRight":return r({eventType:"arrowRight",eventKey:a});case"h":case"ArrowLeft":return r({eventType:"arrowLeft",eventKey:a});case"j":case"ArrowDown":case"PageDown":return r({eventType:"arrowDown",eventKey:a});case"k":case"ArrowUp":case"PageUp":return r({eventType:"arrowUp",eventKey:a});case"r":return r({eventType:"restart",eventKey:a});case"Escape":if(C(e))return!1;return r({eventType:"cancelCurrentAction",eventKey:a});case"Enter":return r({eventType:"toggleExpanded",eventKey:a});default:return!1}})},[t,r,i,n]),o},D=e=>{let t=new KeyboardEvent("keydown",{key:e});n.g.dispatchEvent(t)},_={ArrowUp:{icon:h.FPD,label:(0,i.jsx)(f.cC,{id:"VbggDE"}),ariaLabel:()=>m.ag._({id:"VbggDE"}),shortcuts:["","K"],key:"ArrowUp",onClick:()=>{D("ArrowUp")},gridPos:[1,2]},ArrowLeft:{icon:h.acZ,label:(0,i.jsx)(f.cC,{id:"4jciC3"}),ariaLabel:()=>m.ag._({id:"4jciC3"}),shortcuts:["","H"],key:"ArrowLeft",onClick:()=>{D("ArrowLeft")},gridPos:[2,1]},ArrowDown:{icon:h.r5q,label:(0,i.jsx)(f.cC,{id:"e3GOIZ"}),ariaLabel:()=>m.ag._({id:"e3GOIZ"}),shortcuts:["","J"],key:"ArrowDown",onClick:()=>{D("ArrowDown")},gridPos:[2,2]},ArrowRight:{icon:h.eFW,label:(0,i.jsx)(f.cC,{id:"ZjQRVw"}),ariaLabel:()=>m.ag._({id:"ZjQRVw"}),shortcuts:["","L"],key:"ArrowRight",onClick:()=>{D("ArrowRight")},gridPos:[2,3]},Spotlight:{icon:h.GTX,label:(0,i.jsx)(f.cC,{id:"Xon9jp"}),ariaLabel:()=>m.ag._({id:"Xon9jp"}),shortcuts:["S"],key:"S",onClick:()=>{D("s")},gridPos:[1,3]}},E=e=>{let{shortcuts:t}=e;return(0,i.jsx)(r.x,{as:"span",color:"gray.400",ml:2,children:t.map((e,n)=>(0,i.jsxs)(g.Fragment,{children:[e,n===t.length-1?null:(0,i.jsx)(r.x,{fontSize:"11px",as:"span",color:"gray.500",mx:1,children:"or"})]},e))})},S=e=>{let{activeKey:t,spotlightingByBlock:n}=e;return(0,i.jsx)(o.h,{children:(0,i.jsxs)(s.xu,{position:"absolute",bottom:4,right:6,zIndex:"sticky",children:[(0,i.jsx)(a.X,{children:(0,i.jsx)(f.cC,{id:"wja8aL"})}),(0,i.jsx)(l.r,{gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(2, 1fr)",children:Object.values(_).map(e=>{let{gridPos:o,icon:s,label:a,ariaLabel:l,shortcuts:h,key:f,onClick:m}=e,x=t===f;return(0,i.jsx)(c.P,{gridColumn:o[1],gridRow:o[0],children:(0,i.jsx)(u.u,{hasArrow:!0,placement:"top",label:(0,i.jsxs)(r.x,{whiteSpace:"nowrap",children:[a,(0,i.jsx)(E,{shortcuts:h})]}),children:(0,i.jsx)(d.h,{m:1,shadow:"base",size:"md",variant:"S"==f&&n?"solid":"plain",isActive:x||"S"===f&&n,onClick:m,onMouseDown:e=>e.preventDefault(),"aria-label":l(),icon:(0,i.jsx)(p.G,{icon:s})})})},f)})})]})})}},58184:function(e,t,n){"use strict";n.d(t,{_:function(){return m}});var i=n(2784),r=n(34922),o=n(91994),s=n(24781),a=n(11050),l=n(97857),c=n(61750),u=n(82400),d=n(54999),h=n(47968),p=n(12825);let f=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=(0,s.cC)("editor"),r=i.scroller;if(!r)return;e.commands.turnOffSpotlight();let o=r.scrollHeight-r.offsetHeight;if("down"===t){let t=i.isAtBottom(90),s=t&&n&&e.commands.spotlightNextCard(!1,"top");if(!s){let e=r.scrollTop+.5*r.offsetHeight;e>o-150&&(e=o),i.scrollTo({top:e})}}else{let t=i.isAtTop(90),o=t&&n&&e.commands.spotlightNextCard(!0,"bottom");if(!o){let e=r.scrollTop-.5*r.offsetHeight;e<150&&(e=0),i.scrollTo({top:e})}}},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.R0.MAIN_PRESENT_VIEW,{editor:t}=(0,p._)(),n=(0,a.z$)(),{enabled:s}=(0,c.gZ)(t),m=(0,o.qr)(),x=(0,i.useCallback)(i=>{let{eventType:o,eventKey:s,method:c="keyboard",payload:p={}}=i;if(!t)return!1;let x=m.getState(),g=(0,h.k8)(x),v=null==g?void 0:g.pos,j=!!(t&&g&&(0,u.Jg)(t,g)),b=Object.keys((0,h.X9)(x).tree);switch(o){case"toggleSpotlight":return j?null==t||t.commands.turnOffSpotlight():null==t||t.commands.spotlightNextBlock(),!0;case"goToCard":{let{cardId:e}=p;if(!e)return!1;return t.commands.spotlightCardById(e,j),m.dispatch((0,h.Qx)({attached:!1})),!0}case"arrowRight":return(0,r.p7)(),m.dispatch((0,h.Qx)({attached:!1})),null==n||n.trackDocEvent(a.AA.PRESENT_MODE_NAVIGATED,{direction:a.xQ.CARD_NEXT,method:"keyboard"===c?a.SY.KEYBOARD:a.SY.BUTTON_CLICK,source:e,...void 0!==s&&{key:s}}),t.commands.spotlightNextCard();case"arrowLeft":return(0,r.p7)(),m.dispatch((0,h.Qx)({attached:!1})),null==n||n.trackDocEvent(a.AA.PRESENT_MODE_NAVIGATED,{direction:a.xQ.CARD_PREV,method:"keyboard"===c?a.SY.KEYBOARD:a.SY.BUTTON_CLICK,source:e,...void 0!==s&&{key:s}}),t.commands.spotlightNextCard(!0);case"arrowDown":if((0,r.p7)(),m.dispatch((0,h.Qx)({attached:!1})),!j){let e=(0,l.ei)(t.state.selection);return t.commands.goToNextExpandableNode()||f(t,"down",!e),!0}return null==n||n.trackDocEvent(a.AA.PRESENT_MODE_NAVIGATED,{direction:a.xQ.TELEPROMPTER_DOWN,method:"keyboard"===c?a.SY.KEYBOARD:a.SY.BUTTON_CLICK,source:e,...void 0!==s&&{key:s}}),t.commands.spotlightNextBlock();case"arrowUp":if((0,r.p7)(),m.dispatch((0,h.Qx)({attached:!1})),!j){let e=(0,l.ei)(t.state.selection);return t.commands.goToNextExpandableNode(!0)||f(t,"up",!e),!0}return null==n||n.trackDocEvent(a.AA.PRESENT_MODE_NAVIGATED,{direction:a.xQ.TELEPROMPTER_UP,method:"keyboard"===c?a.SY.KEYBOARD:a.SY.BUTTON_CLICK,source:e,...void 0!==s&&{key:s}}),t.commands.spotlightNextBlock(!0);case"restart":if(b[0])return(0,r.p7)(),t.commands.spotlightCardById(b[0]),m.dispatch((0,h.Qx)({attached:!1})),!0;return!1;case"cancelCurrentAction":{let e=j&&v;if(t.commands.spotlightCollapseNearestExpandableNode(e?v:null))return t.commands.reHighlightExpandableNode(),!0;if(j)return t.commands.turnOffSpotlight(),!0;return m.dispatch((0,h.Qx)({attached:!1})),null==n||n.track(a.AA.CARD_COLLAPSED,{is_present_mode:!0,method:"escape_key"}),t.commands.ascendUpToParentCard(!1)}case"toggleExpanded":{let e=j&&v,n=t.commands.expandOrCollapseExpandableNode(e?v:null);if(n)return!0;if(e){let e=t.state.doc.resolve(v),n=e.parent;if(n&&(0,d.AH)(n))return(0,d.xB)(n.attrs.id,!1),t.commands.spotlightNextBlock(!0),!0;return t.commands.spotlightCollapseNearestExpandableNode(v)}return!1}default:return!1}},[n,t,e,m]);return{handlePresentNavigationEvent:x,spotlightingByBlock:s}}},48105:function(e,t,n){"use strict";n.d(t,{VN:function(){return h},rJ:function(){return u},us:function(){return d}});var i=n(2784),r=n(42111),o=n(91994),s=n(80393),a=n(47968),l=n(90439);let c="disable-card-size-animations",u=()=>{let e=(0,r.ye)("autoZoomToFit"),t=(0,o.CG)(a.Kk);return null!=t?t:e},d=()=>{let e=(0,o.CG)(a.i2),t=(0,i.useRef)(),n=u(),r=!l.Pv&&n;(0,i.useEffect)(()=>{let n=!t.current;t.current=e;let i=n?s.nY:s.id/4;e&&r&&setTimeout(()=>{document.body.classList.add(c),h(),setTimeout(()=>{document.body.classList.remove(c)},s.id/2)},i)},[e,r])},h=()=>{let e=(0,o.bh)(),t=document.documentElement.clientHeight,n=document.querySelector('[data-animate-value="presentCurrent"][data-card-scroll-element]');n&&(e.dispatch((0,a.Ic)({zoomLevel:1})),setTimeout(()=>{let i=n.scrollHeight,r=t/i;if(l.QX)r=Math.max(t/i,.7);else{if(r<.7)return;r=Math.floor(10*r)/10}e.dispatch((0,a.Ic)({zoomLevel:r})),console.debug("[zoomPresentModeToFit] zooming",JSON.stringify({viewportHeight:t,cardHeight:i,targetZoom:r}))}))}},86793:function(e,t,n){"use strict";n.d(t,{o:function(){return p}});var i=n(21805),r=n(2784),o=n(14274),s=n(76332),a=n(42111),l=n(91994),c=n(21733),u=n(82245),d=n(44631),h=n(97590);let p=e=>{let t=(0,l.CG)(h.yx),n=(0,r.useMemo)(()=>!!i.Z.get(u.ir),[]),p=(0,c.we)(),f=(0,l.TL)(),m=(0,l.CG)(h.fh),x=(0,a.ye)("docEditorForcePublicStatic"),g=(0,r.useMemo)(()=>{var e,i;let r=new URLSearchParams(window.location.search),a=r.get("following_id")&&r.get("follow_on_start");if(a)return!0;if(!t)return n;let l=null===(i=t.accessLinks)||void 0===i?void 0:null===(e=i.find(e=>e.token===o.v.SHARE_TOKEN))||void 0===e?void 0:e.permission,c=l&&[s.y3$.Edit,s.y3$.Comment].includes(l);return c||p.can(s.y3$.Comment,t)||p.can(s.y3$.Edit,t)||p.can(s.y3$.Manage,t)},[p,t,n]);(0,r.useEffect)(()=>{let t=x?d.Z.PUBLIC_STATIC:e||(g?d.Z.COLLABORATIVE:d.Z.PUBLIC_STATIC);f((0,h.R8)({docEditorType:t}))},[f,e,x,g]);let v=e||(g?d.Z.COLLABORATIVE:d.Z.PUBLIC_STATIC);return console.debug("useSetDocEditorType",{canUseCollaborativeEditor:g,docEditorType:m,fallbackEditor:v,override:e}),m||v}},89402:function(e,t,n){"use strict";n.d(t,{dM:function(){return pu},Ur:function(){return h5},nz:function(){return pC},_i:function(){return tw._i}});var i,r,o,s,a,l=n(52322),c=n(38035),u=n(77533),d=n(28535),h=n(73200),p=n(42946),f=n(49929),m=n(5879),x=n(87254),g=n(97729),v=n.n(g),j=n(2784),b=n(43997),y=n(66990),C=n(93202),k=n(75279),w=n(30384),D=n(37869),_=n(16690),E=n(55478),S=n(43679),A=n(34071),T=n(32899),I=n(39429),O=n(48394),M=n(30733),F=n.n(M),R=n(12436),N=n.n(R),P=n(76919);class L extends P.v{cleanup(){document.removeEventListener("mousemove",this.throttled)}constructor(){super(),this.throttled=N()(e=>{this.emit("move",e)},200,{leading:!0}),document.addEventListener("mousemove",this.throttled)}}let z=F()(()=>new L),G=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z(),[i,r]=(0,j.useState)(!1),o=(0,j.useRef)(t);return(0,j.useEffect)(()=>{o.current=t},[t]),(0,j.useEffect)(()=>n.on("move",t=>{o.current||r(e(t))}),[n,e]),i};var U=n(91994),B=n(47968),H=n(89458),W=n(88640),V=n(27537),q=n(60617),Z=n(33022);let K=(0,j.memo)(()=>{let{isOpen:e,onToggle:t,onClose:n}=(0,E.q)(),[i,r]=(0,H.I)(W.H.hasSeenCoachBar,!1),o=(0,U.CG)(B.Tf),s=(0,j.useCallback)(()=>{i||r(!0),n()},[i,n,r]),a=!i||e,c=G((0,j.useCallback)(e=>e.clientX>window.innerWidth-150&&e.clientY>window.innerHeight-150,[]));return(0,l.jsx)(q.H,{mr:o&&i&&!a&&!c?"-100%":"0px",transitionProperty:"margin-right",transitionDuration:"ultra-slow",transitionTimingFunction:"ease-in-out",children:(0,l.jsxs)(S.J,{returnFocusOnClose:!1,isOpen:a,onClose:s,closeOnBlur:!0,children:[(0,l.jsx)(A.x,{children:(0,l.jsx)(T.h,{onClick:()=>{e&&r(!0),t()},"aria-label":"Help",isRound:!0,size:"md",icon:(0,l.jsx)(f.G,{icon:p.UFh})})}),(0,l.jsx)(I.y,{...V.Ro,children:(0,l.jsx)(O.b,{children:(0,l.jsx)(Z.C,{onClose:s})})})]})})});K.displayName="PresentModeHelpWidget";var Y=n(94199),X=n(41003),$=n(58632),J=n(10653),Q=n(16770);let ee=()=>(0,U.CG)((0,Q.CO)("left")),et=()=>(0,U.CG)((0,Q.CO)("right")),en=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=e.panelPosition,i=(0,b.I0)(),r=(0,U.CG)((0,Q.OC)(e)),o=(0,j.useCallback)(()=>{i((0,Q.uJ)({component:e}))},[e,i]);(0,$.v)(()=>{!t&&r&&i((0,Q.sR)({position:n}))},[r,i,t,n],[t]);let s=(0,j.useCallback)(o=>{if(!t)return;let s=!r;(null==o?void 0:o.override)==="open"?s=!0:(null==o?void 0:o.override)==="closed"&&(s=!1),s?i((0,Q.Yp)({component:e,disableTransition:!!(null==o?void 0:o.disableTransition)})):i((0,Q.sR)({position:n}))},[e,n,r,i,t]);return{togglePanel:s,initPanel:o,isPanelOpen:r}},ei=()=>{let e=(0,j.useMemo)(()=>new J.st,[]),t=(0,j.useMemo)(()=>new J.st,[]),n=(0,j.useMemo)(()=>new J.st,[]);return(0,j.useEffect)(()=>{if(!n||!e||!t)return;let i=e.pipe(n),r=t.pipe(n);return()=>{i(),r()}},[e,t,n]),{leftPanelLifecycle:e,rightPanelLifecycle:t,globalPanelLifecycle:n}};var er=n(48929),eo=n(90419),es=n(96933),ea=n(4425);let el=(e,t,n)=>Math.min(Math.max(e,t),n),ec=e=>{let{setWidth:t,width:n,position:i,onClose:r,panelRef:o,initialWidth:s,isDragging:a,setIsDragging:u}=e,h=(0,j.useMemo)(()=>(0,ea.n)(),[]),p=h>0&&"right"===i,[f,m]=(0,j.useState)(n),[x,g]=(0,j.useState)(null),v=N()(e=>{let t;let n=el(t="left"===i?e.clientX:-((e.clientX-x)*1)+f,eo.pn,eo.ZQ);t<=eo.Nh?(o.current.style.transitionProperty="width",o.current.style.transitionDuration="var(--chakra-transition-duration-normal)",n=0):n>eo.pn&&(o.current.style.transitionProperty="",o.current.style.transitionDuration=""),o.current.style.width="".concat(n,"px")},30),b=()=>{u(!1),g(null);let e=o.current.style.width;"0px"===e?(r(),t(s)):t(parseInt(e.replace("px",""),10)),o.current.style.transitionProperty="",o.current.style.transitionDuration="",window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",b)};(0,j.useEffect)(()=>(x&&(window.addEventListener("mousemove",v),window.addEventListener("mouseup",b)),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",b)}),[x]);let y={};return y="left"===i?{right:-4,position:"absolute"}:p?{position:"relative"}:{left:-4,position:"absolute"},(0,l.jsx)(c.k,{h:"100%",bg:p?"gray.200":a?"blackAlpha.200":"rgba(0,0,0,0)",w:p?2:4,justifyContent:"center",alignItems:"center",cursor:"col-resize",_hover:{bg:p?"gray.400":"blackAlpha.200"},transitionProperty:"common",transitionDuration:"normal",role:"group",onMouseDown:e=>{e.preventDefault(),u(!0),g(e.clientX),m(n)},position:"absolute",display:["none","none","none","flex"],...y,children:!p&&(0,l.jsx)(d.xu,{bg:"white",borderRadius:"full",w:1,h:10,opacity:a?1:".5",transitionProperty:"common",transitionDuration:"normal",_groupHover:{opacity:1}})})},eu={ifPanelHasRoomToOpen:function(e,t){return{base:t,xl:e}}},ed=e=>{var t;let{position:n,panelLifecycle:i}=e,r=(0,j.useRef)(),[o,s]=(0,j.useState)(!1),a=(0,b.I0)(),u=(0,U.CG)((0,Q.SL)(n)),d=(0,U.CG)((0,Q.Fw)(n)),h=(0,U.CG)((0,Q.CO)(n)),p=(0,U.CG)((0,Q.eh)(n)),f=null!==(t=null==p?void 0:p.canCollapse)&&void 0!==t&&t,m=(0,j.useCallback)(()=>{a((0,Q.sR)({position:n}))},[a,n]),x=(0,j.useCallback)(()=>{a((0,Q.Yp)({component:p}))},[p,a]),g=(0,j.useCallback)(e=>{a((0,Q.UG)({width:e,position:n})),i.emit("resize",{})},[a,i,n]),v={zIndex:Number((0,er.dQ)("zIndices","overlay"))+1,position:eu.ifPanelHasRoomToOpen("relative","fixed"),top:eu.ifPanelHasRoomToOpen(0,"var(--editor-padding-top)"),bottom:0,[n]:0};d||o||(v.transitionProperty="width",v.transitionDuration="normal"),(0,j.useEffect)(()=>{let e=e=>{"width"===e.propertyName&&i.emit("resize",{})};return r.current.addEventListener("transitionend",e),()=>{r.current&&r.current.removeEventListener("transitionend",e)}},[i,r]);let y=(0,es.i)(eu.ifPanelHasRoomToOpen(!0,!1))||!1;return(0,j.useEffect)(()=>{u&&!y&&f&&m()},[y,u,m,f]),(0,l.jsxs)(c.k,{ref:r,...v,style:{width:u||f?h:0},maxW:"100%","data-print-hidden":!0,children:[u&&"right"===n&&(0,l.jsx)(ec,{isDragging:o,setIsDragging:s,position:n,width:h,setWidth:g,panelRef:r,onClose:m,initialWidth:eo.Ld}),(0,l.jsx)(J.Mn.Provider,{value:i,children:p&&(u||f)&&(0,l.jsx)(p,{isDragging:o,isOpen:u,closePanel:m,openPanel:x,panelRef:r,lifecycle:i,hasRoomToOpen:y})}),u&&"left"===n&&(0,l.jsx)(ec,{isDragging:o,setIsDragging:s,position:n,width:h,setWidth:g,panelRef:r,onClose:m,initialWidth:eo.X9})]})},eh=(0,j.memo)(e=>(0,l.jsx)(ed,{position:"right",...e}));eh.displayName="RightPanelContainer";let ep=(0,j.memo)(e=>(0,l.jsx)(ed,{position:"left",...e}));ep.displayName="LeftPanelContainer";var ef=n(50019),em=n(29117),ex=n(62614),eg=n(75768),ev=n(94523),ej=n(5632),eb=n(17292),ey=n(90221),eC=n(78462),ek=n(84698);let ew=e=>{let{docId:t}=e,n=(0,U.TL)(),i=(0,ef.ff)("gray.300","gray.800"),r=(0,ef.ff)("white","gray.900"),o=(0,ef.ff)("transparent","transparent"),s=(0,ef.ff)("gray.500","gray.400"),a=(0,ef.ff)("trueblue.50","trueblue.400"),u=(0,ef.ff)("trueblue.500","white"),h=(0,ef.ff)("gray.600","gray.100"),g=(0,ef.ff)("gray.100","gray.700"),v=(0,ef.ff)("trueblue.50","trueblue.400"),b=(0,ef.ff)("trueblue.500","white"),{replace:y}=(0,ej.useRouter)(),C=(0,U.CG)(ek.tv),k=(0,j.useCallback)(()=>{if(!t)return;let e=(0,eC.yQ)({docId:t});y(e,void 0,{shallow:!0})},[t,y]),w=(0,j.useCallback)(e=>{n((0,ek.Tj)({previewSize:e}))},[n]);return(0,j.useEffect)(()=>eb.F7.on("keydown","SITE_PREVIEW_PANE",e=>("Escape"===e.key&&k(),!0)),[k]),(0,l.jsx)(c.k,{bg:"white",align:"flex-start",direction:"column",width:"100%","data-sites-preview-pane":!0,children:(0,l.jsxs)(em.U,{w:"100%",spacing:0,p:2,py:2,bg:r,borderColor:i,justify:"flex-start",borderBottomWidth:"1px",children:[(0,l.jsx)(em.U,{spacing:2,flexBasis:"30%",children:!(0,ey.s2)()&&(0,l.jsx)(ex.z,{size:"sm",variant:"plain",onClick:k,children:(0,l.jsx)(em.U,{children:(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:p.acZ})})})})}),(0,l.jsxs)(eg.h,{size:"sm",ml:24,flexBasis:"40%",justifyContent:"center",children:[(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"58m6Qy"}),children:(0,l.jsx)(T.h,{"aria-label":x.ag._({id:"58m6Qy"}),variant:"ghost",size:"sm",icon:(0,l.jsx)(f.G,{icon:p.Z__}),bg:"mobile"===C?a:o,_hover:{color:"mobile"===C?b:h,bg:"mobile"===C?v:g},color:"mobile"===C?u:s,onClick:()=>{w("mobile")}})}),!(0,ey.s2)()&&(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"fpcKeD"}),children:(0,l.jsx)(T.h,{"aria-label":x.ag._({id:"fpcKeD"}),variant:"ghost",size:"sm",icon:(0,l.jsx)(f.G,{icon:p.ep5}),bg:"tablet"===C?a:o,_hover:{color:"tablet"===C?b:h,bg:"tablet"===C?v:g},color:"tablet"===C?u:s,onClick:()=>{w("tablet")}})}),!(0,ey.s2)()&&(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"K3p0ar"}),children:(0,l.jsx)(T.h,{"aria-label":x.ag._({id:"K3p0ar"}),variant:"ghost",size:"sm",icon:(0,l.jsx)(f.G,{icon:p.tc$}),bg:"desktop"===C?a:o,_hover:{color:"desktop"===C?b:h,bg:"desktop"===C?v:g},color:"desktop"===C?u:s,onClick:()=>{w("desktop")}})})]}),(0,l.jsx)(em.U,{flexBasis:"30%",justifyContent:"flex-end"})]})})};var eD=n(31341),e_=n(85326),eE=n(54073),eS=n.n(eE),eA=n(31181),eT=n(23147);let eI=(e,t)=>{let n=(0,U.TL)(),i=(0,U.qr)(),r=!!(0,U.CG)(eA.$U),o=(0,U.CG)(B.wc),s=(0,U.CG)(eA.B$),a=t&&r&&o;(0,j.useEffect)(()=>{var t,r;if(!a||!e||e.gammaDocId!==s)return;let o=(0,B.yx)(i.getState()),l=null==o?void 0:null===(r=o.publishedSnapshot)||void 0===r?void 0:null===(t=r.content)||void 0===t?void 0:t.default;if(!l)return;let c=!(0,eT.G0)(e,l);console.debug("[useDirtyStateTracking] INITIALIZING DIRTY STATE ".concat(s," via compareDocJSON"),{isDirty:c}),c&&n((0,eA.xc)({pageId:e.gammaDocId,lastUpdatedAt:new Date().toISOString()}))},[n,i,e,a,s]),(0,j.useEffect)(()=>{if(!a||!e)return;let t=eS()(()=>{n((0,eA.xc)({pageId:e.gammaDocId,lastUpdatedAt:new Date().toISOString()}))},500,{leading:!0,trailing:!0,maxWait:1e3});return e.on("update",t),()=>{e.off("update",t)}},[a,n,e])};var eO=n(15041),eM=n(29318),eF=n(61811),eR=n(74389),eN=n(56904),eP=n(78160),eL=n(17132),ez=n(11050),eG=n(97563),eU=n(72338),eB=n(84636),eH=n.n(eB),eW=n(24781),eV=n(96255),eq=n(60742),eZ=n(90604);let eK=(e,t,n,i,r)=>{let o=i-n,s=Math.max(e-n,0),a=Math.max(i-t,0),l=Math.max(o-s-a,0),c=l/o,u=c>0&&l==t-e;return{overlap:c,viewing:r&&(u||c>.5||l>400),only:u}},eY=(e,t)=>{let n=(0,eW.As)("editor"),[i,r]=(0,j.useState)(null),o=(0,j.useRef)({presentingCardId:null,scrollTop:0,containerHeight:0,expandedCards:{}}),s=(0,U.CG)(B.gh),a=(0,U.CG)(B.i2);(0,j.useEffect)(()=>{o.current.presentingCardId=null!=a?a:null},[a]);let l=(0,U.CG)(B.Q5);(0,j.useEffect)(()=>{o.current.expandedCards=l},[l]),(0,j.useEffect)(()=>{let e=document.querySelector(n.scrollSelector);if(!e)return;r(e);let t=e.getBoundingClientRect(),{height:i}=t;o.current.scrollTop=e.scrollTop,o.current.containerHeight=i},[n.scrollSelector,o]),(0,j.useEffect)(()=>{let e=eS()(()=>{i&&(o.current.scrollTop=i.scrollTop)},250,{trailing:!0,maxWait:500});return window.addEventListener("scroll",e,!0),()=>window.removeEventListener("scroll",e,!0)},[i]),(0,j.useEffect)(()=>{let e=eS()(()=>{i&&(o.current.containerHeight=i.getBoundingClientRect().height)},250,{trailing:!0,maxWait:500});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]),(0,j.useEffect)(()=>{if(!e)return;if(s===eZ.q.SLIDE_VIEW){let e=setInterval(()=>{t.emit("cardViewed",{cardId:o.current.presentingCardId,interval:1e3})},1e3);return()=>clearInterval(e)}let i=setInterval(()=>{if(document.hidden)return;let{scrollTop:i,containerHeight:r,expandedCards:s}=o.current,a=i+r;eH()((0,eU.N2)(e.state.doc,eV.KH),e=>e.node.attrs.id).map(t=>{let r;let o=t.node.attrs.id,l=s[o];if(!l)return null;try{r=e.view.nodeDOM(t.pos)}catch(e){return null}if(r instanceof HTMLElement){let e=(0,eq.LY)(r,n.scrollSelector),{offsetHeight:t}=r,s=t+e;return{id:o,...eK(i,a,e,s,l)}}return null}).filter(e=>!!(null==e?void 0:e.viewing)).forEach(e=>{t.emit("cardViewed",{cardId:e.id,interval:1e3})})},1e3);return()=>clearInterval(i)},[s,e,o,t,n.scrollSelector])},eX=e=>{let{editor:t,backoffFactor:n=1}=e,i=(0,ez.z$)(),[r,o]=(0,j.useState)(15e3);eY(t,eG.f);let s=(0,j.useCallback)(()=>{eG.f.flush(),o(Math.min(r*n,12e4))},[n,r]);return(0,j.useEffect)(()=>{if(!i)return;eG.f.initialize(),eG.f.on("flush",e=>{let{viewed:t}=e;for(let[e,n]of Object.entries(t))i.trackDocEvent(ez.AA.CARD_VIEWED,{card_id:e,duration:n})});let e=setInterval(()=>s(),r);return()=>{clearInterval(e),eG.f.destroy()}},[i,r,s]),null};var e$=n(36651),eJ=n(81672),eQ=n(74409),e0=n(17993),e1=n(36474),e2=n(54933),e3=n(85420),e5=n(8713),e4=n(69420),e6=n(86783),e8=n(18149),e7=n.n(e8),e9=n(64467),te=n(48776),tt=n(98462);let tn=e=>{let t=(0,U.CG)(e9.AD),{title:n}=(0,te.T)({cardId:t||void 0}),i=(0,U.CG)(B.pN,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e7()(...t)}),r=i.indexOf(t||""),o=(0,j.useCallback)(t=>()=>{var n,o;if(!e)return;let s=null!==(o=i[r+(t?1:-1)])&&void 0!==o?o:i[r],a=null===(n=(0,eV.Bw)(e,s))||void 0===n?void 0:n.pos;if(!a)return;(0,tt.vS)(e,a)||e.commands.selectInsideNodeAtPos(a);let l=e.view.nodeDOM(a);l instanceof HTMLElement&&(0,eW.cC)("editor").scrollElementIntoView({element:l,delay:0})},[r,e,i]);return{cardId:t,title:n||"Untitled",canGoForward:r<i.length-1,canGoBack:r>0,goToNextCard:o(!0),goToPreviousCard:o(!1)}};var ti=n(89996),tr=n(42111),to=n(80393);let ts=e=>{let{editor:t,isReadonly:n}=e,{selection:i}=(0,ti.t)(t),r=(0,U.TL)(),o=(0,tr.ye)("cardNotes");(0,j.useEffect)(()=>{if(!t||!o)return;let e=(0,to.AQ)(t.state.doc,t.state.selection.from);if(e&&e.node&&!(0,tt.Qp)(e.node)){if(n){r((0,e9.NK)());return}(0,tt.Fi)(t,e.pos)}},[o,r,t,n,i])};var ta=n(77787),tl=n(50634),tc=n(31490),tu=n(97763),td=n(7144),th=n(25566),tp=n(21782),tf=n(89019),tm=n(86581),tx=n(93441);let tg=e=>{let{editor:t,cardId:n}=e,i=(0,U.CG)(B.Wl),r=(0,U.CG)(B.hN),o=(0,tr.ye)("aiCardNotes"),s=(0,j.useCallback)(e=>{if(!t||!n)return;let i=(0,eV.Bw)(t,n);if(!i)return;let r=t.state.doc.resolve(i.pos),o=(0,tt.cM)(r);if(!o)return;let s=(0,tm.aT)(e,t.schema),{tr:a}=t.state,l=o.pos+1,c=l+o.node.content.size;a.delete(l,c).insert(l,s.content),t.view.dispatch(a)},[t,n]),a=(0,tx.Z_)(s,200),[l,c]=(0,j.useState)(!1),{generate:u}=(0,tl.j)("GenerateSpeakerNotes",{onStart(){c(!0),a("")},onContent(e){a(e)},onComplete(e){a(e),c(!1)},timeout:3e4}),d=(0,U.qr)(),h=(0,j.useCallback)(async()=>{if(!i||!t||!n)return;let e=(0,eV.Bw)(t,n);if(!e)return;let r=(0,ta.c)(t,e.node),o=(0,tc.nZ)(),s=(0,tf.vR)(t,e.pos),a=(0,tp.D)(d);await u({variables:{cardHtml:r,previous:s,outline:a},workspaceId:i.id}).promise,(0,td.d)("generateCardNotes",i,o)},[u,i,t,n,d]),p=(0,tu.YO)(h,"generateCardNotes",th.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD);return{onClickGenerate:p,isGenerating:l,canGenerateCardNotes:o&&r}},tv=e=>{let{closePanel:t}=e,{editor:n}=(0,tw._i)(),i=(0,U.CG)(B.hN),{cardId:r,canGoBack:o,canGoForward:s,title:a,goToNextCard:d,goToPreviousCard:h}=tn(n),g=(0,U.TL)();ts({editor:n,isReadonly:!i}),(0,j.useEffect)(()=>e5.F7.on("keydown","CARD_NOTES_PANEL",e=>{let n=document.activeElement;return!!(n instanceof HTMLElement&&n.closest('[data-panelid="card-notes-panel"]'))&&"Escape"===e.key&&(t(),!0)}),[t,g]);let v=(0,eM.Yy)(),{onClickGenerate:b,isGenerating:y,canGenerateCardNotes:C}=tg({editor:n,cardId:r});return(0,l.jsx)(ev.Wk,{isDark:v,children:(0,l.jsx)(e4.s,{bgColor:v?"gray.900":"white","data-panelid":"card-notes-panel",color:v?"white":"gray.900",children:(0,l.jsxs)(c.k,{direction:"column",h:"100%",flex:1,children:[(0,l.jsx)(eJ.P,{"data-card-notes-close-button":!0,position:"absolute",top:2,right:3,onClick:t}),(0,l.jsxs)(em.U,{px:6,py:4,spacing:4,children:[(0,l.jsx)(eQ.X,{fontSize:"3xl",fontWeight:800,letterSpacing:-1,children:"Notes"}),i&&(0,l.jsx)(ev.Yq,{label:(0,l.jsx)(m.cC,{id:"qcPeK2"})})]}),(0,l.jsxs)(e0.g,{px:6,pb:4,alignItems:"stretch",flex:1,overflowY:"hidden",spacing:4,"data-card-notes-bubble-menu-target":!0,children:[(0,l.jsxs)(em.U,{align:"end",children:[(0,l.jsx)(u.x,{fontWeight:"600",color:v?"gray.300":"gray.500",wordBreak:"break-word",noOfLines:2,"data-testid":"card-notes-card-title",py:1,children:a}),(0,l.jsx)(e1.L,{}),C&&(0,l.jsx)(ev.kH,{label:(0,l.jsxs)(em.U,{spacing:0,children:[(0,l.jsx)(m.cC,{id:"GyxUS3"}),(0,l.jsx)(e3.J,{type:"generateCardNotes"})]}),placement:"top",children:(0,l.jsx)(ex.z,{variant:"ghost",onClick:b,isLoading:y,size:"sm","aria-label":x.ag._({id:"ziAjHi"}),rightIcon:(0,l.jsx)(f.G,{icon:e2.JyM}),flexShrink:0,children:(0,l.jsx)(m.cC,{id:"ziAjHi"})})})]}),(0,l.jsx)(e6.z,{isEditable:i,isDark:v}),i&&(0,l.jsxs)(em.U,{children:[(0,l.jsx)(ev.kH,{label:o?(0,l.jsx)(m.cC,{id:"cbqngJ"}):(0,l.jsx)(m.cC,{id:"4OtlnH"}),children:(0,l.jsx)(c.k,{flex:1,children:(0,l.jsx)(T.h,{"aria-label":o?x.ag._({id:"cbqngJ"}):x.ag._({id:"4OtlnH"}),icon:(0,l.jsx)(f.G,{icon:p.acZ}),onClick:h,isDisabled:!o,flex:1})})}),(0,l.jsx)(ev.kH,{label:s?(0,l.jsx)(m.cC,{id:"EyUKqu"}):(0,l.jsx)(m.cC,{id:"ggpGEd"}),children:(0,l.jsx)(c.k,{flex:1,children:(0,l.jsx)(T.h,{"aria-label":s?x.ag._({id:"EyUKqu"}):x.ag._({id:"ggpGEd"}),icon:(0,l.jsx)(f.G,{icon:p.eFW}),onClick:d,isDisabled:!s,flex:1})})})]})]})]})})})};tv.panelPosition="right";var tj=n(15830);let tb=e=>{let{toggleCardNotesPanel:t,isCardNotesPanelOpen:n,editor:i}=e,r=(0,U.TL)(),o=(0,tr.ye)("cardNotes"),s=(0,U.CG)(B.gh),a=s===eZ.q.SLIDE_VIEW;(0,j.useEffect)(()=>{n&&(!o||a)&&t()},[o,n,t,a]),(0,j.useEffect)(()=>{!n&&i&&(r((0,e9.mK)({isOpen:!1})),i.view.dispatch(i.state.tr))},[r,i,n,t]),(0,j.useEffect)(()=>{if(o&&i)return tj.T.on("toggle",e=>{let{config:o,clickedCardId:s,activeNotesCardId:a}=e;n&&s!==a||(t(o),r((0,e9.mK)({isOpen:!n})),i.view.dispatch(i.state.tr))})},[r,i,o,n,t])},ty="drag-in-progress",tC=()=>{(0,j.useEffect)(()=>{let e=()=>{document.body.classList.add(ty)},t=()=>{document.body.classList.remove(ty)};return document.body.addEventListener("dragstart",e,!0),document.body.addEventListener("dragend",t,!0),document.body.addEventListener("drop",t,!0),document.body.addEventListener("mouseup",t,!0),()=>{document.body.removeEventListener("dragstart",e,!0),document.body.removeEventListener("dragend",t,!0),document.body.removeEventListener("drop",t,!0),document.body.removeEventListener("mouseup",t,!0)}},[])};var tk=n(44631),tw=n(52926),tD=n(42822),t_=n(43297),tE=n(81540),tS=n(34972),tA=n(50788),tT=n(63669),tI=n(27058),tO=n(741),tM=n(94465),tF=n(42703),tR=n(90383),tN=n(74339);let tP=e=>"tablet"===e?"768px":"mobile"===e?(0,ey.s2)()?"100vw":"375px":"100vw",tL=e=>{let{loading:t,...n}=e,{editor:i,docId:r,previewSize:o}=n;return(0,l.jsxs)(tS.BU,{children:[(0,l.jsx)("style",{id:"global-styles",dangerouslySetInnerHTML:{__html:tN.W.toString()}}),(0,l.jsx)(tA.cL,{children:(0,l.jsx)(c.k,{pos:"relative",justifyContent:"center",bg:"#C5C5C5",flex:1,children:!t&&i&&r?(0,l.jsx)(tz,{...n,editor:i,docId:r}):(0,l.jsx)(d.xu,{flexDirection:"column",w:tP(o),h:"var(--100vh)",bg:"gray.100","data-testid":"preview-editor-loading",inset:0,children:(0,l.jsx)(tD.M,{h:"100%",children:(0,l.jsx)(t_.K,{align:"center",children:(0,l.jsx)(tE.$,{})})})})})})]})},tz=e=>{let{docId:t,editor:n,previewSize:i,onCreate:r}=e,o=(0,j.useMemo)(()=>(0,tT.e)().concat(tI.F),[]),s=(0,j.useMemo)(()=>n.getJSON(),[n]),a="mobile"===i?"mobile":"desktop",u=(0,tM.j)({async onCreate(e){let{editor:t}=e;console.debug("[SimpleEditor][onCreate] TipTap editor is now ready"),null==r||r({editor:t})},content:s,extensions:o,editable:!1});u.shouldUsePublishedVersion=!0;let{editorAnimationsClass:p,editorAnimationsCSSVars:f}=(0,eR.k)({editor:u,instanceId:a,scrollingParentSelector:".".concat(tk.B)}),m=(0,U.CG)(eA.lH),x=(0,U.CG)(B.Pu),g=(0,tR.nT)(m),v=g?eP.ZQ:0,b=tP(i);return(0,l.jsxs)(d.xu,{className:(0,h.cx)("preview-editor-root",p),style:f,w:b,h:"100%",css:{"--editor-width":b,"--doc-padding-top":"".concat(v,"px"),"--editor-padding-top":"".concat(50,"px")},position:"relative",shadow:"xl",children:[m&&g&&(0,l.jsx)(c.k,{pos:"absolute",top:0,left:0,w:"100%",zIndex:"10",children:(0,l.jsx)(tO.n,{theme:x,editable:!1,content:m.navContent},"".concat(t,"__preview-editor-nav__").concat(a,"}"))}),(0,l.jsx)(tF.f,{editor:u},"".concat(t,"__preview-editor__").concat(a,"}"))]})};var tG=n(97590),tU=n(83905);let tB=()=>{let e=(0,U.CG)(eA.lH),t=(0,U.CG)(B.Pu),n=(0,U.qr)(),[i]=(0,C.Iyu)(),r=(0,j.useCallback)(async e=>{var t;let{editor:r}=e,o=null===(t=(0,eA.lH)(n.getState()))||void 0===t?void 0:t.id;o&&await i({variables:{input:{siteId:o,navContent:r.state.doc.toJSON()}}})},[i,n]),o=(0,tx.Kt)(r,500);return e?(0,l.jsx)(c.k,{pos:"absolute",top:0,left:0,w:"100%",zIndex:tU.S.siteNav,children:(0,l.jsx)(tO.n,{theme:t,onUpdate:o,content:e.navContent,editable:!0,scrollingParentSelector:".".concat(tk.B)})}):null};var tH=n(55274),tW=n(32981),tV=n(26468),tq=n(73751),tZ=n(2338),tK=n(97217),tY=n(50250),tX=n(58125),t$=n(30764),tJ=n(71113),tQ=n(29957),t0=n(50260),t1=n(66479),t2=n(79671),t3=n(32186),t5=n(46409),t4=n(22569);let t6=j.createContext({enabled:!1,registerEditor:(e,t)=>{},getAllCards:()=>[],userMessage:"",setUserMessage:e=>{}});function t8(){let e=(0,j.useContext)(t6);return e}let t7=e=>{let{children:t}=e,n=(0,j.useRef)(new Map),i=(0,j.useRef)(""),r=(0,j.useRef)((e,t)=>{n.current.set(e,t)}),o=(0,j.useRef)(()=>Array.from(n.current.values()).map(e=>{var t,n;return null===(n=e.state.doc.firstChild)||void 0===n?void 0:null===(t=n.content.toJSON())||void 0===t?void 0:t[0]}).filter(Boolean)),s=(0,j.useCallback)(e=>{i.current=e},[]);return(0,l.jsx)(t6.Provider,{value:{enabled:!0,registerEditor:r.current,getAllCards:o.current,userMessage:i.current,setUserMessage:s},children:t})};var t9=n(8776),ne=n(40335),nt=n(56581),nn=n(31709);let ni=e=>{let{cardId:t,onClick:n}=e,i=(0,U.CG)((0,t9.l_)(t)),r=(0,U.CG)(B.Pu);return i?(0,l.jsxs)(t_.K,{zIndex:1,mt:"4.5em",width:"180px",bg:"whiteAlpha.500",border:"1px solid",borderColor:"blackAlpha.300",borderRadius:"lg",p:4,sx:{"*":{"backdrop-filter":"none !important","-webkit-backdrop-filter":"none !important"}},children:[i.variants.map(e=>{if(!e)return null;let{label:o,card:s,id:a}=e;return(0,l.jsx)(nr,{theme:r,isSelected:i.selected===a,label:o,card:s,onClick:()=>{n({cardId:t,variationId:a})}},a)}),i.variants.length<2&&(0,l.jsx)(tD.M,{children:(0,l.jsx)(tE.$,{})})]}):null},nr=e=>{let{label:t,card:n,theme:i,isSelected:r=!1,onClick:o=()=>{}}=e,s=(0,j.useMemo)(()=>(0,nn.vL)({docFlags:{cardLayoutsEnabled:!0}},[n]),[n]);return(0,l.jsxs)(t_.K,{align:"start",children:[(0,l.jsx)(c.k,{borderRadius:"md",bg:"white",shadow:r?"outline":"md",overflow:"hidden",cursor:"pointer",_hover:{bg:"trueblue.50"},transitionProperty:"common",transitionDuration:"fast",onClick:o,children:(0,l.jsx)(c.k,{sx:t3.n,css:{"--editor-font-size":"0.15rem","--editor-width":"150px"},justifyContent:"center",alignItems:"top",pointerEvents:"none",children:(0,l.jsx)(t3.m,{content:s,theme:i,isThumbnail:!0})})}),(0,l.jsxs)(u.x,{fontSize:"sm",children:[r&&(0,l.jsx)(nt.n,{boxSize:3,mr:2}),t]})]})},no="ai-wizard-editor-root",ns=e=>{let{doc:t,cards:n,theme:i=t0.mU}=e,r=(0,t4.R5)(i),o=(0,t1.wj)(i),s=(0,t4.wh)(r,o),a=(0,U.TL)(),{registerEditor:u}=t8();return((0,j.useEffect)(()=>()=>{a((0,t9.mc)())},[a]),t)?(0,l.jsxs)(c.k,{bg:"gray.100",overflowY:"auto",overflowX:"hidden",justifyContent:"flex-start",alignContent:"center",alignItems:"center",alignSelf:"stretch",direction:"column",width:"100%",height:"100%",position:"relative",className:no,...s,children:[(0,l.jsx)(t5.Y,{}),n.map((e,n)=>{var i;let r=null===(i=e.attrs)||void 0===i?void 0:i.id;return r?(0,l.jsx)(na,{doc:t,cardId:r,cardIndex:n,cardJSON:e,onCreate:e=>{u(r,e)}},r):null})]}):null},na=e=>{let{cardId:t,cardIndex:n,cardJSON:i,doc:r,onCreate:o}=e,s=(0,U.TL)(),[a,u]=(0,j.useState)(null),{userMessage:d}=t8(),h=(0,ne.b)({editor:a});(0,j.useEffect)(()=>{a&&h({doc:a.state.doc,cardId:t,message:d})},[h,a,t,n,d]);let p=(0,j.useMemo)(()=>(0,t2.vL)({docFlags:{cardLayoutsEnabled:!0}},[i]),[i]),f=(0,U.CG)((0,t9.a4)(t));(0,tx.vm)(()=>{if(!a||!f)return;let e=(0,eV.Bw)(a,t);e&&a.commands.command(t=>{let{tr:n}=t,i=t$.NB.fromJSON(a.schema,f.card);return n.replaceWith(e.pos,e.pos+e.node.nodeSize,i),!0})},[a,f,t],[f]);let m=(0,j.useCallback)(e=>{let{cardId:n,variationId:i}=e;a&&n===t&&s((0,t9.dx)({cardId:t,variantId:i}))},[s,a,t]);return(null==r?void 0:r.id)?(0,l.jsxs)(c.k,{className:"ai-variation-editor-".concat(t),alignItems:"flex-start",sx:t3.n,my:-8,children:[(0,l.jsx)(ni,{cardId:t,onClick:m}),(0,l.jsx)(tT.y,{initialContent:p,onCreate:e=>{let{editor:t}=e;u(t),o(t)},doc:r,docId:r.id,scrollingParentSelector:".".concat(no),readOnly:!0,isStatic:!0,animationsEnabled:!1,extensions:[],shouldSupportMenus:!1})]}):null};var nl=n(11550);let nc=e=>{let{isOpen:t,onClose:n,onOpen:i}=(0,nl.M)({id:"cardSuggestionDrawer"}),r=(0,U.CG)(B.Pu),[o]=(0,j.useState)(()=>(0,tX.xC)({reducer:U.Ct}));return(0,l.jsx)(b.zt,{store:o,children:(0,l.jsx)(nu,{...e,isOpen:t,onClose:n,onOpen:i,theme:r})})},nu=(i=e=>{let{doc:t,editor:n,theme:i,isOpen:r,onClose:o,onOpen:s}=e,[a,c]=(0,j.useState)([]),[u,d]=(0,j.useState)(null),{getAllCards:h,setUserMessage:p}=t8(),f=(0,j.useCallback)(()=>{o(),c([]),d(null)},[o]),x=(0,j.useCallback)(()=>{if(f(),!n)return;let e={type:"document",content:h()};console.log("[handleConfirm] contentToUse",e);let t=1,i=n.state.doc.nodeSize-2,r=(0,eV.Bw)(n,u);if(r){i=(t=r.pos)+r.node.nodeSize;let n=e.content.find(e=>{var t;return(null===(t=e.attrs)||void 0===t?void 0:t.id)===u});if(!n){console.warn("[handleConfirm] Count not find card to use");return}e=n}n.commands.command(r=>{let{tr:o}=r;return o.replaceRangeWith(t,i,t$.NB.fromJSON(n.schema,e)),!0})},[f,n,u,h]),g=(0,j.useCallback)(async(e,t,n)=>{s(),d(t);let i=e.toJSON().content[0].content;c(i.filter(e=>{var n;return null===t||(null===(n=e.attrs)||void 0===n?void 0:n.id)===t})),p(n)},[s,p]);return(0,j.useEffect)(()=>{if(n)return tQ.T.on("openSuggestionEditor",e=>{let{cardId:t,userMessage:i}=e;g(n.view.state.doc,t,i)})},[n,g]),(0,l.jsxs)(tW.d,{placement:"bottom",onClose:o,isOpen:r,trapFocus:!0,isFullHeight:!0,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(tq.s,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transform:"none !important",children:[(0,l.jsx)(tZ.o,{zIndex:"10",backgroundColor:"white",mr:2,shadow:"md"}),(0,l.jsx)(tK.f,{p:0,h:"100%",children:a.length>0&&t?(0,l.jsx)(ns,{doc:t,cards:a,theme:i}):(0,l.jsx)(tJ.AA,{})}),(0,l.jsx)(tY.m,{borderTop:"1px solid #000",borderColor:"gray.200",children:(0,l.jsxs)(eg.h,{spacing:4,children:[(0,l.jsx)(ex.z,{variant:"ghost",onClick:o,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ex.z,{variant:"solid",onClick:x,children:(0,l.jsx)(m.cC,{id:"7VpPHA"})})]})})]})]})},(0,j.memo)(e=>(0,l.jsx)(t7,{children:(0,l.jsx)(i,{...e})})));var nd=n(69747),nh=n(12825),np=n(75009),nf=n(20336),nm=n(4030),nx=n(3561),ng={src:"/_next/static/media/Sal-Fishing-2x.1a2d0290.png"},nv=n(46640),nj=n(83906),nb=n(10625),ny=n(67046),nC=n(99058),nk=n(44035),nw=n(39237),nD=n(82108),n_=n.n(nD);let nE=e=>{let{count:t,onClose:n,commentStatusFilter:i,setCommentStatusFilter:r}=e,o=i===C.Ux9.Open?x.ag._({id:"Kz1TxG"}):x.ag._({id:"kywJax"});return(0,l.jsxs)(c.k,{width:"100%",px:6,py:4,justifyContent:"space-between",alignItems:"center",h:16,tabIndex:0,outline:"none",children:[(0,l.jsx)(eQ.X,{size:"md",flex:1,noOfLines:1,children:(0,l.jsx)(m.cC,{id:"eiUA4k",values:{count:t}})}),(0,l.jsxs)(nb.v,{closeOnSelect:!0,children:[(0,l.jsx)(ny.j,{as:ex.z,size:"sm",rightIcon:(0,l.jsx)(nj.v,{}),mr:8,children:n_()(o)}),(0,l.jsx)(nC.q,{zIndex:3,children:(0,l.jsxs)(nk._,{defaultValue:i,title:x.ag._({id:"0cVgUw"}),type:"radio",children:[(0,l.jsx)(nw.i,{onClick:()=>r(C.Ux9.Open),value:"open",children:(0,l.jsx)(m.cC,{id:"1TNIig"})}),(0,l.jsx)(nw.i,{onClick:()=>r(C.Ux9.Closed),value:"closed",children:(0,l.jsx)(m.cC,{id:"D87pha"})})]})})]}),(0,l.jsx)(eJ.P,{position:"absolute",top:2,right:2,onClick:n,"data-comment-feed-close-button":!0})]})};var nS=n(57480);let nA=e=>{let{user:t,editor:n}=e,[i,r]=(0,j.useState)(()=>{let e=(0,nm.W1)(n,nS.Et),t=e&&e.length?e[0]:(0,nm.xN)(()=>nS.Et,n,"");return t});(0,j.useEffect)(()=>{if(i&&n)return()=>{var e,t;null===(e=(t=n.commands).createDraftComment)||void 0===e||e.call(t,i)}},[i,n]);let o=(0,nm.iZ)({draftComment:i,clearDraftComment(){var e,t,o,s;i&&(null===(o=(s=n.commands).removeDraftComments)||void 0===o||o.call(s,[i]));let a=(0,nm.xN)(()=>nS.Et,n,"");null===(e=(t=n.commands).createDraftComment)||void 0===e||e.call(t,a),r(a)},editor:n}),s=(0,j.useCallback)(e=>{let{editor:t}=e;r(e=>e?{...e,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent}:e)},[]);return(0,l.jsx)(nm.Ag,{draftComment:i,user:t,onCommentDraftUpdate:s,onCommentSave:o,commentIdToHighlight:null})},nT=()=>({today:x.ag._({id:"ecUA8p"}),thisWeek:x.ag._({id:"yByRxz"}),earlier:x.ag._({id:"HPqZkW"})}),nI=e=>{var t;let{onClose:n,editor:i}=e,r=(0,U.CG)(B.yx),{isConnected:o}=(0,C.$gs)(),[s,a]=(0,j.useState)(C.Ux9.Open),h=null==r?void 0:r.comments,p=null==r?void 0:null===(t=r.comments)||void 0===t?void 0:t.filter(e=>e.status===s),f=(0,U.CG)(B.gh),x=(0,e$.py)("comment",r),g=x&&o,{user:v}=(0,e$.SE)(),b=(0,k.$m)(r,v),y=(0,j.useMemo)(()=>{let e=(0,nv.yd)({items:p||[],sortBy:nv.Yz,latestTimeGetterFn:nv.z3});return e},[p]);return h&&r&&i?(0,l.jsxs)(c.k,{direction:"column",h:"100%",overflowX:"hidden",className:nx.G,w:"100%",children:[(0,l.jsx)(nE,{commentStatusFilter:s,setCommentStatusFilter:a,count:(null==p?void 0:p.length)||0,onClose:n}),(0,l.jsxs)(c.k,{direction:"column",className:"comments-list",flex:1,overflowY:"auto",tabIndex:0,outline:"none",children:[(0,l.jsx)(nf.V,{label:(0,l.jsx)(m.cC,{id:"pQvCbR"}),isConnected:o,mx:6}),b&&!v&&r&&(0,l.jsx)(nm.IZ,{doc:r,accessLink:b}),g&&(0,l.jsx)(d.xu,{px:6,py:2,children:(0,l.jsx)(nA,{user:v,editor:i})}),!(null==p?void 0:p.length)&&(0,l.jsxs)(e0.g,{align:"center",p:6,textAlign:"center",spacing:8,children:[(0,l.jsx)(d.xu,{w:"80%",maxW:"300px",mb:6,alignContent:"center",children:(0,l.jsx)(np.E,{src:ng.src,width:"640px",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,l.jsxs)(d.xu,{children:[(0,l.jsx)(eQ.X,{size:"xs",mb:2,children:"open"===s?(0,l.jsx)(m.cC,{id:"W7i5f5"}):(0,l.jsx)(m.cC,{id:"mpDN1V"})}),(0,l.jsx)(u.x,{fontSize:"sm",children:(0,l.jsx)(m.cC,{id:"iB9OEi"})})]})]}),Object.entries(y).filter(e=>{let[,t]=e;return t.length}).map(e=>{let[t,o]=e;return(0,l.jsxs)(c.k,{direction:"column",children:[(0,l.jsx)(ev.NZ,{px:6,pt:4,pb:2,position:"sticky",top:-2,bg:"white",zIndex:2,children:nT()[t]}),(0,l.jsx)(c.k,{direction:"column",children:o.map(e=>(0,l.jsx)(nm.q5,{instanceType:"feed",userCanComment:g,editor:i,comment:e,selfUser:v,docId:null==r?void 0:r.id,editorMode:f,onClose:n,isRootComment:!0,pt:6,px:6,pb:4},e.id))})]},t)})]})]}):null},nO=e=>{let{closePanel:t,...n}=e,{editor:i}=(0,nh._)();return(0,j.useEffect)(()=>{let e=e=>{let{open:n}=e;n&&t()};return nd.pw.on(nd.TI.POPUP_COMMENT_TOGGLED,e),()=>{nd.pw.on(nd.TI.POPUP_COMMENT_TOGGLED,e)}},[t]),(0,j.useEffect)(()=>eb.F7.on("keydown","COMMENT_FEED_PANEL",e=>!!document.activeElement.closest('[data-panelid="comment-feed-panel"]')&&("Escape"===e.key&&t(),!0)),[t]),(0,l.jsx)(e4.s,{...n,bgColor:"white","data-panelid":"comment-feed-panel",children:(0,l.jsx)(nI,{onClose:t,editor:i})})};nO.panelPosition="right";var nM=n(87202),nF=n(39097),nR=n.n(nF),nN=n(14764),nP=n(74684),nL=n(21733);let nz=e=>{var t,n;let i=(0,U.CG)(B.yx),{user:r}=(0,nL.SE)(),o=(0,nL.py)("manage",i)&&!!r,s=null==i?void 0:null===(t=i.docGenerateInput)||void 0===t?void 0:t.docGeneration;if(i&&s&&(null===(n=i.createdBy)||void 0===n?void 0:n.id)===(null==r?void 0:r.id)&&o)return(0,eC.Xn)(s,e)};var nG=n(47443),nU=n(80877),nB=n(74444),nH=n(67422);let nW=e=>{let{onClose:t}=e;return(0,l.jsxs)(t_.K,{flex:1,align:"center",justify:"center",p:6,spacing:6,children:[(0,l.jsx)(np.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/b4b04402416f4ec8b5c1dc24f4c2a3d6/optimized/Sal-Spaceship-Riding.png",px:12}),(0,l.jsx)(nH.K,{children:(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"jVQv+Q"})})}),(0,l.jsx)(ex.z,{variant:"ghost",colorScheme:"blackAlpha",leftIcon:(0,l.jsx)(f.G,{icon:p.g82}),onClick:t,children:(0,l.jsx)(m.cC,{id:"pqZJT2"})})]})},nV=()=>(0,l.jsxs)(nG.b,{status:"warning",mt:12,minH:20,flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",borderRadius:"lg",borderWidth:"1px",children:[(0,l.jsx)(nU.C,{children:(0,l.jsx)(m.cC,{id:"rvbk/4"})}),(0,l.jsx)(nB.X,{children:(0,l.jsx)(m.cC,{id:"XNkIFY"})})]});var nq=n(74105),nZ=n(29494),nK=n(27191),nY=n(4878);let nX="40px",n$=e=>{let{value:t,onChange:n,onSubmit:i,isLoading:r,editor:o,resetMessages:s}=e;(0,nY.F1)(o);let{selection:a,doc:c}=o.state,d=c.textBetween(a.from,a.to,"\n"),h=(0,X.Y)("unlimited_credits"),p=(0,j.useRef)(null),[m,g]=(0,j.useState)(!1),v=a instanceof nK.qv,b=a instanceof nK.Bs,y=v&&"card"===a.node.type.name,C=a.empty||y?x.ag._({id:"XrfE9D"}):v?x.ag._({id:"CsUli9"}):b&&d?x.ag._({id:"+NPPZN",values:{0:d.length>50?d.slice(0,50)+"...":d}}):x.ag._({id:"/fY1js"}),k=(0,j.useCallback)(()=>{p.current&&(p.current.style.height=nX,p.current.style.height="".concat(p.current.scrollHeight,"px"))},[]);return(0,j.useEffect)(()=>(o.on("selectionUpdate",k),()=>{o.off("selectionUpdate",k)}),[o,k]),(0,j.useEffect)(()=>{m?k():setTimeout(()=>{g(!0),k()},400)},[m,C,k,t]),(0,l.jsxs)(em.U,{align:"end",children:[(0,l.jsx)(nq.B,{size:"md",children:(0,l.jsx)(nZ.g,{"data-gamma-child-tiptap-editor":!0,id:"ai-chat-input",h:nX,minH:nX,ref:p,resize:"none",maxH:m?32:nX,bg:"white",shadow:"md",autoFocus:!0,placeholder:C,value:t,onKeyPress:e=>{"Enter"===e.key&&t.length>0&&!r&&(e.preventDefault(),i())},onChange:e=>n(e.target.value),pr:12})}),(0,l.jsx)(ev.kH,{placement:"top",label:(0,l.jsxs)(e0.g,{spacing:0,children:[(0,l.jsx)(u.x,{children:"Send request"}),!h&&(0,l.jsxs)(u.x,{color:"gray.400",children:[(0,l.jsx)(e3.J,{type:"chatSuggestion",ml:0})," if successful"]}),(0,l.jsx)(ev.f2,{shortcut:"Enter"})]}),children:(0,l.jsx)(T.h,{"aria-label":"Send message",isDisabled:!t||r,size:"sm",h:nX,w:nX,variant:"solid",icon:(0,l.jsx)(f.G,{icon:e2.FzC,fixedWidth:!0}),onClick:i})})]})};var nJ=n(28086),nQ=n(26031),n0=n(66214);let n1=e=>{let{editor:t,scrollSelector:n,onClose:i}=e,[r,o]=(0,j.useState)(""),s=(0,tr.ye)("openAiStatus"),a=(0,U.TL)(),u=(0,eW.As)("editor"),d=(0,U.qr)(),h=(0,U.CG)(nQ.AZ),x=(0,U.CG)(nQ.Q_),[g,v]=(0,j.useState)(null),b=(0,j.useCallback)(()=>{let e=(0,nQ.AZ)(d.getState());return e},[d]),y=(0,j.useCallback)(e=>{let t={timestamp:Date.now(),...e};a((0,nQ.Hz)({message:t}))},[a]),C=(0,j.useCallback)(()=>{a((0,nQ.mc)())},[a]),{status:k,sendMessage:w}=(0,n0.n)({addMessage:y,getMessageHistory:b,editor:t});(0,j.useEffect)(()=>{let e=n&&document.querySelector(n);e&&requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight})},[n,h]);let D="idle"!==k;(0,j.useEffect)(()=>{if(!x.length||D)return;let{task:e,id:t}=x[0];!1===e.submit?o(e.message):w({message:e.message}),a((0,nQ.VB)({id:t}))},[D,w,a,x]);let _=(0,j.useCallback)(()=>{if(!g||!t)return;let e=document.querySelector('[data-card-id="'.concat(g,'"]')),n=(0,eW.v4)(e,100);null!=n&&n.yAxisInView||u.scrollElementIntoView({element:e})},[t,u,g]),E=(0,j.useCallback)(e=>{_(),w({message:e})},[_,w]),S=(0,j.useCallback)(()=>{E(r),o("")},[E,r]),A=(0,tu.YO)(S,"chatSuggestion",ez.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_CHAT);(0,j.useEffect)(()=>{if(!t)return;let e=()=>{let e=(0,nP.AQ)(t.state.doc,t.state.selection.from);e&&v(e.node.attrs.id)};return e(),t.on("selectionUpdate",e),()=>{t.off("selectionUpdate",e)}},[t]);let I=nz();return t?"DOWN"===s?(0,l.jsx)(nW,{onClose:i}):(0,l.jsxs)(c.k,{direction:"column",h:"100%",w:"100%",px:6,pb:2,children:["DEGRADED"===s&&(0,l.jsx)(nV,{}),(0,l.jsx)(nJ.rN,{scrollSelector:n,messages:h,editor:t,sendMessage:E,isLoading:D,onClose:i}),(0,l.jsxs)(t_.K,{pos:"sticky",bottom:0,py:2,pt:4,bg:"gray.50",children:[(0,l.jsx)(n$,{editor:t,value:r,onChange:o,onSubmit:A,isLoading:D,resetMessages:C}),(0,l.jsx)(nN.r,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:ez.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_CHAT})]}),(0,l.jsxs)(eg.h,{position:"absolute",left:4,top:1,variant:"ghost",colorScheme:"blackAlpha",children:[(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"5eg0kp"}),placement:"top",children:(0,l.jsx)(T.h,{color:"currentColor","aria-label":"reset-chat",icon:(0,l.jsx)(f.G,{icon:p.YcH}),onClick:C,isRound:!0})}),I&&(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"pC3anp",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}),placement:"top",children:(0,l.jsx)(T.h,{color:"currentColor","aria-label":"source-prompt",icon:(0,l.jsx)(f.G,{icon:p.Fzb}),as:nR(),href:I,target:(0,ey.Q5)()?"_self":"_blank",isRound:!0})})]})]}):null};var n2=n(48892);let n3=e=>{let{onClose:t}=e;return(0,l.jsx)(c.k,{width:"100%",px:6,py:4,justifyContent:"space-between",alignItems:"center",h:8,tabIndex:0,outline:"none",position:"absolute",top:0,children:(0,l.jsx)(eJ.P,{"data-design-partner-close-button":!0,position:"absolute",top:2,right:6,zIndex:1,onClick:t})})},n5="design-partner-panel-wrapper",n4=e=>{let{toggleDesignPartnerPanel:t,isDesignPartnerPanelOpen:n,editor:i}=e,r=(0,tr.ye)("aiChat"),o=(0,U.TL)();(0,j.useEffect)(()=>()=>{o((0,nQ.mc)())},[]);let s=(0,U.CG)(B.hN);(0,j.useEffect)(()=>{!s&&n&&t()},[s,n,t]),(0,j.useEffect)(()=>{var e,t;i&&(null===(e=(t=i.commands).setSalOpen)||void 0===e||e.call(t,n))},[i,n]),(0,j.useEffect)(()=>{if(r)return n2.T.on("toggle",e=>{let{config:n}=e;t(n)})},[t,r]),(0,j.useEffect)(()=>{if(r)return nd.pw.on("queueDesignPartnerTask",e=>{o((0,nQ.Lj)({task:e})),t({disableTransition:!1,override:"open"}),console.log("queueDesignPartnerTask",e)})},[o,r,t]),(0,j.useEffect)(()=>{if(!r||!s)return;let e=(0,nM.ZP)("mod+shift+S");return eb.F7.on("keydown","DESIGN_PARTNER_PANEL",n=>!!e(n)&&(t(),!0))},[t,r,s])},n6=e=>{let{closePanel:t,...n}=e,{editor:i}=(0,nh._)();return(0,j.useEffect)(()=>eb.F7.on("keydown","DESIGN_PARTNER_PANEL",e=>!!document.activeElement.closest('[data-panelid="design-partner-panel"]')&&"Escape"===e.key&&(t(),!0)),[t]),(0,l.jsx)(e4.s,{...n,bgColor:"gray.50","data-panelid":"design-partner-panel",borderLeftWidth:"1px",children:(0,l.jsxs)(c.k,{direction:"column",h:"100%",overflowY:"auto",overflowX:"hidden",className:n5,w:"100%",children:[(0,l.jsx)(n3,{onClose:t}),(0,l.jsx)(n1,{editor:i,scrollSelector:".".concat(n5),onClose:t})]})})};n6.panelPosition="right";var n8=n(70065),n7=n(26284),n9=n(87651),ie=n(17190),it=n(41774),ii=n(84405),ir=n(7207),io=n(76332);let is=e=>{var t,n;let{doc:i,site:r,path:o}=e,s=(0,n8.p)(),a=(0,U.TL)(),c=(0,U.CG)(eA.v),[h]=(0,io.zU5)(),[x]=(0,io.sIg)(),[g]=(0,io.odt)(),[v,{loading:b}]=(0,io.kui)(),[y,{loading:C}]=(0,io.V$$)(),k=(0,U.CG)(eA.B$),w=null==i?void 0:i.id,D=null==i?void 0:null===(t=i.organization)||void 0===t?void 0:t.id,_=(0,eO.mn)({domain:null==r?void 0:null===(n=r.domains)||void 0===n?void 0:n[0],path:o}),E=null==r?void 0:r.id,S=(0,j.useCallback)(async()=>{w&&((0,eA.yB)(a)(!0),await (0,eO.iL)(w),await x({variables:{id:w},refetchQueries:["GetDoc","GetSite"]}).then(()=>{s({render:function(){return(0,l.jsx)(d.xu,{color:"white",p:3,bg:"green.500",shadow:"md",borderRadius:"md",children:(0,l.jsxs)(em.U,{spacing:4,children:[(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:p.fV7})}),(0,l.jsx)(u.x,{fontWeight:"semibold",children:(0,l.jsx)(m.cC,{id:"V6Byuz"})}),_&&(0,l.jsx)(ex.z,{variant:"plain",as:"a",target:"_blank",_hover:{textDecoration:"none",color:"trueblue.500"},href:_,rightIcon:(0,l.jsx)(f.G,{icon:p.wlW}),children:(0,l.jsx)(m.cC,{id:"Zel0o2"})}),(0,l.jsx)(eJ.P,{onClick:()=>s.closeAll()})]})})},status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(e=>{s({title:(0,l.jsx)(m.cC,{id:"DD5mqk"}),status:"error",position:"top",isClosable:!0}),console.error("Error publishing site:",e.message)}).finally(()=>{(0,eA.yB)(a)(!1)}))},[a,w,x,s,_]),A=(0,j.useCallback)(async()=>{E&&((0,eA.yB)(a)(!0),k&&await (0,eO.iL)(k),await h({variables:{id:E},update:(e,t)=>{let{data:n}=t,i=null==n?void 0:n.publishSite;i&&i.routes.forEach(t=>{e.updateQuery({query:io.yE1,variables:{id:t.docId}},e=>{var n,i,r;if(e||console.log("%c Publish doc _data is undefined or null","color: red; font-size: 16px"),!(null==e?void 0:e.doc))return e;let o=e.doc;return{doc:{...o,publishedTime:null===(n=t.doc)||void 0===n?void 0:n.publishedTime,publishedSnapshotId:null===(i=t.doc)||void 0===i?void 0:i.publishedSnapshotId,currentSnapshotId:null===(r=t.doc)||void 0===r?void 0:r.currentSnapshotId}}})})}}).then(()=>{s({render:function(){return(0,l.jsx)(d.xu,{color:"white",p:3,bg:"green.500",shadow:"md",borderRadius:"md",children:(0,l.jsxs)(em.U,{spacing:4,children:[(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:p.fV7})}),(0,l.jsx)(u.x,{fontWeight:"semibold",children:(0,l.jsx)(m.cC,{id:"V6Byuz"})}),_&&(0,l.jsx)(ex.z,{variant:"plain",as:"a",target:"_blank",_hover:{textDecoration:"none",color:"trueblue.500"},href:_,rightIcon:(0,l.jsx)(f.G,{icon:p.wlW}),children:(0,l.jsx)(m.cC,{id:"Zel0o2"})}),(0,l.jsx)(eJ.P,{onClick:()=>s.closeAll()})]})})},status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(e=>{s({title:(0,l.jsx)(m.cC,{id:"DD5mqk"}),description:(0,l.jsx)(m.cC,{id:"R4PZ4k"}),status:"error",position:"top",isClosable:!0}),console.error("Error publishing site:",e.message)}).finally(()=>{(0,eA.yB)(a)(!1)}))},[E,a,k,h,s,_]),T=(0,j.useCallback)(async e=>{if(E&&w)try{await v({variables:{input:{siteId:E,name:e}},refetchQueries:["GetSites","GetDoc"]})}catch(e){console.error("Error adding domain:",e),s({status:"error",title:(0,l.jsx)(m.cC,{id:"HugOMA"}),isClosable:!0,position:"top"})}},[v,w,E,s]),I=(0,j.useCallback)(async e=>{w&&y({variables:{input:{workspaceId:D,name:e,routes:[]}},refetchQueries:["GetSites","GetDoc"]}).catch(e=>{console.error("Error creating site:",e.message)})},[w,D,y]),O=(0,j.useCallback)(async()=>{if(!w||!E)return;let e=(0,eO.kj)({routes:(null==r?void 0:r.routes)||[],docId:w,path:o});await g({variables:{input:{siteId:E,routes:e}}})},[g,w,null==r?void 0:r.routes,E,o]);return{publishSite:A,publishDoc:S,addDomain:T,isAddingDomain:b,createSite:I,isCreatingSite:C,updateRoutes:O,isPublishing:c}};var ia=n(45820),il=n(73230),ic=n(49516),iu=n(49580),id=n(49197),ih=n(21723),ip=n(704);let im=e=>{let{onGenerateSuccess:t}=e,[n,i]=(0,j.useState)("createGenerate"),[r,o]=(0,j.useState)([]),[s,a]=(0,j.useState)(void 0),c=(0,j.useMemo)(()=>({goToScreen:(e,t)=>{a(null==t?void 0:t.generateId),o(e=>[...e,n]),i(e)},goBack:()=>{o(e=>{let t=[...e],n=t.pop();return n&&i(n),t})},navEnabled:"createGenerate"!==n,webpageOnly:!0,skipThemeStep:!0,onGenerateSuccess:t}),[n,t]),u=(0,j.useMemo)(()=>{switch(n){case"createWithAI":return iu.B;case"createImport":return ic.j;case"createPaste":return id.L;case"promptEditor":return function(){return(0,l.jsx)(ih.B,{id:s,children:(0,l.jsx)(ia.N,{})})};case"createGenerate":return function(){return s?(0,l.jsx)(ih.B,{id:s,children:(0,l.jsx)(il.m,{autosetLocale:!1})}):(0,l.jsx)(il.m,{autosetLocale:!0})};default:throw Error("invalid page")}},[s,n]);return(0,l.jsx)(ip.u.Provider,{value:c,children:(0,l.jsx)(u,{})})},ix=e=>{let{isOpen:t,onClose:n}=e;return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(tW.d,{isOpen:t,placement:"bottom",onClose:n,isFullHeight:!0,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(tq.s,{h:"calc(var(--100vh) - 24px)",p:0,children:[(0,l.jsx)(tZ.o,{zIndex:"sticky"}),(0,l.jsx)(tK.f,{p:0,children:(0,l.jsx)(im,{onGenerateSuccess:n})})]})]})})},ig=()=>{var e;let t=(0,U.CG)(tG.yx),n=(0,eM.Yy)(),i=(0,n8.p)(),r=null==t?void 0:null===(e=t.accessLinks)||void 0===e?void 0:e[0],o=(0,j.useMemo)(()=>(0,eC.Gn)({docTitle:null==t?void 0:t.title,docId:null==t?void 0:t.id,token:null==r?void 0:r.token,absolute:!0}),[t,null==r?void 0:r.token]),{onCopy:s}=(0,n7.V)(o),a=(0,j.useCallback)(()=>{(0,ii.J)({docId:null==t?void 0:t.id,source:"docWizardFooter",type:"tokenUrl"}),s(),i({title:(0,l.jsx)(m.cC,{id:"pQjjYo"}),status:"success",position:"top",duration:1e3,isClosable:!1})},[null==t?void 0:t.id,s,i]),c=nz();return(0,l.jsxs)(t_.K,{spacing:4,textAlign:"center",children:[(0,l.jsx)(eQ.X,{size:"md",children:(0,l.jsx)(m.cC,{id:"bB+DHs"})})," ",(0,l.jsx)(ex.z,{as:nR(),target:(0,ey.Q5)()?"_self":"_blank",variant:"solid",colorScheme:n?"blackAlpha":"whiteAlpha",leftIcon:(0,l.jsx)(f.G,{icon:p.r8p}),href:"/create",children:(0,l.jsx)(m.cC,{id:"xFxi2V"})}),c?(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:p.Fzb}),variant:"plain",as:nR(),target:(0,ey.Q5)()?"_self":"_blank",href:c,children:(0,l.jsx)(m.cC,{id:"550oRP"})}):(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:p.nNP}),variant:"plain",onClick:a,children:(0,l.jsx)(m.cC,{id:"RGCCrg"})})]})},iv=()=>{let{isOpen:e,onClose:t,onOpen:n}=(0,nl.M)({id:"add-page-ai-modal"}),i=(0,U.CG)(eA.lH),r=(0,eO.Vr)(i),{publishSite:o,isPublishing:s}=is({site:i}),a=(0,eM.Yy)();return(0,l.jsxs)(t_.K,{spacing:4,textAlign:"center",children:[(0,l.jsx)(eQ.X,{size:"md",children:(0,l.jsx)(m.cC,{id:"bB+DHs"})}),(0,l.jsx)(ex.z,{variant:"solid",colorScheme:a?"blackAlpha":"whiteAlpha",leftIcon:(0,l.jsx)(f.G,{icon:p.r8p}),onClick:n,children:(0,l.jsx)(m.cC,{id:"K3193W"})}),r&&(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:p.A$k}),variant:"plain",onClick:o,isLoading:s,children:(0,l.jsx)(m.cC,{id:"2uGo/E"})}),(0,l.jsx)(ix,{isOpen:e,onClose:t})]})};var ij=n(35183),ib=n(97166),iy=n(89099),iC=n(14304),ik=n.n(iC),iw=n(35676),iD=n.n(iw),i_=n(3440),iE=n.n(i_),iS=n(46152),iA=n.n(iS);let iT=[{key:"num_cards",category:"length",label:(0,l.jsx)(m.cC,{id:"UnRHxh"})},{key:"content_quality",category:"content",label:(0,l.jsx)(m.cC,{id:"5w/BaJ"})},{key:"missing_content",category:"content",label:(0,l.jsx)(m.cC,{id:"XoKzka"})},{key:"wrong_language",category:"content",label:(0,l.jsx)(m.cC,{id:"R2Ly6h"})},{key:"amount_of_text",category:"content",label:(0,l.jsx)(m.cC,{id:"pi+Tez"})},{key:"inappropriate_content",category:"content",label:(0,l.jsx)(m.cC,{id:"i/9pR4"})},{key:"citations",category:"content",label:(0,l.jsx)(m.cC,{id:"EpFwDO"})},{key:"inaccurate_content",category:"content",label:(0,l.jsx)(m.cC,{id:"Qk+SyG"})},{key:"image_quality",category:"image",label:(0,l.jsx)(m.cC,{id:"ESjmDR"})},{key:"number_of_images",category:"image",label:(0,l.jsx)(m.cC,{id:"x6yr/9"})},{key:"layouts_and_templates",category:"layout",label:(0,l.jsx)(m.cC,{id:"5yz5Kl"})},{key:"theme_styling",category:"layout",label:(0,l.jsx)(m.cC,{id:"d3n/st"})}],iI={key:"other",category:"other",label:(0,l.jsx)(m.cC,{id:"/IX/7x"})},iO=[{key:"bad",label:(0,l.jsx)(m.cC,{id:"XSfVsn"}),ariaLabel:()=>x.ag._({id:"XSfVsn"}),icon:p.KfU,color:"red"},{key:"meh",label:(0,l.jsx)(m.cC,{id:"0ASQJH"}),ariaLabel:()=>x.ag._({id:"0ASQJH"}),icon:p.C4q,color:"yellow"},{key:"good",label:(0,l.jsx)(m.cC,{id:"9ZYnL5"}),ariaLabel:()=>x.ag._({id:"9ZYnL5"}),icon:p.ctA,color:"green"}],iM=e=>{let{docId:t,isDark:n,interactionId:i}=e,[r,o]=(0,j.useState)(null),[s,a]=(0,j.useState)(!1),[c,h]=(0,j.useState)(""),x=(0,j.useMemo)(()=>iD()(iA()(iE()(iA()(iT),"category"))).concat([iI]),[]),[g,v]=(0,j.useState)(new Set),b=(0,j.useRef)(null),y=(0,n8.p)(),C=(0,j.useCallback)(e=>{o(e),(0,tc.fM)({rating:e,doc_id:t,interactionId:i}),y({title:(0,l.jsx)(m.cC,{id:"2gZOCV"}),status:"success",position:"top",duration:1e3}),setTimeout(()=>{var e;null==b||null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},200)},[t,i,y]),k=(0,j.useCallback)(e=>{e||((0,tc.XH)({feedback:ik().sanitize(c),tags:Array.from(g),rating:r,doc_id:t,interactionId:i}),y({title:(0,l.jsx)(m.cC,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0})),a(!0)},[t,c,i,y,g,r]);return(0,l.jsx)(d.xu,{p:4,borderRadius:"lg",border:"1px solid",borderColor:n?"whiteAlpha.100":"gray.200",position:"relative",children:s?(0,l.jsxs)(u.x,{color:n?"green.400":"green.600",textAlign:"center",children:[(0,l.jsx)(f.G,{icon:p.fV7})," ",(0,l.jsx)(m.cC,{id:"SOk0EB"})]}):(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsxs)(t_.K,{alignItems:"center",spacing:"1",children:[(0,l.jsx)(u.x,{fontSize:"sm",color:n?"whiteAlpha.800":"gray.500",children:(0,l.jsx)(m.cC,{id:"E47gBS"})}),r?(0,l.jsxs)(u.x,{textAlign:"center",color:n?"green.400":"green.600",children:[(0,l.jsx)(f.G,{icon:p.fV7})," ",(0,l.jsx)(m.cC,{id:"SOk0EB"})]}):(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"cguR5Y"})})]}),(0,l.jsx)(em.U,{fontSize:"xl",width:"100%",children:iO.map(e=>{let{key:t,ariaLabel:i,label:o,icon:s,color:a}=e,c=r===t;return(0,l.jsx)(iR,{ariaLabel:i,label:o,icon:s,color:a,onClick:()=>C(t),isSelected:c,isDisabled:!1,isDark:n},t)})}),r&&"good"!==r&&(0,l.jsxs)(ij.NI,{children:[(0,l.jsx)(ib.l,{fontSize:"sm",color:n?"whiteAlpha.800":"gray.500",children:(0,l.jsx)(m.cC,{id:"467HY8"})}),(0,l.jsx)(iy.E,{children:x.map(e=>{let{key:t,label:i}=e;return(0,l.jsx)(iy.U,{onClick:()=>{v(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},children:(0,l.jsx)(iF,{label:i,isDark:n,isSelected:g.has(t)})},t)})})]}),r&&(0,l.jsxs)(ij.NI,{textAlign:"center",children:[(0,l.jsx)(ib.l,{fontSize:"sm",color:n?"whiteAlpha.800":"gray.500",children:"good"===r?(0,l.jsx)(m.cC,{id:"AmM8eQ"}):(0,l.jsx)(m.cC,{id:"PhJTrf"})}),(0,l.jsx)(nZ.g,{value:c,onChange:e=>{h(e.target.value)},placeholder:"",size:"sm",mb:"4"}),(0,l.jsxs)(eg.h,{spacing:"4",ref:b,children:[(0,l.jsx)(ex.z,{variant:"text",onClick:()=>{k(!0)},children:(0,l.jsx)(m.cC,{id:"6Uau97"})}),(0,l.jsx)(ex.z,{variant:"solid",isDisabled:""===c&&0===g.size,onClick:()=>k(!1),minW:32,children:(0,l.jsx)(m.cC,{id:"hQRttt"})})]})]})]})})},iF=e=>{let{label:t,isDark:n,isSelected:i}=e;return(0,l.jsx)(ex.z,{variant:"plain",size:"sm",height:"6",boxShadow:"none",bgGradient:"none",bg:i?n?"purple.500":"purple.100":n?"gray.800":"gray.50",color:i?n?"white":"purple.700":n?"white":"gray.800",borderColor:n?"whiteAlpha.200":"blackAlpha.200",_hover:{color:void 0},cursor:"pointer",children:t})},iR=e=>{let{label:t,ariaLabel:n,icon:i,color:r,isSelected:o,onClick:s,isDisabled:a,isDark:c}=e;return(0,l.jsx)(ev.kH,{label:t,placement:"top",children:(0,l.jsx)(T.h,{"aria-label":n(),boxShadow:"none",bg:o?c?"".concat(r,".200"):"".concat(r,".100"):c?"whiteAlpha.300":"gray.50",_disabled:{opacity:"".concat(o?1:.5),cursor:"not-allowed"},color:o?c?"".concat(r,".600"):"".concat(r,".500"):c?"whiteAlpha.800":"gray.500",_hover:{backgroundColor:"".concat(r,".100"),color:"".concat(r,".500")},flex:1,icon:(0,l.jsx)(u.x,{fontSize:"2xl",children:(0,l.jsx)(f.G,{icon:i})}),isDisabled:a,variant:"plain",onClick:s})})};var iN=n(39122),iP=n(34881);let iL=["90%","360px"],iz=e=>{let{onClose:t,eyebrowText:n,mainText:i,callsToAction:r}=e;return(0,l.jsxs)(d.xu,{bg:"white",border:"0.5px solid var(--chakra-colors-gray-100)",borderRadius:"md",shadow:"md",p:4,w:iL,maxW:iL,position:"relative",children:[(0,l.jsx)(eJ.P,{size:"sm",onClick:t,position:"absolute",insetEnd:1,top:1}),(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsxs)(t_.K,{spacing:1,paddingEnd:3,children:[!(0,ey.s2)()&&(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.600",children:n}),(0,l.jsx)(u.x,{fontSize:"md",children:i})]}),(0,l.jsx)(d.xu,{w:"100%",children:r})]})]})},iG=e=>{let{onClose:t,startTour:n}=e;return(0,l.jsx)(iz,{eyebrowText:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{"aria-label":"Wave",role:"img",children:"\uD83D\uDC4B"})," ",(0,l.jsx)(m.cC,{id:"IiwaCT",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})]}),mainText:(0,l.jsx)(m.cC,{id:"ntWFEH"}),onClose:t,callsToAction:(0,l.jsx)(ex.z,{size:"md",w:"100%",variant:"solid",onClick:()=>{n(0),t()},children:(0,l.jsx)(m.cC,{id:"VzFYDl"})})})};var iU=n(38914);let iB=["90%","360px"],iH=e=>{let{onClose:t}=e,[n,i]=(0,j.useState)(!0);return(0,j.useEffect)(()=>{setTimeout(()=>{i(!1)},3e3)},[]),(0,l.jsxs)(d.xu,{bg:"white",border:"0.5px solid var(--chakra-colors-gray-100)",borderRadius:"md",shadow:"md",p:4,w:iB,maxW:iB,position:"relative",children:[(0,l.jsx)(eJ.P,{size:"md",onClick:t,position:"absolute",insetEnd:1,top:1}),(0,l.jsxs)(t_.K,{direction:"row",spacing:3,justify:"center",w:"100%",alignItems:"center",children:[(0,l.jsx)(d.xu,{color:"trueblue.300",children:(0,l.jsx)(f.G,{icon:iU.tc$,size:"2x",className:n?"fa-bounce":void 0})}),(0,l.jsxs)(t_.K,{spacing:0,direction:"column",flex:1,textAlign:"left",children:[(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.600",children:(0,l.jsx)(m.cC,{id:"eoDgVo"})}),(0,l.jsx)(u.x,{fontSize:"md",children:(0,l.jsx)(m.cC,{id:"p7dFyi"})})]})]})]})},iW="source",iV="desktop-tour-toast",iq="switch-from-mobile-to-desktop-toast",iZ=e=>{var t;let{editor:n}=e,i=(0,n8.p)(),r=(0,U.CG)(tG.yx),{startTour:o}=(0,w.c8)(),{user:s,setSettings:a}=(0,e$.SE)(),[l,c]=(0,j.useState)(!1),u=(0,j.useRef)(!1),d=!!(null==s?void 0:null===(t=s.settings)||void 0===t?void 0:t.needsEditorOnboarding),h=(0,U.CG)((0,it.oH)(null==n?void 0:n.gammaDocId)),p=!!h&&"running"===h.status,f=!!h&&("complete"===h.status||"error"===h.status),m=(0,eW.As)("editor"),[x,g]=(0,j.useState)(null),[v]=(0,j.useState)(()=>(0,eC.SJ)()[iW]===iN.VY),[b]=(0,j.useState)(()=>v&&(0,ey.s2)()),y=v&&f;return(0,j.useEffect)(()=>{n&&c(!p&&!(0,ey.s2)()&&v&&d)},[n,v,p,d]),(0,j.useEffect)(()=>{setTimeout(()=>{(0,iP.lO)({query:{...(0,eC.SJ)(),[iW]:void 0},emitChange:!1})})},[]),(0,j.useEffect)(function(){return l&&!i.isActive(iV)&&setTimeout(()=>{i({id:iV,position:"bottom-left",render:e=>{let{onClose:t}=e;return iG({onClose:()=>{null==a||a({remove:["needsEditorOnboarding"]}),t()},startTour:o})},isClosable:!0,duration:null})},2e3),()=>{i.isActive(iV)&&i.close(iV)}},[a,l,o,i]),(0,j.useEffect)(function(){if(!(0,ey.s2)())return;let e=document.querySelector(m.scrollSelector);if(!e)return;g(e);let t=()=>{if(!x||!(0,ey.s2)())return;let e=(null==x?void 0:x.scrollTop)>=(null==x?void 0:x.scrollHeight)/4;e&&b&&!i.isActive(iq)&&!u.current&&(u.current=!0,i({id:iq,position:"top",render:e=>{let{onClose:t}=e;return iH({onClose:t})},isClosable:!0,duration:null,containerStyle:{minWidth:"100%",display:"flex",justifyContent:"center"}}))};return window.addEventListener("scroll",t,!0),()=>{window.removeEventListener("scroll",t,!0),i.isActive(iq)&&i.close(iq)}},[r,x,m.scrollSelector,b,i]),{showDocWizardFooter:y}},iK=(0,j.memo)(e=>{var t;let{interactionId:n}=e,i=(0,U.CG)(tG.yx),r=(0,eM.Yy)(),[o,s]=(0,j.useState)(!1),a=(0,n8.p)(),u=null==i?void 0:null===(t=i.accessLinks)||void 0===t?void 0:t[0],d=(0,j.useMemo)(()=>(0,eC.Gn)({docTitle:null==i?void 0:i.title,docId:null==i?void 0:i.id,token:null==u?void 0:u.token,absolute:!0}),[i,null==u?void 0:u.token]),{onCopy:h}=(0,n7.V)(d);(0,j.useCallback)(()=>{(0,ii.J)({docId:null==i?void 0:i.id,source:"docWizardFooter",type:"tokenUrl"}),h(),a({title:(0,l.jsx)(m.cC,{id:"pQjjYo"}),status:"success",position:"top",duration:1e3,isClosable:!1})},[null==i?void 0:i.id,h,a]);let p=(0,j.useCallback)(()=>{s(!0)},[]);return(nz(),i)?(0,l.jsx)(ev.Wk,{isDark:r,children:(0,l.jsx)(c.k,{className:"chakra-dont-set-collapse","data-doc-wizard-footer":!0,w:"100%",mt:(0,ey.s2)()?void 0:"-".concat(ir.m),children:(0,l.jsx)(n9.U,{in:!o,style:{width:"100%"},unmountOnExit:!0,children:(0,l.jsx)(c.k,{pt:[10,10,20],pb:[4,4,8],w:"100%",position:"relative",...r?{background:"gray.900",color:"white",borderTop:"2px solid var(--chakra-colors-whiteAlpha-200)"}:{background:"white",color:void 0,borderTop:"2px solid var(--chakra-colors-blackAlpha-200)"},children:(0,l.jsx)(ie.W,{maxW:"450px",children:(0,l.jsxs)(t_.K,{spacing:8,children:[!i.site&&(0,l.jsx)(ig,{}),i.site&&!(0,ey.s2)()&&(0,l.jsx)(iv,{}),(0,l.jsx)(iM,{docId:i.id,isDark:r,interactionId:n}),(0,l.jsx)(tD.M,{pt:[0,0,4],w:"100%",children:(0,l.jsx)(ex.z,{size:"sm",onClick:p,variant:"text",colorScheme:"blackAlpha",children:(0,l.jsx)(m.cC,{id:"vLyv1R"})})})]})})})})})}):null});iK.displayName="DocWizardFooterInner";let iY=e=>{let{editor:t}=e,{showDocWizardFooter:n}=iZ({editor:t}),i=(0,U.CG)((0,it.oH)(null==t?void 0:t.gammaDocId)),r=null==i?void 0:i.id;return n&&r?(0,l.jsx)(iK,{interactionId:r}):(0,l.jsx)(l.Fragment,{})};var iX=n(98537),i$=n.n(iX),iJ=n(11082),iQ=n(12136);let i0=e=>{let{onCloneClick:t,onSignupClick:n,isLoggedIn:i}=e;return(0,l.jsx)(d.xu,{bg:"white",border:"0.5px solid var(--chakra-colors-gray-100)",borderRadius:"md",shadow:"md",display:"column",p:4,position:"relative",children:i?(0,l.jsxs)(em.U,{children:[(0,l.jsxs)(u.x,{mr:1,children:[(0,l.jsx)(m.cC,{id:"HMsJrS",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc},components:{0:(0,l.jsx)("strong",{})}})," ","\uD83D\uDE0D"]}),(0,l.jsx)(ex.z,{variant:"solid",onClick:t,children:(0,l.jsx)(m.cC,{id:"he3ygx"})})]}):(0,l.jsxs)(em.U,{children:[(0,l.jsxs)(u.x,{mr:1,children:[(0,l.jsx)(m.cC,{id:"FEyEJk",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc,GAMMA_PROPER_NOUN:Y.N6},components:{0:(0,l.jsx)("strong",{})}})," ","\uD83D\uDE0D"]}),(0,l.jsx)(nR(),{href:"/signup",passHref:!0,legacyBehavior:!0,children:(0,l.jsx)(ex.z,{as:iJ.r,onClick:n,variant:"solid",textDecoration:"none !important",children:(0,l.jsx)(m.cC,{id:"e+RpCP"})})})]})})},i1=e=>{let t=!(0,ey.s2)(),{user:n}=(0,e$.SE)(),i=(0,n8.p)(),r=(0,j.useRef)(),o=(0,iQ.e)(),s=(0,j.useCallback)(()=>{e&&(null===ez.co||void 0===ez.co||ez.co.track(ez.AA.EXAMPLE_SIGNUP_CLICKED,{doc_id:e.id,title:e.title}))},[e]),a=(0,j.useCallback)(()=>{o({docId:null==e?void 0:e.id,docTitle:null==e?void 0:e.title,source:"example_deck_clone_toast"})},[e,o]);(0,j.useEffect)(()=>()=>{r.current&&i.close(r.current)},[i]);let l=t&&e,c=!!n;(0,tx.vm)(()=>{r.current&&i.close(r.current),l&&(r.current=i({position:"bottom",render:()=>i0({onCloneClick:a,isLoggedIn:c,onSignupClick:s}),isClosable:!0,duration:null}))},[e,t,a,s,l,n,i,c],[l,c])};var i2=n(97857),i3=n(61750),i5=n(73775);let i4="sessionId1",i6=eU.hj.create({addStorage:()=>({user:{}}),addCommands(){return{user:e=>()=>{let t=(0,U.bh)();return this.storage.user=i$()({},this.storage.user,e),t.dispatch((0,B.MU)({sessionId:i4})),t.dispatch((0,B.Tx)({collaborators:[this.storage.user]})),!0}}}}),i8=e=>{var t;let{docId:n,snapshotId:i,scrollingParentSelector:r,onCreate:o}=e,s=(0,U.CG)(tG.yx);i1(s);let[a]=(0,j.useState)(()=>[tI.F,i3.$1.configure({scrollerSelector:r}),i6,i2._g]),{user:u,anonymousUser:h,isUserLoading:p,color:f}=(0,e$.SE)(),[m,x]=(0,j.useState)(),{data:g,loading:v,error:b}=(0,C.EDv)({variables:{docId:n,snapshotId:i},skip:!i});(0,j.useEffect)(()=>{!p&&m&&m.commands.user({id:(null==u?void 0:u.id)||h.id,color:f.value,sessionId:i4,idleSince:null,name:(null==u?void 0:u.displayName)||h.displayName||"",profileImageUrl:(null==u?void 0:u.profileImageUrl)||"",isReady:!p})},[m,u,f,p,h]);let y=g&&void 0!==g.snapshot&&!v&&s;return(0,l.jsxs)(d.xu,{"data-testid":"example-static-editor-wrapper",flex:"1",height:"100%",children:[!y||b?(0,l.jsxs)(c.k,{direction:"column",height:"100%",flex:"1",bg:"gray.100",alignItems:"center",justifyContent:"center",children:[!y&&(0,l.jsx)(tE.$,{}),b&&(0,l.jsxs)(tD.M,{h:"100%",children:["There was an error loading this ",Y.Yc,":"," ",b.message]})]}):(0,l.jsx)(d.xu,{"data-testid":"example-static-editor-wrapper-inner",transitionProperty:"common",transitionDuration:"750ms",transitionTimingFunction:"ease-out",opacity:y?1:0,children:(0,l.jsx)(eF.yE,{doc:s,editorId:"main",docId:n,extensions:a,onCreate:e=>{let{editor:t}=e;x(t),setTimeout(()=>{o&&o(t)},10)},readOnly:!0,initialContent:null===(t=g.snapshot)||void 0===t?void 0:t.content.default,scrollingParentSelector:r})}),(0,l.jsx)(i5.m,{forceShow:!0,abuseReportingEnabled:!1})]})};var i7=n(332),i9=n(48832);let re=e=>{var t;let{site:n}=e,i=null==n?void 0:null===(t=n.currentDeployment)||void 0===t?void 0:t.deploymentTime,r=(0,j.useMemo)(()=>({fromNow:(0,i9.Km)(i),calendar:(0,i9.p6)(i,"PPpp")}),[i]);return(0,l.jsx)(m.cC,{id:"XHgRJj",values:{0:r.fromNow},components:{0:(0,l.jsx)(ev.kH,{label:r.calendar,placement:"top",shouldWrapChildren:!0}),1:(0,l.jsx)(u.x,{as:"span",cursor:"pointer",style:{textDecoration:"underline"}})}})},rt=e=>{let t=(0,U.CG)(eA.lH),n=(0,eO.k2)(t),i=!(0,eO.Vr)(t),r=(0,U.CG)(eA.RM),o=(0,U.CG)(eA.rc),s=e?(0,l.jsx)(m.cC,{id:"mkk40+"}):i?(0,l.jsx)(m.cC,{id:"r5OY1d"}):n?r>0?(0,l.jsx)(m.cC,{id:"pxio6v",values:{changedPagesCount:r}}):o?(0,l.jsx)(m.cC,{id:"G971z4"}):(0,l.jsx)(m.cC,{id:"o+bOqE"}):(0,l.jsx)(m.cC,{id:"tpB6bH"}),a=e?null:i?(0,l.jsx)(m.cC,{id:"u8Rqhk"}):!1===n?(0,l.jsx)(m.cC,{id:"Ys0XoA"}):r>0||o?(0,l.jsx)(m.cC,{id:"Ys0XoA"}):null,c=t?(0,l.jsx)(re,{site:t}):null;return{statusText:s,detailText:a,needsPublish:!n||o||r>0,lastPublishedTime:c,publishEnabled:!1===i&&!e}},rn=e=>{let{context:t,openSiteSettings:n}=e,i=(0,U.CG)(eA.lH),r=(0,e_.O1)(),{publishSite:o,isPublishing:s}=is({site:i}),{statusText:a,detailText:c,needsPublish:d,publishEnabled:h}=rt(s),x=(0,ef.ff)(!1,!0);return("pages"!==t||d||s)&&r&&i&&(0,eO.Vr)(i)?(0,l.jsx)(ie.W,{px:0,children:(0,l.jsxs)(t_.K,{w:"100%",bg:x?"gray.800":"gray.50",borderRadius:"md",p:4,align:"pages"===t?"stretch":"center",direction:"pages"===t?"column":"row",spacing:"pages"===t?3:1,children:[(0,l.jsxs)(e0.g,{spacing:0,color:x?"gray.200":void 0,textAlign:"pages"===t?"center":"left",align:"pages"===t?"center":"start",children:[(0,l.jsx)(u.x,{fontWeight:"500",fontSize:"sm",children:a}),c&&(0,l.jsx)(u.x,{fontSize:"xs",textColor:"gray.500",css:{textWrap:"balance"},children:c})]}),"pages"!==t&&(0,l.jsx)(e1.L,{}),(0,l.jsx)(ex.z,{flexShrink:"0",size:"sm",variant:"solid",leftIcon:(0,l.jsx)(f.G,{icon:p.A$k}),isDisabled:!h,onClick:o,isLoading:s,children:(0,l.jsx)(m.cC,{id:"1EeNDU"})}),"pages"===t&&(0,l.jsx)(ex.z,{textAlign:"left",color:x?"trueblue.200":"trueblue.600",variant:"link",size:"sm",onClick:n,flex:1,children:(0,l.jsx)(m.cC,{id:"WtsmDd"})})]})}):null};var ri=n(27599),rr=n(25481),ro=n(83669),rs=n(69024),ra=n(29705),rl=n(92850),rc=n(22226),ru=n(54326);let rd=e=>{var t;let{onClose:n,isOpen:i,site:r}=e,{replace:o}=(0,ej.useRouter)(),s=(0,n8.p)(),[a,{data:d,loading:h}]=(0,C.jUI)(),p=null==d?void 0:null===(t=d.archiveSite)||void 0===t?void 0:t.archived,f=(0,j.useCallback)(async()=>{if(null==r?void 0:r.id)try{await a({variables:{id:null==r?void 0:r.id}}),n()}catch(e){console.error("[DeleteGammaModal] Failed to archive site",e.message),s({title:(0,l.jsx)(m.cC,{id:"aBvGpM"}),description:(0,l.jsx)(m.cC,{id:"DVB9Jq"}),status:"error",duration:5e3,isClosable:!0,position:"top"})}},[a,null==r?void 0:r.id,s]);return((0,j.useEffect)(()=>{p&&(n(),o("/#sites"),s({title:(0,l.jsx)(m.cC,{id:"oGP1Fe"}),description:(0,l.jsx)(m.cC,{id:"sqh0jP"}),status:"success",duration:5e3,isClosable:!0,position:"top"}))},[p,n,o,s,r]),h||p)?(0,l.jsx)(i7.h,{children:(0,l.jsx)(c.k,{w:"100%",h:"100%",zIndex:"overlay",position:"absolute",top:"0",left:"0",background:"whiteAlpha.800",flex:1,children:(0,l.jsx)(tJ.AA,{})})}):(0,l.jsxs)(rl.u_,{onClose:n,isOpen:i,size:"lg",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"cw2uO1",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),(0,l.jsx)(tZ.o,{isDisabled:h}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"87gjhX",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"tOGRxi",values:{0:(null==r?void 0:r.name)?'"'.concat(null==r?void 0:r.name,'"'):""}})}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"MluQ97",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:Y.aq},components:{0:(0,l.jsx)(iJ.r,{color:"trueblue.500",colorScheme:"trueblue",href:"/#trash",textDecoration:"underline",isExternal:!0}),1:(0,l.jsx)(ra.h,{mx:"2px"})}})})]})}),(0,l.jsx)(tY.m,{children:(0,l.jsxs)(eg.h,{children:[(0,l.jsx)(ex.z,{variant:"ghost",onClick:n,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ex.z,{variant:"ghost",color:"red.600",onClick:f,isLoading:h,children:(0,l.jsx)(m.cC,{id:"cnGeoo"})})]})})]})]})},rh=e=>{let{site:t}=e,{isOpen:n,onOpen:i,onClose:r}=(0,E.q)({id:"trash-site-modal"}),[o]=(0,C.sJX)(),s=(0,e_.O1)(),a=null==t?void 0:t.archived,c=(0,j.useCallback)(()=>{(null==t?void 0:t.id)&&o({variables:{id:t.id},optimisticResponse:{unarchiveSite:{id:t.id,__typename:"Site"}}})},[null==t?void 0:t.id,o]);return s&&t?a?(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{fixedWidth:!0,icon:e2.XnX}),onClick:c,children:(0,l.jsx)(m.cC,{id:"yKu/3Y"})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{color:"red.500",icon:(0,l.jsx)(f.G,{fixedWidth:!0,icon:p.XAH}),onClick:()=>{i()},children:(0,l.jsx)(m.cC,{id:"NOLglc",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),n&&(0,l.jsx)(rd,{isOpen:n,onClose:r,site:t})]}):(0,l.jsx)(l.Fragment,{})},rp=()=>({[eZ.q.DOC_VIEW]:{buttonLabel:(0,l.jsx)(m.cC,{id:"eZb+lw"}),shortcutIcon:e2.zc,shortcutKeys:(0,ev.cE)("Mod+Enter"),shortcutLabel:(0,l.jsx)(m.cC,{id:"tbDuNX"})},[eZ.q.SLIDE_VIEW]:{buttonLabel:(0,l.jsx)(m.cC,{id:"ydzS9x"}),shortcutIcon:e2.Bg$,shortcutKeys:"Esc",shortcutLabel:(0,l.jsx)(m.cC,{id:"5Rfo7J"})}});var rf=n(65610),rm=n(87827),rx=n(25944),rg=n(52332),rv=n(54999),rj=n(67748);let rb=(0,nM.ZP)("mod+Enter"),ry=(0,nM.ZP)("Esc"),rC=(0,nM.ZP)("mod+Esc"),rk=(0,nM.ZP)("shift+mod+Enter"),rw=e=>function(t){t((0,B.Qx)({attached:!1})),t((0,B.PM)({mode:e}))},rD=(e,t)=>{let n=document.querySelector(t);if(!n)return;let i=n.getBoundingClientRect();e.commands.scrollToNodeWithPin(document.elementFromPoint(i.width/2,100),100)},r_=e=>{let{editorWrapperEl:t,scrollingParentSelector:n}=e,i=(0,U.TL)(),[r,o]=(0,j.useState)(!1),[s,a]=(0,j.useState)(!1),{editor:l}=(0,tw._i)(),c=(0,U.CG)(B.gh),u=(0,j.useRef)(c);(0,j.useEffect)(()=>{u.current=c},[c]);let d=(0,U.CG)(B.yq),h=(0,U.CG)(B.JA),p=(0,U.CG)(rm.C),f=(0,ez.z$)(),m=(0,j.useCallback)(e=>{l&&!l.isDestroyed&&(e===eZ.q.SLIDE_VIEW?((0,rg.E0)(l.state.doc,i),(0,rv.U6)(l,!1),l.commands.spotlightCurrentCard()):(l.commands.turnOffSpotlight(!0),rD(l,n)),i(rw(e)))},[i,l,n]),x=(0,j.useCallback)(()=>{try{var e,t,n,i;if(null===(e=document.body)||void 0===e?void 0:e.requestFullscreen){null===(n=document.body)||void 0===n||n.requestFullscreen();return}(null===(t=document.body)||void 0===t?void 0:t.webkitRequestFullscreen)&&(null===(i=document.body)||void 0===i||i.webkitRequestFullscreen())}catch(e){console.debug("[PresentBlock] Error entering fullscreen:",e)}},[]),g=(0,j.useCallback)(()=>{try{if(document.fullscreenElement){document.exitFullscreen();return}document.webkitCurrentFullScreenElement&&document.webkitExitFullscreen&&document.webkitExitFullscreen()}catch(e){console.debug("[PresentBlock] Error exiting fullscreen:",e)}},[]),v=(0,tr.ye)("realUserMetrics"),{recordExitSlideModePerformance:b,recordEnterSlideModePerformance:y}=(0,rx.wK)(v),C=(0,j.useCallback)(e=>{let{fullscreen:t=!1}=e;u.current!==eZ.q.SLIDE_VIEW&&(m(eZ.q.SLIDE_VIEW),t&&x(),null==f||f.trackDocEvent(ez.AA.PRESENT_MODE_ENTERED),y({isFullscreen:t}),setTimeout(()=>{document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}))},[m,y,x,u,f]),k=(0,j.useCallback)(()=>{u.current!==eZ.q.DOC_VIEW&&(m(eZ.q.DOC_VIEW),r&&g(),null==f||f.trackDocEvent(ez.AA.PRESENT_MODE_EXITED),b({isFullscreen:r}))},[m,r,g,b,u,f]);return(0,j.useEffect)(()=>{let e=()=>{null!==document.fullscreenElement||s||k(),null!==document.webkitCurrentFullScreenElement||s||k(),o(e=>!e),a(!1)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e)}},[s,k,g]),(0,rf.r)(()=>{l&&!l.isDestroyed&&c===eZ.q.DOC_VIEW&&requestAnimationFrame(()=>{let e=l.state.selection;e instanceof rj.c&&l.commands.command(t=>{let{tr:n}=t;return n.setSelection(e.createSelectionNear()),!0})})},[l,c]),(0,j.useEffect)(()=>eb.F7.on("keydown","PRESENT_BLOCK",e=>{var t,n,i;let r=u.current===eZ.q.SLIDE_VIEW;if(!p){if(rb(e)){if(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.closest("[data-gamma-child-tiptap-editor]"))return;return e.preventDefault(),C({fullscreen:!1}),!0}if(rk(e)){if(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.closest("[data-gamma-child-tiptap-editor]"))return;return e.preventDefault(),C({fullscreen:!0}),!0}if(rC(e)&&r)return k(),!0;if(ry(e)&&r&&!d&&!h){if(null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.closest("[data-gamma-child-tiptap-editor]"))return;return k(),!0}}}),[C,k,x,d,h,t,p]),{enterSlideView:C,exitSlideView:k,enterFullscreen:x,exitFullscreen:g,exitedFullscreenByClick:s,isFullscreen:r,setIsFullscreen:o,setExitedFullscreenByClick:a}},rE=e=>{let{editorWrapperEl:t,scrollingParentSelector:n}=e,i=(0,U.CG)(B.gh),r=(0,tr.ye)("presentFullScreen"),{shortcutIcon:o,shortcutKeys:s,buttonLabel:a}=rp()[i],{enterSlideView:c,exitSlideView:u}=r_({editorWrapperEl:t,scrollingParentSelector:n});return(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:o,fixedWidth:!0}),command:s,onClick:()=>{i===eZ.q.SLIDE_VIEW?u():c({fullscreen:r})},children:a})};var rS=n(74008),rA=n(67109),rT=n(87342),rI=n(81640);let rO="gray.700";var rM=n(52929);let rF=e=>{let{error:t,refetch:n,...i}=e;return(0,l.jsx)(d.xu,{px:6,py:4,...i,children:(0,l.jsxs)(nG.b,{p:6,status:"error",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",children:[(0,l.jsx)(rM.z,{mr:0,boxSize:"30px",alignSelf:"center"}),(0,l.jsx)(nU.C,{mt:4,mb:2,fontSize:"md",children:(0,l.jsx)(m.cC,{id:"uNQm3r"})}),(0,l.jsx)(nB.X,{maxWidth:"md",children:t.message}),(0,l.jsx)(ex.z,{mt:4,onClick:()=>n(),children:(0,l.jsx)(m.cC,{id:"6gRgw8"})})]})})},rR=()=>x.ag._({id:"QbrUIo"}),rN=()=>x.ag._({id:"FbBkvL"}),rP=e=>{let{isAnalyticsLoading:t,hasError:n,view:i,setView:r,description:o}=e;return n?(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"ZlwDi6"})}):(0,l.jsxs)(c.k,{direction:"column",flex:1,children:[(0,l.jsx)(ru.x,{children:t?(0,l.jsx)(rL,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.cC,{id:"ZlwDi6"}),(0,l.jsxs)(e0.g,{align:"stretch",spacing:4,children:[(0,l.jsx)(u.x,{color:"gray.500",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:o}),(0,l.jsxs)(iy.E,{children:[(0,l.jsx)(iy.U,{children:(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:e2.Ma4,"aria-label":rR()}),variant:"ghost",fontWeight:"600",bg:"deckView"===i?"trueblue.50":"transparent",color:"deckView"===i?"trueblue.500":rO,onClick:()=>r("deckView"),children:rR()})}),(0,l.jsx)(iy.U,{children:(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:e2.AGo,"aria-label":rN()}),variant:"ghost",fontWeight:"600",bg:"cardEngagement"===i?"trueblue.50":"transparent",color:"cardEngagement"===i?"trueblue.500":rO,onClick:()=>r("cardEngagement"),children:rN()})})]})]})]})}),(0,l.jsx)(tZ.o,{})]})},rL=()=>(0,l.jsxs)(e0.g,{align:"stretch",spacing:4,children:[(0,l.jsx)(rA.O,{h:12,width:"30%"}),(0,l.jsx)(rA.O,{h:4,width:"80%"})]});var rz=n(98621),rG=n.n(rz),rU=n(17831);let rB=e=>{let{degree:t,alpha:n=1,startColor:i="#ECC94B",endColor:r="#38A169"}=e;if(Number.isNaN(t))return rG()("#e5e0df").toHex8String();let o=rG()(i).toHsl(),s=rG()(r).toHsl();return rG()({h:(0,rU.t7)(o.h,s.h,t),s:(0,rU.t7)(o.s,s.s,t),l:(0,rU.t7)(o.l,s.l,t),a:n}).toHex8String()},rH=(e,t)=>e.reduce((e,n)=>(e[n.cardId]=n[t],e),{}),rW=(e,t)=>{let n=0;for(let r in e){var i;n+=(null!==(i=t[r])&&void 0!==i?i:0)+rW(e[r],t)}return n},rV=(e,t)=>{let n=0;for(let r in e){var i;let o=null!==(i=t[r])&&void 0!==i?i:0;n=Math.max(o+rW(e[r],t),n)}return n};var rq=n(25195),rZ=n(62349),rK=n.n(rZ);let rY=e=>{let{cardsViewed:t,totalCards:n}=e,i=rB({degree:t/n}),r=n>0;return(0,l.jsxs)(em.U,{spacing:3,children:[(0,l.jsxs)(c.k,{flex:1,position:"relative",children:[(0,l.jsx)(rq.E,{h:4,flex:1,borderRadius:"sm",value:t,max:r?n:void 0,bg:"gray.200",sx:{"> div":{bg:i}}}),r&&t===n&&(0,l.jsx)(r$,{top:0,right:0,transform:"translate(50%,-50%)",position:"absolute"})]}),(0,l.jsx)(u.x,{w:{base:10,lg:12},fontSize:"sm",whiteSpace:"nowrap",textAlign:"left",children:r?"".concat(t,"/").concat(n):(0,l.jsx)(m.cC,{id:"8Va3Pt"})})]})},rX=e=>{let{cardCount:t}=e,n=(0,j.useMemo)(()=>rK()(1,t),[t]);return(0,l.jsxs)(em.U,{spacing:3,filter:"blur(3px)",children:[(0,l.jsx)(c.k,{flex:1,position:"relative",children:(0,l.jsx)(rq.E,{h:4,flex:1,borderRadius:"sm",value:n,max:t,bg:"gray.300",sx:{"> div":{bg:"gray.300"}}})}),(0,l.jsxs)(u.x,{w:{base:10,lg:12},fontSize:"sm",whiteSpace:"nowrap",textAlign:"left",color:"gray.600",children:[n,"/",t]})]})},r$=e=>{let{...t}=e;return(0,l.jsx)(d.Cd,{bg:"green.500",size:"18px",border:"2px solid white",color:"white",...t,children:(0,l.jsx)(f.G,{icon:e2.LEp,"aria-label":x.ag._({id:"y886Ns"}),size:"xs"})})},rJ=e=>t=>(0,rU.t7)(0,100,t/e),rQ=e=>{var t;let{cards:n,isColorized:i=!1,scaleToMax:r=!1,includeChildren:o,showViewersPercent:s=!1,leftLabel:a,rightLabel:c,tooltipLabel:u,cardLookupTable:h,onAnalyticsPanelClose:p}=e,f=o?rV(n,h):Math.max(...Object.values(h)),m=rJ(f),x=(0,j.useCallback)(e=>m(e),[m]);return(0,l.jsxs)(d.xu,{mt:6,mb:4,children:[(0,l.jsxs)(em.U,{mb:3,children:[(0,l.jsx)(em.U,{children:(0,l.jsx)(ev.NZ,{children:a})}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(em.U,{children:(0,l.jsx)(ev.kH,{placement:"top",label:u,children:(0,l.jsx)(em.U,{children:(0,l.jsx)(ev.NZ,{borderBottom:"0.125em dashed",borderBottomColor:"gray.400",children:c})})})})]}),(0,l.jsx)(d.xu,{width:"100%",children:Object.entries(n).map(e=>{let[n,a]=e;return(0,l.jsx)(r0,{id:n,childCards:a,percentage:null!==(t=h[n])&&void 0!==t?t:0,calculatePercentageScale:x,isColorized:i,cardLookupTable:h,scaleToMax:r,includeChildren:o,showViewersPercent:s,onAnalyticsPanelClose:p},n)})})]})},r0=e=>{var t;let{id:n,cardLookupTable:i,childCards:r,percentage:o,calculatePercentageScale:s,isColorized:a,scaleToMax:h,includeChildren:x,showViewersPercent:g,onAnalyticsPanelClose:v}=e,[b,y]=(0,j.useState)(!1),C=(0,j.useCallback)(()=>{y(!b)},[b]),{title:k}=(0,te.T)({cardId:n}),w=Object.values(r).length>0,D=0===o,_=x?o+rW(r,i):o,E=b?_:0,S=h?s(_):Math.min(100,E),A=b?o:_,I=h?s(A):Math.min(100,A),O={startColor:"#F6AD55",endColor:"#68D391"},M=a?rB({degree:S/100,...O}):"trueblue.50",F=a?rB({degree:I/100,...O}):"trueblue.100";return(0,l.jsxs)(t_.K,{children:[(0,l.jsx)(c.k,{direction:"column",children:(0,l.jsxs)(c.k,{h:8,px:2,bg:"gray.100",borderRadius:"md",position:"relative",overflow:"hidden",alignItems:"center",_focusWithin:{shadow:"outline"},children:[(0,l.jsxs)(em.U,{pos:"absolute",zIndex:1,children:[w&&(0,l.jsx)(T.h,{"aria-label":"expand-card",size:"xs",variant:"ghost",isRound:!0,colorScheme:"blackAlpha",icon:(0,l.jsx)(f.G,{icon:p._tD}),transform:b?"rotate(90deg)":"",onClick:C,_focus:{shadow:"none"}}),!w&&(0,l.jsx)(c.k,{w:6,justifyContent:"center",alignItems:"center",children:D?(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"s+PDNe"}),children:(0,l.jsx)(d.xu,{color:"blackAlpha.500",children:(0,l.jsx)(f.G,{icon:e2.Aq,size:"sm"})})}):(0,l.jsx)(d.xu,{color:"blackAlpha.300",fontSize:"xx-small",children:(0,l.jsx)(f.G,{icon:e2.nZ9,size:"sm"})})}),(0,l.jsx)(u.x,{color:D?"blackAlpha.500":void 0,noOfLines:1,children:k||(0,l.jsx)(m.cC,{id:"wja8aL"})})]}),(0,l.jsxs)(d.xu,{position:"absolute",w:"100%",height:"100%",top:0,left:0,pointerEvents:"none",children:[(0,l.jsx)(d.xu,{position:"absolute",h:"100%",bg:D?"blackAlpha.200":M,w:"".concat(S,"%")}),(0,l.jsx)(d.xu,{transitionProperty:"all",transitionDuration:"normal",position:"absolute",h:"100%",bg:D?"blackAlpha.300":F,w:"".concat(I,"%")})]}),a&&100===o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e1.L,{}),(0,l.jsx)(r$,{alignSelf:"center",zIndex:1})]})]})}),(0,l.jsx)(d.xu,{pl:8,children:w&&Object.entries(r).map(e=>{let[n,r]=e;return(0,l.jsx)(n9.U,{in:b,children:(0,l.jsx)(r0,{id:n,childCards:r,percentage:null!==(t=i[n])&&void 0!==t?t:0,cardLookupTable:i,calculatePercentageScale:s,scaleToMax:h,isColorized:a,includeChildren:x,showViewersPercent:g,onAnalyticsPanelClose:v})},n)})})]})},r1=()=>(0,l.jsx)(t_.K,{spacing:2,children:(0,l.jsx)(m.cC,{id:"QXJTby",components:{0:(0,l.jsx)(u.x,{}),1:(0,l.jsx)(u.x,{}),2:(0,l.jsx)(u.x,{})}})}),r2=e=>{let{timeInMS:t}=e;return void 0===t?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(m.cC,{id:"yXHI9B",values:{timeInSeconds:t/1e3}})},r3=(e,t)=>"viewTimePercent"===e?{chartDescription:(0,l.jsx)(m.cC,{id:"dpTE1c",values:{viewerCount:t}}),leftLabel:(0,l.jsx)(m.cC,{id:"ml51m3"}),rightLabel:(0,l.jsx)(m.cC,{id:"8R7bfR"})}:{chartDescription:(0,l.jsx)(m.cC,{id:"b2VMTo",values:{viewerCount:t}}),leftLabel:(0,l.jsx)(m.cC,{id:"kTgCTO"}),rightLabel:(0,l.jsx)(m.cC,{id:"AKDcmS"})},r5=e=>{let{docId:t,viewerFilter:n,currentViewerFilterCount:i,onAnalyticsPanelClose:r}=e,o=(0,U.qr)(),s=o.getState(),a=(0,B.X9)(s),{data:c,error:u,loading:h,refetch:x}=(0,C.IrH)({variables:{docId:t}}),[g,v]=(0,j.useState)("viewTimePercent"),{chartDescription:b,rightLabel:y,leftLabel:k}=r3(g,i),w="viewersOnly"===n?"viewers":"everyone",D=(0,tr.ye)("cardViewedThreshold"),_=(0,j.useMemo)(()=>{var e;return(null==c?void 0:null===(e=c.docCardsStats)||void 0===e?void 0:e[w])||[]},[null==c?void 0:c.docCardsStats,w]),E=(0,j.useMemo)(()=>rH(_,g),[_,g]),S=(0,j.useCallback)(()=>v("viewTimePercent"),[]),A=(0,j.useCallback)(()=>v("viewersPercent"),[]);return(0,l.jsxs)(d.xu,{children:[(0,l.jsxs)(em.U,{my:4,children:[(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:p.SZw,"aria-label":"Time spend"}),variant:"ghost",fontWeight:"600",bg:"viewTimePercent"===g?"trueblue.50":"transparent",color:"viewTimePercent"===g?"trueblue.500":rO,onClick:S,children:(0,l.jsx)(m.cC,{id:"XyvAeS"})}),(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:e2.jGC,"aria-label":"Percent viewed"}),variant:"ghost",fontWeight:"600",bg:"viewersPercent"===g?"trueblue.50":"transparent",color:"viewersPercent"===g?"trueblue.500":rO,onClick:A,children:(0,l.jsx)(m.cC,{id:"vXtpAZ"})})]}),(0,l.jsx)(r6,{description:b}),u&&(0,l.jsx)(rF,{error:u,refetch:x}),h&&!u&&(0,l.jsx)(r4,{}),!h&&!u&&(0,l.jsx)(rQ,{cards:a.tree,cardLookupTable:E,scaleToMax:"viewTimePercent"===g,isColorized:"viewersPercent"===g,includeChildren:"viewTimePercent"===g,showViewersPercent:"viewersPercent"===g,rightLabel:y,leftLabel:k,tooltipLabel:"viewTimePercent"===g?(0,l.jsx)(r1,{}):(0,l.jsx)(r2,{timeInMS:D}),onAnalyticsPanelClose:r})]})},r4=e=>{let{includeDescription:t=!1}=e;return(0,l.jsx)(c.k,{direction:"column",mt:6,mb:4,children:(0,l.jsxs)(e0.g,{align:"stretch",children:[t&&(0,l.jsx)(rA.O,{h:5,mb:3,w:"70%"}),[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsx)(rA.O,{h:8},t))]})})},r6=e=>{let{description:t}=e;return(0,l.jsx)(u.x,{color:rO,children:t})};var r8=n(89364),r7=n(78534),r9=n(80774),oe=n(5832),ot=n(14093),on=n(70189),oi=n(66983),or=n(79443),oo=n(109),os=n(16556),oa=n(829),ol=n.n(oa);let oc=e=>{let{uniqueViewers:t,docCreatedDate:n}=e,i=(0,tr.ye)("cardViewedThreshold");return(0,l.jsx)(r7.h,{children:(0,l.jsxs)(r9.Tr,{children:[(0,l.jsx)(ou,{label:(0,l.jsx)(m.cC,{id:"LZHJAq",values:{uniqueViewers:t}}),tooltip:(0,l.jsx)(m.cC,{id:"aaiIlJ",values:{docCreatedDate:n}}),width:"40%"}),(0,l.jsx)(ou,{label:(0,l.jsx)(m.cC,{id:"pRGfP3"}),width:"35%"}),(0,l.jsx)(ou,{label:(0,l.jsx)(m.cC,{id:"QfqHuz"}),tooltip:(0,l.jsx)(r2,{timeInMS:i}),width:"25%"})]})})},ou=e=>{let{label:t,width:n,tooltip:i}=e,r=(0,l.jsx)(oe.Th,{w:n,children:(0,l.jsx)(u.x,{display:"inline",borderBottom:i?"0.125em dashed":void 0,borderBottomColor:i?"gray.400":void 0,children:t})});return i?(0,l.jsx)(ev.kH,{placement:"top",label:i,children:r}):r},od=["Yesterday at 11:02 am","Today at 12:55 pm","Dec 12, 2020, 10:19 pm","Apr 14, 2023, 4:30 pm","Jan 1, 2021, 12:03 am","Dec 7, 1984, 12:03 am","May 14, 2002, 3:56 pm"],oh=e=>{let{viewers:t,currentViewerFilterCount:n,docCreatedDate:i,creatorId:r,contributors:o,cardCount:s,handleTableRowClick:a,hasIndividualAnalytics:c}=e,{user:d}=(0,e$.SE)(),h=c?t:ol()(t,e=>{var t;return[(null===(t=e.user)||void 0===t?void 0:t.id)===(null==d?void 0:d.id)?0:1,-e.lastOpened]}).slice(0,3);return(0,l.jsx)(ot.x,{children:(0,l.jsxs)(on.i,{colorScheme:"blackAlpha",children:[(0,l.jsx)(oc,{uniqueViewers:n,docCreatedDate:i}),(0,l.jsx)(oi.p,{children:h.map((e,n)=>{let{user:i,lastOpened:h,visitorId:p}=e,f=(null==i?void 0:i.id)===r,m=o.some(e=>e.user.id===(null==i?void 0:i.id)),g=i?i.displayName+(i.id===(null==d?void 0:d.id)?" "+x.ag._({id:"dDUgzP"}):"")||"":x.ag._({id:"VmjbJY"}),v=h?n_()((0,nv.P9)(h)):x.ag._({id:"/JO3xr"}),j={name:g,id:(null==i?void 0:i.id)||p||"",email:null==i?void 0:i.email,isCreator:f,isContributor:m,profileImg:null==i?void 0:i.profileImageUrl,lastOpened:v},b=n===t.length-1,y=(null==i?void 0:i.id)===(null==d?void 0:d.id),C=!c&&!y;return(0,l.jsxs)(r9.Tr,{cursor:"pointer",onClick:()=>a(j),_hover:{bg:"blackAlpha.50"},borderBottom:"none",children:[(0,l.jsx)(or.Td,{borderBottom:b?"0 none":void 0,children:(0,l.jsx)(op,{name:g,email:null==i?void 0:i.email,profileImg:null==i?void 0:i.profileImageUrl,isContributor:m,isCreator:f,isAnonymous:!i})}),(0,l.jsx)(or.Td,{borderBottom:b?"0 none":void 0,children:C?(0,l.jsx)(u.x,{fontSize:"sm",filter:"blur(3px)",color:"gray.600",children:od[n%od.length]}):(0,l.jsx)(u.x,{fontSize:"sm",children:v})}),(0,l.jsx)(or.Td,{borderBottom:b?"0 none":void 0,children:C?(0,l.jsx)(rX,{cardCount:s}):(0,l.jsx)(rY,{cardsViewed:e.cardsViewed||0,totalCards:s||0})})]},(null==i?void 0:i.id)||p)})})]})})},op=e=>{let{name:t,profileImg:n,email:i="",isCreator:r=!1,isContributor:o=!1,isAnonymous:s=!1,...a}=e;return(0,l.jsxs)(em.U,{...a,children:[(0,l.jsx)(oo.q,{size:"sm",name:t,src:n}),(0,l.jsxs)(t_.K,{spacing:.5,children:[(0,l.jsxs)(u.x,{children:[t,s&&(0,l.jsx)(ev.Yq,{label:(0,l.jsx)(m.cC,{id:"VHgG8W",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}),ml:2})]}),(0,l.jsxs)(em.U,{mt:1,children:[(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",children:i}),(r||o)&&(0,l.jsx)(os.Vp,{size:"sm",transform:"translate(0, 1.5px)",children:r?(0,l.jsx)(m.cC,{id:"UE2beD"}):(0,l.jsx)(m.cC,{id:"3L51iw"})})]})]})]})},of=e=>{var t,n,i,r;let{user:o,onBackClick:s,docId:a,onAnalyticsPanelClose:c}=e,u=(0,U.qr)(),h=u.getState(),p=(0,B.X9)(h),{data:f,error:x,loading:g,refetch:v}=(0,C.IrH)({variables:{docId:a,userId:o.id},skip:!a||!o.id,pollInterval:9e5,notifyOnNetworkStatusChange:!0}),b=null!==(r=null==f?void 0:null===(n=f.docCardsStats)||void 0===n?void 0:null===(t=n.everyone)||void 0===t?void 0:t.length)&&void 0!==r?r:0,y=null==f?void 0:null===(i=f.docCardsStats)||void 0===i?void 0:i.cardCount,k=(0,j.useMemo)(()=>{var e;return(null==f?void 0:null===(e=f.docCardsStats)||void 0===e?void 0:e.everyone)||[]},[null==f?void 0:f.docCardsStats]),w=(0,j.useMemo)(()=>rH(k,"viewTimePercent"),[k]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(ex.z,{"aria-label":"Back",leftIcon:(0,l.jsx)(r8.R,{}),variant:"ghost",onClick:s,children:(0,l.jsx)(m.cC,{id:"iH8pgl"})})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(rS.i,{}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(d.xu,{children:[(0,l.jsx)(om,{user:o,showLastOpened:!0}),y&&(0,l.jsx)(r6,{description:(0,l.jsx)(m.cC,{id:"YJOrjl",values:{cardsViewed:b,totalCards:y}})}),g&&!x&&(0,l.jsx)(r4,{includeDescription:!0}),x&&(0,l.jsx)(rF,{error:x,refetch:v}),!x&&!g&&(0,l.jsx)(rQ,{cards:p.tree,scaleToMax:!0,includeChildren:!0,leftLabel:(0,l.jsx)(m.cC,{id:"ml51m3"}),rightLabel:(0,l.jsx)(m.cC,{id:"8R7bfR"}),cardLookupTable:w,tooltipLabel:(0,l.jsx)(r1,{}),onAnalyticsPanelClose:c})]})})]})},om=e=>{let{user:t,showLastOpened:n}=e;return(0,l.jsxs)(em.U,{align:"center",my:6,children:[(0,l.jsx)(op,{name:t.name,profileImg:t.profileImg,email:t.email,isCreator:t.isCreator,isContributor:t.isContributor,width:n?"50%":void 0}),n&&(0,l.jsxs)(e0.g,{align:"flex-start",spacing:0,children:[(0,l.jsx)(ev.NZ,{children:(0,l.jsx)(m.cC,{id:"pRGfP3"})}),(0,l.jsx)(u.x,{children:t.lastOpened})]})]})},ox=(e,t,n)=>"everyone"===e?x.ag._({id:"1IE7uf",values:{everyone:t}}):"viewersOnly"===e?x.ag._({id:"r/tA4Y",values:{viewersOnly:n}}):x.ag._({id:"V9JX7d"}),og={everyone:e2.NdV,viewersOnly:e2.Mdf,accessLinkOnly:e2.uWk},ov=e=>{let{selected:t,handleMenuItemChange:n,everyoneCount:i,viewersOnlyCount:r}=e;return(0,l.jsxs)(nb.v,{children:[(0,l.jsx)(ny.j,{leftIcon:(0,l.jsx)(f.G,{size:"xs",icon:og[t]}),as:ex.z,size:"md",rightIcon:(0,l.jsx)(f.G,{size:"xs",icon:p.ptq}),children:ox(t,i,r)}),(0,l.jsx)(nC.q,{zIndex:2,maxW:"380px",children:(0,l.jsxs)(nk._,{defaultValue:t,value:t,onChange:e=>{Array.isArray(e)||n(e)},children:[(0,l.jsx)(nw.i,{value:"everyone",isDisabled:0===i,children:(0,l.jsxs)(c.k,{align:"center",children:[(0,l.jsx)(f.G,{icon:og.everyone,size:"xs"}),(0,l.jsxs)(d.xu,{ml:3,children:[(0,l.jsx)(u.x,{children:ox("everyone",i,r)}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"c5ESvc",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})})]})]})}),(0,l.jsx)(nw.i,{value:"viewersOnly",isDisabled:0===r,children:(0,l.jsxs)(c.k,{align:"center",children:[(0,l.jsx)(f.G,{icon:og.viewersOnly,size:"xs"}),(0,l.jsxs)(d.xu,{ml:3,children:[(0,l.jsx)(u.x,{children:ox("viewersOnly",i,r)}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"5hKO48",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})})]})]})}),!1]})})]})};var oj=n(66700),ob=n(4478),oy=n(36012),oC=n(6802),ok=n(70258),ow=n(80237),oD=n(59309),o_=n(2574),oE=n(92638),oS=n(33951),oA=n(10897),oT=n(14582),oI=n(75715),oO=n(96492),oM=n(14141),oF=n(40837);let oR={top:55,right:20,bottom:40,left:24},oN=e=>Math.round(e).toString(),oP=e=>Math.max(...e.map(e=>(0,oI.Z)(e.toString(),{fontFamily:"Inter, sans-serif",fontSize:"var(--chakra-fontSizes-sm)",fontWeight:"600"})||0)),oL={backgroundColor:"var(--chakra-colors-blackAlpha-800)",color:"var(--chakra-colors-gray-100)",fontFamily:"Inter, sans-serif",boxShadow:"var(--chakra-shadows-4)",fontSize:"var(--chakra-fontSizes-xs)",borderRadius:"var(--chakra-radii-sm)",fontWeight:"var(--chakra-fontWeights-semibold)",borderWidth:"1px",borderColor:"black",paddingRight:"var(--chakra-space-1-5)",paddingLeft:"var(--chakra-space-1-5)",paddingTop:"var(--chakra-space-0-5)",paddingBottom:"var(--chakra-space-0-5)",zIndex:"var(--chakra-zIndex-tooltip)",minWidth:"60px",lineHeight:"var(--chakra-lineHeights-base)"},oz="var(--chakra-colors-gray-500)",oG="var(--chakra-colors-gray-200)",oU=e=>e.map(e=>e.x),oB=e=>e.map(e=>e.y),oH=e=>{let{width:t,height:n,margin:i=oR,chartData:r,TooltipInner:o,showZero:s,shouldRoundYValues:a,showMaxAndMiddle:c,barColor:u,customTooltipStyles:h,onClick:p=()=>{}}=e,{showTooltip:f,tooltipOpen:m,tooltipLeft:x,tooltipTop:g,tooltipData:v,hideTooltip:b}=(0,oO.Z)(),y=(0,j.useRef)(),C=(0,j.useRef)();(0,j.useEffect)(()=>()=>{y.current&&clearTimeout(y.current),C.current&&clearTimeout(C.current)},[]);let k=oB(r),w=Math.max(...k),D=[w,Math.round(w/2)],_=oP(c?D:k),E=i.left+_,S=t-E-i.right,A=n-i.top-i.bottom,T={...oM.j,...oL,...h},I=(0,j.useMemo)(()=>(0,oE.Z)({range:[0,S],domain:oU(r),padding:.3}),[S,r]),O=(0,j.useMemo)(()=>(0,oS.Z)({range:[A,0],round:!0,domain:[0,w]}),[A,w]),M=s?O(Math.min(...k.filter(e=>0!==e))):A,F=s&&A-M>6;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.xu,{children:(0,l.jsxs)("svg",{width:t,height:n,children:[(0,l.jsx)("rect",{x:0,y:0,rx:4,width:t,height:n,fill:"var(--chakra-colors-gray-100)"}),(0,l.jsx)(oD.Z,{top:i.top,left:E,children:r.map(e=>{var t,n;let i=e.y,r=e.x,o="bar-".concat(r,"-").concat(i),a=I.bandwidth(),c=A-(null!==(t=O(i))&&void 0!==t?t:0),d=F&&0===c?6:c,h=null!==(n=I(r))&&void 0!==n?n:0,m=A-d;return(0,l.jsxs)(oD.Z,{children:[(0,l.jsx)(oA.Z,{x:h,y:m,width:a,height:d,radius:5,topLeft:!0,topRight:!0,fill:s&&0===i?oG:u,onMouseLeave:()=>{y.current=window.setTimeout(()=>{b()},300)},onMouseMove:t=>{y.current&&clearTimeout(y.current);let n=(0,ow.Z)(t);f({tooltipData:e,tooltipTop:null==n?void 0:n.y,tooltipLeft:null==n?void 0:n.x})},onClick:t=>p(t,e)}),(0,l.jsx)(oT.Z,{x:h,y:0,width:a,height:Math.max(0,A-d),opacity:0,onMouseLeave:()=>{C.current=window.setTimeout(()=>{b()},300)},onMouseMove:t=>{C.current&&clearTimeout(C.current);let n=(0,ow.Z)(t);f({tooltipData:e,tooltipTop:null==n?void 0:n.y,tooltipLeft:null==n?void 0:n.x})}})]},o)})}),(0,l.jsx)(oC.Z,{top:i.top,left:E,scale:O,stroke:oG,strokeWidth:2,tickValues:c?D:void 0,numTicks:c?void 0:2,hideZero:!0,tickFormat:a?oN:void 0,tickLength:6,tickStroke:oG,tickLabelProps:()=>({fill:oz,textAnchor:"end",fontFamily:"Inter, sans-serif",fontSize:"var(--chakra-fontSizes-sm)",fontWeight:"600",dy:"0.33em",dx:-4})}),(0,l.jsx)(ok.Z,{top:A+i.top,left:E,scale:I,stroke:oG,numTicks:4,tickStroke:oG,tickLabelProps:()=>({fill:oz,textAnchor:"middle",fontFamily:"Inter, sans-serif",fontSize:"var(--chakra-fontSizes-sm)",fontWeight:"600",dy:4}),strokeWidth:2,tickLength:6})]})}),m&&v&&(0,l.jsx)(oF.Z,{top:g,left:x,style:T,children:(0,l.jsx)(o,{x:v.x,y:v.y})})]})},oW=e=>{let{chartTitle:t,TooltipInner:n,showZero:i=!0,shouldRoundYValues:r=!0,showMaxAndMiddle:o=!0,data:s,barColor:a="var(--chakra-colors-trueblue-200)",customTooltipStyles:c,onClick:h=()=>{},...p}=e;return(0,l.jsxs)(d.xu,{position:"relative",height:"300px",...p,children:[(0,l.jsx)(u.x,{size:"xs",color:"gray.500",fontWeight:"600",position:"absolute",top:3,left:"50%",transform:"translateX(-50%)",children:t}),(0,l.jsx)(o_.Z,{children:e=>{let{width:t,height:u}=e;return t<10?null:(0,l.jsx)(oH,{width:t,height:u,showZero:i,chartData:s,barColor:a,customTooltipStyles:c,onClick:h,TooltipInner:n,shouldRoundYValues:r,showMaxAndMiddle:o})}})]})},oV=(e,t)=>{let n="LLL d",i=new Date;i.setDate(i.getDate()-t+1);let r=[];for(let o=0;o<t;o++){let t=new Date(i);t.setDate(t.getDate()+o);let s=function(e,t){if(arguments.length<1)throw TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(0,oj.Z)(e);if(!(0,ob.Z)(n))throw RangeError("Invalid time value");var i=t||{},r=null==i.format?"extended":String(i.format),o=null==i.representation?"complete":String(i.representation);if("extended"!==r&&"basic"!==r)throw RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw RangeError("representation must be 'date', 'time', or 'complete'");var s="",a="",l="extended"===r?"-":"";if("time"!==o){var c=(0,oy.Z)(n.getDate(),2),u=(0,oy.Z)(n.getMonth()+1,2),d=(0,oy.Z)(n.getFullYear(),4);s="".concat(d).concat(l).concat(u).concat(l).concat(c)}if("date"!==o){var h=n.getTimezoneOffset();if(0!==h){var p=Math.abs(h),f=(0,oy.Z)(Math.floor(p/60),2),m=(0,oy.Z)(p%60,2),x=h<0?"+":"-";a="".concat(x).concat(f,":").concat(m)}else a="Z";var g=(0,oy.Z)(n.getHours(),2),v=(0,oy.Z)(n.getMinutes(),2),j=(0,oy.Z)(n.getSeconds(),2),b=""===s?"":"T",y=[g,v,j].join("extended"===r?":":"");s="".concat(s).concat(b).concat(y).concat(a)}return s}(t,{representation:"date"}),a=e.find(e=>e.date===s);a?r.push({x:(0,i9.p6)(a.date,n),y:a.uniqueVisitors?a.uniqueVisitors:0}):r.push({x:(0,i9.p6)(s,n),y:0})}return r},oq=e=>{let{viewData:t,dayCount:n}=e,i=oV(t,n);return(0,l.jsx)(oW,{data:i,my:3,chartTitle:(0,l.jsx)(m.cC,{id:"mSEibf"}),TooltipInner:oZ})},oZ=e=>{let{x:t,y:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.x,{children:t}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"6MKtHx",values:{y:n}})})]})},oK=e=>e.every(e=>0===e.uniqueVisitors),oY=(e,t)=>t&&t.dailyViews?"everyone"===e?t.dailyViews.everyone?t.dailyViews.everyone:[]:"viewersOnly"===e&&t.dailyViews.viewers?t.dailyViews.viewers:[]:[],oX=(e,t,n)=>{var i,r,o;if(!n)return 0;let s=null!==(r=n.uniqueViewers)&&void 0!==r?r:0,a=null!==(o=null===(i=e.editors)||void 0===i?void 0:i.length)&&void 0!==o?o:0;return"everyone"===t?s:"viewersOnly"===t?Math.max(0,s-a):0},o$=e=>{var t,n;let{doc:i,handleSharePanelOpen:r,onAnalyticsPanelClose:o,canShare:s}=e,{loading:a,data:u,error:d,refetch:h}=(0,C.xls)({variables:{memoId:i.id},skip:!i.id,pollInterval:9e5,notifyOnNetworkStatusChange:!0}),{user:p}=(0,e$.SE)(),[f,g]=(0,j.useState)("deckView"),[v,b]=(0,j.useState)(null),[y,k]=(0,j.useState)("everyone"),w=(0,i9.p6)(i.createdTime,"PPP"),D=i.title||(0,l.jsx)(m.cC,{id:"wja8aL"}),_=(null==u?void 0:u.memoStats.viewers)||[],E=(null==u?void 0:null===(t=u.memoStats.dailyViews)||void 0===t?void 0:t.dayCount)||0,S=oY(y,null==u?void 0:u.memoStats),A=(0,X.Y)("individual_analytics",i.organization),{openUpsellModal:T}=(0,rI.z)(),I=oK(S),O=_.filter(e=>{var t;return"everyone"===y||!(null===(t=i.editors)||void 0===t?void 0:t.some(t=>{var n,i;return(null===(n=e.user)||void 0===n?void 0:n.id)===(null===(i=t.user)||void 0===i?void 0:i.id)}))}),M=oX(i,y,null==u?void 0:u.memoStats),F=(0,j.useCallback)(e=>{k(e)},[]),R=(0,j.useCallback)(e=>{g(e)},[]),N=(0,j.useCallback)(e=>{if(!A&&e.id!==(null==p?void 0:p.id)){T({segmentEvent:ez.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_INDIVIDUAL_ANALYTICS});return}b(e)},[T,A,p]),P=(0,j.useCallback)(()=>{b(null)},[]),L=void 0!==d;return(0,l.jsxs)(l.Fragment,{children:[v&&(0,l.jsx)(of,{user:v,onBackClick:P,docId:i.id,onAnalyticsPanelClose:o}),!v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rP,{hasError:L,isAnalyticsLoading:a,setView:R,view:f,description:(0,l.jsx)(m.cC,{id:"uEtUah",values:{docTitle:D,docCreatedDate:w}})}),L&&(0,l.jsx)(rF,{error:d,refetch:h}),!L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rS.i,{}),(0,l.jsxs)(tK.f,{children:[a&&(0,l.jsx)(oJ,{}),!a&&_.length<=1&&s&&(0,l.jsx)(oQ,{handleSharePanelOpen:r}),!a&&(0,l.jsxs)(t_.K,{direction:"column",mt:4,spacing:4,children:[(0,l.jsxs)(c.k,{direction:"row",justify:"space-between",align:"center",children:[(0,l.jsx)(eQ.X,{as:"h2",size:"md",children:"cardEngagement"===f?rN():rR()}),(0,l.jsx)(ov,{selected:y,handleMenuItemChange:F,everyoneCount:oX(i,"everyone",null==u?void 0:u.memoStats),viewersOnlyCount:oX(i,"viewersOnly",null==u?void 0:u.memoStats)})]}),"deckView"===f&&I&&(0,l.jsx)(o0,{handleSharePanelOpen:r,dayCount:E}),"deckView"===f&&!I&&(0,l.jsx)(oq,{viewData:S,dayCount:E}),"cardEngagement"===f&&(0,l.jsx)(r5,{docId:i.id,viewerFilter:y,currentViewerFilterCount:M,onAnalyticsPanelClose:o}),(0,l.jsx)(oh,{creatorId:(null===(n=i.createdBy)||void 0===n?void 0:n.id)||"",viewers:O,currentViewerFilterCount:M,docCreatedDate:w,contributors:i.editors||[],cardCount:(null==u?void 0:u.memoStats.cardCount)||0,handleTableRowClick:N,hasIndividualAnalytics:A}),O.length>3&&!A&&(0,l.jsx)(ex.z,{variant:"ghost",size:"sm",color:"gray.600",colorScheme:"gray",onClick:()=>T({segmentEvent:ez.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_INDIVIDUAL_ANALYTICS}),children:(0,l.jsx)(m.cC,{id:"BKBX4n",values:{0:O.length-3}})}),!A&&(0,l.jsx)(rT.m,{segmentEvent:ez.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_INDIVIDUAL_ANALYTICS,description:x.ag._({id:"GYgPBy"})})]})]})]})]})]})},oJ=()=>(0,l.jsxs)(c.k,{direction:"column",py:2,children:[(0,l.jsx)(rA.O,{h:10,width:"40%",mb:4}),(0,l.jsx)(rA.O,{h:40,mb:4}),(0,l.jsx)(e0.g,{align:"stretch",children:[void 0,void 0,void 0].map((e,t)=>(0,l.jsx)(rA.O,{h:12},t))})]}),oQ=e=>{let{handleSharePanelOpen:t}=e;return(0,l.jsx)(c.k,{p:3,px:4,mt:2,bg:"gray.100",color:rO,borderRadius:"base",children:(0,l.jsxs)(c.k,{align:"baseline",fontSize:"sm",children:[(0,l.jsx)(d.xu,{pr:2,children:(0,l.jsx)(f.G,{icon:e2.ILF,"aria-label":"user-icon",size:"sm"})}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"FNMh4I",components:{0:(0,l.jsx)(u.x,{as:"button",onClick:t,textDecoration:"underline",fontWeight:"600",color:"gray.800"})}})})]})})},o0=e=>{let{handleSharePanelOpen:t,dayCount:n}=e;return(0,l.jsxs)(nG.b,{my:4,p:6,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",colorScheme:"gray",children:[(0,l.jsx)(d.Cd,{size:"30px",bg:"gray.500",children:(0,l.jsx)(f.G,{icon:e2.ImE,color:"white"})}),(0,l.jsx)(nU.C,{mt:4,mb:2,fontSize:"md",children:(0,l.jsx)(m.cC,{id:"2OzAI5"})}),n>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nB.X,{maxWidth:"sm",children:(0,l.jsx)(m.cC,{id:"qQLmo7",values:{dayCount:n}})}),(0,l.jsx)(ex.z,{mt:4,onClick:t,children:(0,l.jsx)(m.cC,{id:"IXzWG0"})})]})]})},o1=e=>{var t,n,i,r,o,s;let{doc:a,onAnalyticsPanelClose:c}=e,h=(0,U.qr)(),p=h.getState(),f=(0,B.X9)(p),{user:x}=(0,e$.SE)(),{data:g,error:v,loading:b,refetch:y}=(0,C.IrH)({variables:{docId:a.id,userId:null==x?void 0:x.id},skip:!(null==x?void 0:x.id),pollInterval:9e5,notifyOnNetworkStatusChange:!0}),k=null!==(s=null==g?void 0:null===(n=g.docCardsStats)||void 0===n?void 0:null===(t=n.everyone)||void 0===t?void 0:t.length)&&void 0!==s?s:0,w=null==g?void 0:null===(i=g.docCardsStats)||void 0===i?void 0:i.cardCount,D=(0,j.useMemo)(()=>{var e;return(null==g?void 0:null===(e=g.docCardsStats)||void 0===e?void 0:e.everyone)||[]},[null==g?void 0:g.docCardsStats]),_=(0,j.useMemo)(()=>rH(D,"viewTimePercent"),[D]);if(!x)return null;let E=x.id===(null===(r=a.createdBy)||void 0===r?void 0:r.id),S=null===(o=a.editors)||void 0===o?void 0:o.some(e=>e.user.id===x.id),A={name:x.displayName,id:x.id,profileImg:x.profileImageUrl,email:x.email,isContributor:S,isCreator:E};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ru.x,{children:[(0,l.jsx)(m.cC,{id:"ZlwDi6"}),(0,l.jsx)(u.x,{fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",color:"gray.500",noOfLines:1,children:a.title||(0,l.jsx)(m.cC,{id:"wja8aL"})})]}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(rS.i,{}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(d.xu,{children:[(0,l.jsx)(om,{user:A}),void 0!==w&&(0,l.jsx)(r6,{description:(0,l.jsx)(m.cC,{id:"YJOrjl",values:{cardsViewed:k,totalCards:w}})}),b&&!v&&(0,l.jsx)(r4,{includeDescription:!0}),v&&(0,l.jsx)(rF,{error:v,refetch:y,px:0}),!v&&!b&&(0,l.jsx)(rQ,{cards:f.tree,scaleToMax:!0,includeChildren:!0,leftLabel:(0,l.jsx)(m.cC,{id:"ml51m3"}),rightLabel:(0,l.jsx)(m.cC,{id:"8R7bfR"}),cardLookupTable:_,tooltipLabel:(0,l.jsx)(r1,{}),onAnalyticsPanelClose:c}),(0,l.jsxs)(nG.b,{children:[(0,l.jsx)(rM.z,{}),(0,l.jsx)(m.cC,{id:"Znuvj3",values:{GAMMA_PROPER_NOUN:Y.N6,GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})]})]})})]})},o2=e=>{let{doc:t,mode:n,isAnalyticsPanelOpen:i,onAnalyticsPanelClose:r,onSharePanelOpen:o}=e,s=(0,es.i)({base:"sm",md:"2xl",lg:"4xl"}),a=!!o&&"full"==n,u=(0,j.useCallback)(()=>{o&&(o(),r())},[o,r]);return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(rl.u_,{onClose:r,isOpen:i,size:s,blockScrollOnMount:!1,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{mx:2,minW:0,children:["full"===n?(0,l.jsx)(o$,{doc:t,handleSharePanelOpen:u,onAnalyticsPanelClose:r,canShare:a}):(0,l.jsx)(o1,{doc:t,onAnalyticsPanelClose:r}),(0,l.jsx)(rS.i,{my:4}),(0,l.jsx)(tY.m,{children:(0,l.jsxs)(c.k,{justifyContent:a?"space-between":"flex-end",flex:1,children:[a&&(0,l.jsx)(ex.z,{leftIcon:(0,l.jsx)(f.G,{icon:p.zBy}),variant:"ghost",onClick:u,children:(0,l.jsx)(m.cC,{id:"IXzWG0"})}),(0,l.jsx)(ex.z,{variant:"solid",onClick:r,children:(0,l.jsx)(m.cC,{id:"DPfwMq"})})]})})]})]})})},o3=e=>{let{doc:t}=e,n=(0,ez.z$)(),{isOpen:i,onClose:r,onOpen:o}=(0,nl.M)({id:"analyticsPanelDisclosure"}),s=(0,j.useCallback)(()=>{null==n||n.track(ez.AA.DOC_ANALYTICS_VIEWED,{docId:null==t?void 0:t.id,source:"toolbar_doc_menu",type:"personal"}),o()},[n,null==t?void 0:t.id,o]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.Ma4,fixedWidth:!0}),onClick:s,children:(0,l.jsx)(m.cC,{id:"ZlwDi6"})}),t&&i&&(0,l.jsx)(o2,{doc:t,isAnalyticsPanelOpen:i,onAnalyticsPanelClose:r,mode:"personal"})]})};var o5=n(82554),o4=n(99793),o6=n(12985);let o8=e=>{let{label:t,initialValue:i="",updateValue:r,helperText:o,language:s,...a}=e,[c,u]=(0,j.useState)(i),[h,p]=(0,j.useState)(null),f=(0,tx.Kt)(r,100),[m,x]=(0,j.useState)();(0,j.useEffect)(()=>{"css"===s?Promise.all([n.e(8917),n.e(7120),n.e(6214)]).then(n.bind(n,65284)).then(e=>{x(e.css())}):"html"===s&&Promise.all([n.e(8917),n.e(7120),n.e(6214),n.e(4100),n.e(2163)]).then(n.bind(n,22163)).then(e=>{x(e.html())})},[s]),(0,tx.vm)(()=>{p(null),f(c)},[c,f],[c]);let g=[m].filter(Boolean);return(0,l.jsxs)(ij.NI,{isInvalid:!!h,children:[(0,l.jsx)(ib.l,{children:t}),h&&(0,l.jsx)(o4.J1,{children:h}),o&&(0,l.jsx)(ij.Q6,{children:o}),(0,l.jsx)(d.xu,{border:"1px solid",borderColor:"gray.200",fontSize:"md",position:"relative",children:(0,l.jsx)(j.Suspense,{fallback:(0,l.jsx)("span",{}),children:(0,l.jsx)(o6.B,{value:c,extensions:g,onChange:u,...a})})})]})};var o7=n(61840);let o9=(0,j.memo)(e=>{let{isOpen:t,onClose:n,editor:i}=e,r=(0,o7.A)(i),{bodyStart:o}=(0,U.CG)(B.$p),s=(0,j.useCallback)(e=>{null==i||i.commands.updateNestedAttributesAtPos(0,{customCode:{bodyStart:e}})},[i]);return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(tW.d,{returnFocusOnClose:!1,isOpen:t,placement:"right",onClose:n,size:"lg",children:[(0,l.jsx)(tV.Z,{background:"none"}),(0,l.jsxs)(tq.s,{onKeyDown:r,"data-testid":"custom-code-drawer",motionProps:{variants:{enter:{x:"0%",transition:{duration:.2}},exit:{x:"100%",transition:{duration:.1}}}},children:[(0,l.jsx)(tZ.o,{}),(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"E16GGw"})}),(0,l.jsx)(tK.f,{overflowX:"hidden",children:(0,l.jsx)(o8,{label:x.ag._({id:"fC5kYg"}),helperText:x.ag._({id:"0AZNtw"}),initialValue:o,updateValue:s,language:"html",height:"600px"})}),(0,l.jsx)(tY.m,{children:(0,l.jsx)(ex.z,{w:"100%",variant:"solid",onClick:n,children:(0,l.jsx)(m.cC,{id:"DPfwMq"})})})]})]})})});o9.displayName="CustomCodeDrawer";let se=e=>{let{editor:t}=e,{isOpen:n,onOpen:i,onClose:r}=(0,nl.M)({id:"codeEditor"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.dT$,fixedWidth:!0}),onClick:i,children:(0,l.jsxs)(em.U,{children:[(0,l.jsx)(m.cC,{id:"cnlGIm"}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(o5.C,{colorScheme:"green",ml:2,children:(0,l.jsx)(m.cC,{id:"YBt9YP"})})]})}),(0,l.jsx)(o9,{editor:t,isOpen:n,onClose:r})]})},st=e=>{let{doc:t}=e,[n]=(0,C.LT4)(),[i]=(0,C.iX9)(),r=(0,j.useCallback)(e=>()=>{if(!t.id)return;let r={id:t.id};e?n({variables:r,optimisticResponse:{archiveDoc:{...r,archived:e,__typename:"Doc"}}}):i({variables:r,optimisticResponse:{unarchiveDoc:{...r,archived:e,__typename:"Doc"}}})},[n,t.id,i]);return t.archived?(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.ZeM,fixedWidth:!0}),onClick:r(!1),children:(0,l.jsx)(m.cC,{id:"yKu/3Y"})}):(0,l.jsx)(rr.s,{"data-testid":"doc-menu-trash-button",color:"red.500",icon:(0,l.jsx)(f.G,{icon:p.XAH,fixedWidth:!0}),onClick:r(!0),children:(0,l.jsx)(m.cC,{id:"NOLglc",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})})};var sn=n(82282),si=n(31807),sr=n(20678);let so=e=>{var t,n;let{doc:i}=e,r=(null==i?void 0:i.createdTime)&&(0,sn.Z)((0,si.Z)(i.createdTime),"PPP"),o=(0,sr.$)(null==i?void 0:i.title);return(0,l.jsxs)(d.xu,{px:4,py:2,maxW:"300px",children:[(0,l.jsx)(u.x,{noOfLines:6,children:o}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(m.cC,{id:"jlWdji",values:{createdTime:r}})}),(0,l.jsx)(ev.kH,{label:null==i?void 0:null===(t=i.createdBy)||void 0===t?void 0:t.email,children:(0,l.jsx)(u.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(m.cC,{id:"t490IT",values:{0:null==i?void 0:null===(n=i.createdBy)||void 0===n?void 0:n.displayName}})})})]})},ss=e=>{let{doc:t,editor:n}=e,i=(0,iQ.e)(),r=(0,j.useCallback)(()=>{if(!n)return;let e=n.getJSON();i({docId:t.id,initialContent:e,source:"editor_toolbar_doc_menu_duplicate",newWindow:!(0,ey.Q5)()})},[t.id,i,n]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.kZ_,fixedWidth:!0}),onClick:r,children:(0,l.jsx)(m.cC,{id:"0Fcoqv",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})})})};var sa=n(18412);let sl=()=>(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.kwI,fixedWidth:!0}),onClick:()=>{sa.T.emit("openSharePanel",{view:"export"})},children:(0,l.jsx)(m.cC,{id:"U8WPSi"})}),sc=e=>{let{site:t,path:n}=e,i=(0,eO.AR)({site:t,path:n});return i?(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"kcKqQj"}),children:(0,l.jsx)(T.h,{ml:-1,href:i,as:nR(),target:"_blank","aria-label":x.ag._({id:"WklWxF"}),variant:"ghost",color:"gray.500",size:"xs",icon:(0,l.jsx)(f.G,{icon:p.ZE5})})}):null},su=e=>{var t,n;let{doc:i,site:r,showCreatedInfo:o}=e,s=(0,sr.$)(null==i?void 0:i.title),a=null===(t=r.routes)||void 0===t?void 0:t.find(e=>e.docId===i.id),c=(0,eO.jl)(i,r);return(0,l.jsxs)(d.xu,{px:4,pb:2,maxW:"300px",children:[(0,l.jsxs)(em.U,{align:"start",children:[(0,l.jsx)(u.x,{noOfLines:2,children:s}),c&&(0,l.jsx)(sc,{site:r,path:null==a?void 0:a.path})]}),a&&(0,l.jsx)(sd,{path:a.path}),o&&"createdTime"in i&&(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",noOfLines:1,mt:2,children:(0,l.jsx)(m.cC,{id:"oJFw5Q",values:{0:(0,i9.Dw)(i.createdTime)}})}),"createdBy"in i&&o&&(0,l.jsx)(u.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(m.cC,{id:"t490IT",values:{0:null==i?void 0:null===(n=i.createdBy)||void 0===n?void 0:n.displayName}})})]})},sd=e=>{let{path:t}=e;return"/"===t?(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"wFCbbC"})}):(0,l.jsx)(u.x,{fontFamily:"mono",fontSize:"sm",color:"gray.500",children:t})};var sh=n(24772),sp=n(36371),sf=n(73582),sm=n(2969),sx=n(3181),sg=n(13272),sv=n(41098),sj=n(82729),sb=n(4170),sy=n(97412);let sC=e=>{let{updateDocSetting:t,editor:n}=e,{animationsEnabled:i,defaultFullBleed:r,defaultContentWidth:o,presentBackdrop:s,cardDimensions:a}=(0,U.CG)(B.US),c=(0,sy.l)(a);return(0,l.jsxs)(t_.K,{spacing:5,mt:4,divider:(0,l.jsx)(rS.i,{}),children:[(0,l.jsx)(sk,{title:x.ag._({id:"jBvtuq"}),description:x.ag._({id:"Q3Qdcd"}),icon:p.qnl,control:(0,l.jsx)(sy.Ft,{cardDimensions:a,updateCardDimensions:e=>t("cardDimensions",e)})}),(0,l.jsx)(sk,{title:x.ag._({id:"lklIf1"}),description:x.ag._({id:"aJ+ISV"}),icon:p.dH7,value:"lg"===o,onChange:e=>{t("defaultContentWidth",e?"lg":void 0),n.commands.resetCardSettings({container:{width:void 0}})}}),(0,l.jsx)(sk,{title:x.ag._({id:"lsVq2Z"}),description:x.ag._({id:"u/0NJZ"}),icon:p.r9b,value:"full"===r,onChange:e=>{t("defaultFullBleed",e?"full":void 0),n.commands.resetCardSettings({cardSize:"default"})}}),(0,l.jsx)(sk,{title:x.ag._({id:"7VfbQM"}),description:x.ag._({id:"XZHPlI"}),icon:p.UHQ,value:s,onChange:e=>t("presentBackdrop",e)}),(0,l.jsx)(sk,{title:x.ag._({id:"HgWdP3"}),description:x.ag._({id:"XsKE1m"}),icon:p.kq2,value:(0,sb.C)({animationsEnabled:i}),onChange:e=>{t("animationsEnabled",e)}}),(0,l.jsxs)(t_.K,{children:[(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.600",children:(0,l.jsx)(m.cC,{id:"ymPKi7"})}),(0,l.jsxs)(em.U,{alignItems:"flex-start",spacing:"4",children:[(0,l.jsx)(sD,{label:x.ag._({id:"wl99H6"}),cardDimensions:c,isWide:"lg"===o,showBackdrop:"full"!==r,scaleCardUp:!1}),(0,l.jsx)(sD,{label:x.ag._({id:"GWjDlt"}),cardDimensions:c,isWide:"lg"===o,showBackdrop:s&&"full"!==r,scaleCardUp:!s||"full"===r})]})]})]})},sk=e=>{let{title:t,description:n,icon:i,children:r,helpDescription:o,value:s,onChange:a,control:c,direction:d="row"}=e;return(0,l.jsxs)(t_.K,{alignItems:"flex-start",spacing:2,direction:d,children:[i&&(0,l.jsx)(u.x,{fontSize:"lg",width:8,maxW:8,children:(0,l.jsx)(f.G,{icon:i,fixedWidth:!0})}),(0,l.jsxs)(t_.K,{spacing:4,flex:1,children:[(0,l.jsxs)(t_.K,{spacing:1,children:[(0,l.jsxs)(eQ.X,{size:"sm",fontWeight:"semibold",children:[t," ",o?(0,l.jsx)(ev.Yq,{label:o,ml:1}):null]}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.600",children:n}),c]}),r]}),a&&(0,l.jsx)(sv.r,{isChecked:s,onChange:e=>a(e.target.checked)})]})},sw=e=>{let{hideExtraLines:t}=e;return(0,l.jsxs)(t_.K,{w:"100%",py:2,px:2.5,children:[(0,l.jsx)(d.xu,{w:20,h:1.5,bg:"gray.200"}),(0,l.jsxs)(em.U,{flex:"1",alignItems:"flex-start",children:[(0,l.jsx)(sj.o,{ratio:4/3,color:"gray.600",w:12,bg:"gray.200",children:(0,l.jsx)(d.xu,{fontSize:"lg",children:(0,l.jsx)(f.G,{icon:p.VmB})})}),(0,l.jsxs)(t_.K,{flex:"1",spacing:"1",children:[(0,l.jsx)(d.xu,{h:1,bg:"gray.200"}),(0,l.jsx)(d.xu,{h:1,bg:"gray.200"}),(0,l.jsx)(d.xu,{h:1,bg:"gray.200"}),(0,l.jsx)(d.xu,{w:t?"80%":"100%",h:1,bg:"gray.200"}),!t&&(0,l.jsx)(d.xu,{w:"80%",h:1,bg:"gray.200"})]})]})]})},sD=e=>{let{cardDimensions:t,showBackdrop:n,isWide:i,label:r,scaleCardUp:o}=e,s={boxShadow:"".concat(n?"sm":""),w:"".concat(i?"85%":"65%"),mx:"auto",borderRadius:"sm",bg:"white",transform:"".concat(o?"scale(1.15)":"none")};return(0,l.jsxs)(t_.K,{flex:"1",alignItems:"center",sx:{"*":{transition:"all 0.2s ease"}},spacing:1.5,maxW:"50%",mx:"auto",children:[(0,l.jsx)(c.k,{bg:n?"gray.200":"white",borderWidth:"1px",borderColor:"gray.200",width:"100%",minH:32,borderRadius:"sm",alignItems:"center",py:2,overflow:"hidden",children:t.aspectRatio?(0,l.jsx)(sj.o,{...s,ratio:t.aspectRatio,children:(0,l.jsx)(d.xu,{children:(0,l.jsx)(sw,{hideExtraLines:i})})}):(0,l.jsx)(t_.K,{...s,children:(0,l.jsx)(sw,{hideExtraLines:i})})}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.700",children:r})]})};var s_=n(64743),sE=n(55891);let sS=e=>{let{editor:t}=e,n=(0,U.CG)(B.Pu),i=(0,U.CG)(B.XV),r=(0,j.useCallback)(e=>{null==t||t.commands.updateNestedAttributesAtPos(0,e)},[t]);return(0,l.jsx)(sE.o,{editor:t,background:i,updateNestedAttributes:r,defaultMessage:(0,l.jsxs)(nG.b,{children:[(0,l.jsx)(rM.z,{}),(0,l.jsx)(m.cC,{id:"dyXYfJ"})]}),isDark:(0,t1.wj)(n),isValidSource:s_.Rr})};var sA=n(85573);let sT=e=>{let{length:t,idealLength:n,maxLength:i}=e;return(0,l.jsxs)(u.x,{fontSize:"xs",color:t>=i?"red.400":"gray.500",children:[t>=i&&(0,l.jsx)(f.G,{icon:e2.e7M})," ",t,"/",n]})};var sI=n(66625),sO=n(60536),sM=n(82476),sF=n(92768),sR=n(37733),sN=n(56920),sP=n(57124);let sL=(e,t)=>{var n;return null==e?void 0:null===(n=e.routes.find(e=>e.docId===t))||void 0===n?void 0:n.path},sz=()=>{let e=(0,n8.p)(),[t,n]=(0,j.useState)(!1),{openPageSetup:i}=(0,tH.AA)(),r=(0,sP._O)(),o=(0,U.CG)(tG.yx),s=(0,U.CG)(eA.lH),[a,{loading:c}]=(0,C.qbt)(),h=sL(s,null==o?void 0:o.id),[p,f]=(0,j.useState)(()=>(0,eO.es)(h||"")),[x,g]=(0,j.useState)(()=>(0,eO.es)(h||"")),v=(0,eO.gT)({routes:(null==s?void 0:s.routes)||[],path:(0,eO.fJ)(p),docId:null==o?void 0:o.id}),b=!!v,y=x!==p&&!b,k=(0,j.useCallback)(()=>{f(x)},[x]),w=(0,j.useCallback)(()=>{if(!y)return;if(!(null==s?void 0:s.id)||!(null==o?void 0:o.id)){console.error("Missing site or doc");return}let t=(0,eO.Is)(p);a({variables:{input:{siteId:s.id,docId:o.id,path:t}},refetchQueries:["GetSite"]}).then(()=>{g((0,eO.es)(t)),f((0,eO.es)(t)),n(!0)}).catch(t=>{e({status:"error",title:(0,l.jsx)(m.cC,{id:"dl5vwx"}),description:t.message}),console.error("[UrlSlugForm] Error setting route",t.message)})},[y,null==o?void 0:o.id,p,a,null==s?void 0:s.id,e]);return r?(0,l.jsxs)(t_.K,{pb:6,children:[(0,l.jsx)(t_.K,{direction:"row",children:(0,l.jsxs)(u.x,{children:[(0,l.jsx)(m.cC,{id:"dq8+qI"})," "]})}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(t_.K,{spacing:2,children:(0,l.jsx)(em.U,{spacing:1,children:(0,l.jsxs)(ij.NI,{as:"fieldset",isInvalid:b,children:[(0,l.jsx)(em.U,{children:(0,l.jsxs)(nq.B,{children:[(0,l.jsx)(sF.Ui,{children:"/"}),(0,l.jsx)(sA.I,{isDisabled:c,bg:"white",flex:2,value:p,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),w())},onChange:e=>{let t=(0,sN.IR)(e.currentTarget.value);f(t)}}),(0,l.jsx)(sR.R,{in:y,unmountOnExit:!0,children:(0,l.jsx)(d.xu,{ml:2,children:(0,l.jsxs)(eg.h,{w:"100%",children:[(0,l.jsx)(ex.z,{variant:"solid",isLoading:c,isDisabled:b,onClick:w,children:(0,l.jsx)(m.cC,{id:"tfDRzk"})}),(0,l.jsx)(ex.z,{onClick:k,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})})]})})})]})}),v?(0,l.jsx)(o4.J1,{justifyContent:"flex-end",alignItems:"flex-start",children:(0,l.jsx)(u.x,{fontSize:"xs",children:(0,l.jsx)(m.cC,{id:"DQaTdC",components:{0:(0,l.jsx)(iJ.r,{textDecoration:"underline",onClick:()=>i(v.docId,"preview")})}})})}):(0,l.jsxs)(t_.K,{spacing:2,children:[(0,l.jsx)(ij.Q6,{fontSize:"sm",children:(0,l.jsx)(m.cC,{id:"ZMlbHK"})}),t&&(0,l.jsxs)(nG.b,{status:"warning",variant:"left-accent",fontSize:"sm",children:[(0,l.jsx)(rM.z,{}),(0,l.jsx)(nB.X,{children:(0,l.jsx)(m.cC,{id:"ZyBxCy"})})]})]})]})})})]}):(0,l.jsx)(l.Fragment,{})},sG=e=>{let{updateDocSetting:t}=e,{metaDescription:n}=(0,U.CG)(B.US),i=(0,U.CG)(B.yx),r=(0,U.CG)((0,sI.cn)(null==i?void 0:i.id)),o=(0,U.CG)(sI.$4),[s,a]=(0,j.useState)(()=>(null==i?void 0:i.title)||""),[c,h]=(0,j.useState)(()=>n||""),p=i&&!!i.site&&(0,eO.Vr)(i.site),[f]=(0,C.D1_)(),g=(0,j.useCallback)(e=>{i&&f({variables:{id:i.id,title:e,titleEdited:!0}})},[i,f]),v=(0,tx.Kt)(g,300),b=(0,j.useCallback)(e=>{a(e.target.value.substring(0,sM.S8)),v(e.target.value.substring(0,sM.S8))},[v]),y=(0,j.useCallback)(e=>{t("metaDescription",e)},[t]),k=(0,tx.Kt)(y,300),w=(0,U.CG)(sI.NN),_=null==w?void 0:w.previewUrl,E=(0,X.dU)(null==i?void 0:i.organization),S=(0,D.U)(s||r,E),A=(0,D.V)(c||o,E);return(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsxs)(ij.NI,{children:[(0,l.jsxs)(em.U,{justifyContent:"center",children:[(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"MHrjPM"})}),(0,l.jsx)(sT,{length:s.length||0,idealLength:sM.si,maxLength:sM.S8})]}),(0,l.jsx)(sA.I,{value:s,placeholder:r||x.ag._({id:"bTzMt5"}),_placeholder:{opacity:1,color:"gray.500"},onKeyDown:e=>{"Enter"===e.key&&g(s)},onChange:b,"data-title-input":!0})]}),(null==i?void 0:i.site)&&(0,l.jsx)(sz,{}),(0,l.jsxs)(ij.NI,{children:[(0,l.jsxs)(em.U,{justifyContent:"center",children:[(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"Nu4oKW"})}),(0,l.jsx)(sT,{length:c.length||0,idealLength:sM.cl,maxLength:sM.Us})]}),(0,l.jsx)(nZ.g,{bg:"white",rows:4,value:c,placeholder:(null==o?void 0:o.trim())||x.ag._({id:"2VBqT4"}),onChange:e=>{h(e.target.value.substring(0,sM.Us)),k(e.target.value.substring(0,sM.Us))}})]}),(0,l.jsxs)(d.xu,{p:4,pt:3,bg:"gray.100",borderRadius:"md",children:[(0,l.jsxs)(t_.K,{spacing:2,mb:4,children:[(0,l.jsx)(u.x,{size:"sm",children:(0,l.jsx)(m.cC,{id:"h8sMnd"})}),(0,l.jsx)(sU,{title:S,description:A,screenshotUrl:_})]}),p&&(0,l.jsxs)(t_.K,{spacing:2,children:[(0,l.jsx)(rS.i,{}),(0,l.jsx)(u.x,{size:"sm",children:(0,l.jsx)(m.cC,{id:"d3xOlk"})}),(0,l.jsx)(sB,{title:S,description:A,screenshotUrl:_}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"Ubf8D8"})})]})]}),(0,l.jsx)(sO.V,{label:(0,l.jsx)(m.cC,{id:"SDyz5I"}),segmentEvent:th.AA.GAMMA_PRO_UPSELL_PAGE_SETUP_REMOVE_WATERMARK,doc:i})]})},sU=e=>{let{title:t,description:n,screenshotUrl:i}=e;return(0,l.jsxs)(d.xu,{cursor:"not-allowed",bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",overflow:"hidden",children:[(0,l.jsx)(sj.o,{ratio:1200/630,bg:"gray.300",borderBottom:"1px solid",borderColor:"gray.200",children:(0,l.jsx)(d.xu,{bgColor:"gray.200",bgImage:"url(".concat(i,")"),backgroundSize:"cover",position:"relative"})}),(0,l.jsxs)(t_.K,{px:4,py:3,spacing:1,children:[(0,l.jsx)(u.x,{fontSize:"md",fontWeight:"bold",noOfLines:2,children:t}),(0,l.jsx)(u.x,{fontSize:"xs",noOfLines:2,children:n})]})]})},sB=e=>{let{title:t,description:n}=e;return(0,l.jsxs)(t_.K,{cursor:"not-allowed",bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",overflow:"hidden",px:4,py:3,spacing:1,pos:"relative",children:[(0,l.jsx)(u.x,{color:"blue.600",fontSize:"lg",lineHeight:1.3,noOfLines:2,children:t}),(0,l.jsx)(u.x,{color:"gray.700",fontSize:"sm",noOfLines:3,children:n})]})},sH=["cards","background","preview"],sW=e=>{let{editor:t}=e,n=(0,U.CG)(B.ke),{isOpen:i,onClose:r,onOpen:o}=(0,nl.M)({id:"pageSetupDisclosure"}),[s,a]=(0,j.useState)(0);(0,j.useEffect)(()=>{let e=e=>{let t=sH.indexOf(e);a(t),o()},t=sa.T.on("openPageSetup",e),n=nd.pw.on(nd.TI.OPEN_PAGE_SETUP,e);return()=>{t(),n()}},[o,r]);let c=(0,o7.A)(t),u=(0,j.useCallback)((e,n)=>{null==t||t.commands.updateNestedAttributesAtPos(0,{settings:{[e]:n}})},[t]),h=(0,sh.S)({base:"calc(100% - 1rem)",lg:"auto"}),x=(0,sh.S)({base:"bottom",lg:"right"})||"right";return t?(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(tW.d,{returnFocusOnClose:!1,isOpen:i,placement:x,onClose:r,size:"md",blockScrollOnMount:!1,children:[(0,l.jsx)(tV.Z,{background:{base:void 0,lg:"none"}}),(0,l.jsxs)(tq.s,{"data-testid":"page-setup-drawer",onKeyDown:c,h:h,borderTopRadius:{base:"xl",lg:"none"},transform:"none !important",children:[(0,l.jsx)(tZ.o,{}),(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"fvaOtb"})}),(0,l.jsx)(tK.f,{overflowX:"hidden",children:(0,l.jsxs)(sp.m,{variant:"soft-rounded",size:"sm",isFitted:!0,isLazy:!0,index:s,onChange:a,children:[(0,l.jsxs)(sf.t,{children:[(0,l.jsxs)(sm.O,{children:[(0,l.jsx)(d.xu,{mr:2,children:(0,l.jsx)(f.G,{icon:p.s2})}),(0,l.jsx)(m.cC,{id:"Ccpbzh"})]}),(0,l.jsxs)(sm.O,{children:[(0,l.jsx)(d.xu,{mr:2,children:(0,l.jsx)(f.G,{icon:p.UHQ})}),(0,l.jsx)(m.cC,{id:"GtJbUa"})]}),(0,l.jsxs)(sm.O,{children:[(0,l.jsx)(d.xu,{mr:2,children:(0,l.jsx)(f.G,{icon:p.g4A})}),(0,l.jsx)(m.cC,{id:"rdUucN"})]})]}),(0,l.jsxs)(sx.n,{children:[(0,l.jsx)(sg.x,{p:2,mt:4,children:(0,l.jsx)(sC,{editor:t,updateDocSetting:u},n)}),(0,l.jsx)(sg.x,{p:2,mt:4,children:(0,l.jsx)(sS,{editor:t,updateDocSetting:u},n)}),(0,l.jsx)(sg.x,{p:2,mt:4,children:(0,l.jsx)(sG,{editor:t,updateDocSetting:u},n)})]})]})})]})]})}):null},sV=e=>{let{editor:t,withDrawer:n=!1,onClick:i,icon:r,label:o}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{icon:r||(0,l.jsx)(f.G,{icon:p.gr5,fixedWidth:!0}),onClick:i||(()=>{sa.T.emit("openPageSetup","cards")}),children:o||(0,l.jsx)(m.cC,{id:"Kx2GmY"})}),n&&(0,l.jsx)(sW,{editor:t})]})},sq=e=>{let{site:t}=e,n=(0,sn.Z)((0,si.Z)(t.createdTime),"PPP");return(0,l.jsxs)(d.xu,{px:4,pb:2,maxW:"300px",children:[(0,l.jsx)(u.x,{noOfLines:6,children:t.name}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(m.cC,{id:"jlWdji",values:{createdTime:n}})})]})},sZ=e=>{let{onClose:t,domainName:n,onDelete:i,isDeleting:r}=e;return(0,l.jsxs)(rl.u_,{isOpen:!0,onClose:t,trapFocus:!1,size:"xl",isCentered:!0,closeOnOverlayClick:!1,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(t_.K,{spacing:0,children:(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"T3exbL",values:{domainName:n}})})})}),(0,l.jsx)(tK.f,{children:(0,l.jsx)(t_.K,{spacing:4,children:(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"DkFGZj"})})})}),(0,l.jsx)(tY.m,{children:(0,l.jsxs)(eg.h,{children:[(0,l.jsx)(ex.z,{isDisabled:r,variant:"ghost",colorScheme:"gray",onClick:t,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ex.z,{variant:"ghost",colorScheme:"red",isLoading:r,onClick:i,loadingText:x.ag._({id:"EF2EU9"}),children:(0,l.jsx)(m.cC,{id:"cnGeoo"})})]})})]})]})};var sK=n(56453),sY=n(75397);let sX=e=>{let{isOpen:t,onClose:n,domain:i,siteId:r}=e,o=(0,n8.p)(),s=null==i?void 0:i.name,a=null==s?void 0:s.split(".")[0].split("-").slice(-1)[0],[c,d]=(0,j.useState)(null==s?void 0:s.split(".")[0].split("-").slice(0,-1).join("-")),h=null==s?void 0:s.split(".").slice(1).join("."),[p,{loading:f}]=(0,C.gVY)(),g=(0,j.useCallback)(()=>{p({variables:{input:{siteId:r,name:c}}}).then(()=>{o({title:(0,l.jsx)(m.cC,{id:"oMgC5V"}),description:(0,l.jsx)(m.cC,{id:"tIBLtD"}),duration:3e3,position:"top",isClosable:!1,status:"success"}),n()}).catch(e=>{o({title:(0,l.jsx)(m.cC,{id:"YoFYYT"}),description:(0,l.jsx)(m.cC,{id:"Wd0ucu"}),duration:3e3,position:"top",isClosable:!1,status:"error"}),console.error("[BuiltInDomainEditModal] Failed to change domain name:",e)})},[p,r,c,o,n]);return(0,l.jsxs)(rl.u_,{isOpen:t,onClose:n,size:"md",closeOnOverlayClick:!1,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"VMKg48"})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(ij.NI,{children:[(0,l.jsxs)(em.U,{children:[(0,l.jsx)(sA.I,{value:c,onKeyDown:e=>{"Enter"===e.key&&g()},onChange:e=>{let t=(0,sN.IR)(e.target.value);d(t)},placeholder:x.ag._({id:"dcSbw0"})}),(0,l.jsxs)(ib.l,{whiteSpace:"nowrap",children:["-",a,".",h]})]}),(0,l.jsx)(ij.Q6,{lineHeight:"normal",children:(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"bvN4Vx"})})})]})}),(0,l.jsxs)(tY.m,{children:[(0,l.jsx)(ex.z,{onClick:n,mr:3,variant:"ghost",children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ex.z,{variant:"solid",onClick:g,isLoading:f,isDisabled:c.length<3,children:(0,l.jsx)(m.cC,{id:"tfDRzk"})})]})]})]})},s$={pending:{tooltip:(0,l.jsx)(m.cC,{id:"/BjVEU"}),badgeText:(0,l.jsx)(m.cC,{id:"bl9677"}),badgeColorScheme:"yellow"},failed:{tooltip:(0,l.jsx)(m.cC,{id:"7Bj3x9"}),badgeText:(0,l.jsx)(m.cC,{id:"7Bj3x9"}),badgeColorScheme:"red"}},sJ=e=>{let{status:t,onClick:n}=e;if("verified"===t)return null;let{tooltip:i,badgeText:r,badgeColorScheme:o}=s$[t];return(0,l.jsx)(ev.kH,{label:i,placement:"top",children:(0,l.jsx)(o5.C,{display:"flex",justifyContent:"center",colorScheme:o,cursor:n?"pointer":"default",onClick:n||void 0,children:r})})},sQ=e=>{let{domain:t,onDomainSetupClick:n,path:i,onDeleteClick:r,numDomains:o,siteId:s}=e,a=(0,eO.mn)({domain:t,path:i}),c=(0,n8.p)(),d=!t.builtin,h=t.builtin,g=d&&("verified"!==t.status||"verified"===t.status&&o>1),[v]=(0,C.NEQ)(),b=(0,j.useCallback)(async()=>{await v({variables:{id:t.id}}),c({title:(0,l.jsx)(m.cC,{id:"LIAJwx"}),status:"success",duration:3e3,position:"top",isClosable:!0})},[v,t.id,c]),{isOpen:y,onOpen:k,onClose:w}=(0,E.q)({id:"edit-domain-modal"});return(0,l.jsxs)(sK.Z,{variant:"outline",children:[(0,l.jsx)(sY.e,{children:(0,l.jsxs)(em.U,{children:["verified"===t.status?(0,l.jsx)(ev.kH,{label:a,placement:"top",children:(0,l.jsx)(ex.z,{as:iJ.r,variant:"link",href:a,target:"_blank",rightIcon:(0,l.jsx)(f.G,{icon:e2.wlW,size:"xs"}),whiteSpace:"normal",children:t.name})}):(0,l.jsx)(u.x,{children:t.name}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(sJ,{status:t.status,onClick:"failed"===t.status?b:null}),(0,l.jsxs)(eg.h,{children:[h&&(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"VMKg48"}),placement:"top",children:(0,l.jsx)(T.h,{onClick:k,"aria-label":x.ag._({id:"VMKg48"}),size:"sm",variant:"ghost",icon:(0,l.jsx)(f.G,{icon:p.Xcf})})}),d&&(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"UqSZMD"}),placement:"top",children:(0,l.jsx)(T.h,{onClick:()=>{n(t.name)},"aria-label":x.ag._({id:"UqSZMD"}),size:"sm",variant:"ghost",colorScheme:"blackAlpha",icon:(0,l.jsx)(f.G,{icon:p.DBf})})}),g&&(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"C2YqXi"}),placement:"top",children:(0,l.jsx)(T.h,{onClick:()=>{r(null==t?void 0:t.id)},"aria-label":x.ag._({id:"C2YqXi"}),size:"sm",variant:"ghost",colorScheme:"red",icon:(0,l.jsx)(f.G,{icon:p.Vui})})})]})]})}),(0,l.jsx)(sX,{isOpen:y,onClose:w,domain:t,siteId:s})]})},s0=e=>{let{isOpen:t,onClose:n,domainName:i,onTransferConfirm:r,onTransferCancel:o,domainToTransfer:s,isTransferring:a}=e,c=(0,j.useCallback)(()=>{o(),n()},[n,o]),d=(0,j.useCallback)(async()=>{r(),n()},[n,r]);return s?(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(rl.u_,{isOpen:t,onClose:c,size:"lg",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"hqplvI"})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(t_.K,{spacing:2,children:[(0,l.jsx)(u.x,{children:s.siteArchived?(0,l.jsx)(m.cC,{id:"SeHn75",values:{domainName:i,0:s.siteName}}):(0,l.jsx)(m.cC,{id:"tX38ij",values:{domainName:i,0:s.siteName}})}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"rKH6wM"})})]})}),(0,l.jsxs)(tY.m,{children:[(0,l.jsx)(ex.z,{variant:"ghost",mr:3,onClick:c,children:(0,l.jsx)(m.cC,{id:"yz7wBu"})}),(0,l.jsx)(ex.z,{isLoading:a,variant:"ghost",colorScheme:"red",onClick:d,children:(0,l.jsx)(m.cC,{id:"vTZxnA"})})]})]})]})}):(0,l.jsx)(l.Fragment,{})},s1=e=>{var t;let{site:n,path:i,onDomainSetupClick:r,onAddDomain:o,isAddingDomain:s,refetchSites:a}=e,c=(0,n8.p)(),{currentWorkspace:u}=(0,e$.SE)(),[d,h]=(0,j.useState)(),[p,f]=(0,j.useState)(),[g,v]=(0,j.useState)(""),{isOpen:b,onOpen:y,onClose:k}=(0,E.q)({id:"delete-domain-modal"}),{isOpen:w,onOpen:D,onClose:_}=(0,nl.M)({id:"transferDomainModal"}),[S,{loading:A}]=(0,C.KtP)({fetchPolicy:"network-only",nextFetchPolicy:"network-only"}),T=n.domains.find(e=>e.id===d),I=(0,eO.m6)(g)&&void 0===n.domains.find(e=>e.name===g),[O,{loading:M}]=(0,C.Yqv)(),[F,{loading:R}]=(0,C.dLz)(),[N,P]=(0,j.useState)(void 0),L=(0,j.useCallback)(async e=>{var t;let i=await S({variables:{name:e,workspaceId:null==u?void 0:u.id}}),r=null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.domains,s=null==r?void 0:r[0];if(n&&s){f(s),D();return}o(e),f(void 0),v("")},[null==u?void 0:u.id,S,o,D,n]);(0,tx.vm)(()=>{d?P(null==T?void 0:T.name):P(void 0)},[d,null==T?void 0:T.name],[d]);let z=(0,j.useCallback)(()=>{k(),h(()=>void 0)},[k]),G=(0,j.useCallback)(async()=>{T&&(await O({variables:{id:d}}),await a(),c({title:(0,l.jsx)(m.cC,{id:"V4fbcv",values:{0:T.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),z())},[a,O,d,T,z,c]),U=(0,sP.Y)("custom_domains"),B=(0,eO.Zz)(n.domains),H=(0,j.useCallback)(()=>{f(void 0)},[]),W=(0,j.useCallback)(async()=>{p&&(await F({variables:{id:null==p?void 0:p.id,siteId:n.id},refetchQueries:["GetSite"]}),c({title:(0,l.jsx)(m.cC,{id:"dHhDGG",values:{0:p.name}}),position:"top",status:"success",duration:5e3}),v(""),f(void 0))},[p,n.id,c,F]);return(0,l.jsxs)(t_.K,{spacing:4,p:2,children:[(0,l.jsxs)(ij.NI,{children:[(0,l.jsx)(ib.l,{children:(0,l.jsx)(m.cC,{id:"AZ4xlc"})}),U&&(0,l.jsxs)(em.U,{mb:2,children:[(0,l.jsx)(sA.I,{bg:"white",placeholder:(null==n?void 0:null===(t=n.domains)||void 0===t?void 0:t.length)?x.ag._({id:"B6e4xs"}):x.ag._({id:"1y9z1r"}),value:g,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"===e.key&&I&&(e.preventDefault(),L(g))}}),(0,l.jsx)(t_.K,{children:(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"aUB5ST"}),placement:"top",shouldWrapChildren:!0,isDisabled:I,children:(0,l.jsx)(ex.z,{isDisabled:!I,variant:"plain",onClick:()=>{L(g)},isLoading:s||A,children:(0,l.jsx)(m.cC,{id:"EdEpYN"})})})})]})]}),B.map(e=>(0,l.jsx)(sQ,{domain:e,onDomainSetupClick:r,path:i,onDeleteClick:e=>{h(e),y()},numDomains:n.domains.length||0,siteId:n.id},e.id)),!U&&(0,l.jsx)(rT.m,{segmentEvent:ez.AA.GAMMA_PRO_UPSELL_DOMAINS,title:(0,l.jsx)(m.cC,{id:"m6aLo0"}),description:(0,l.jsx)(m.cC,{id:"xFELnF",values:{GAMMA_PRO_PROPER_NOUN:Y.x8,GAMMA_PROPER_NOUN:Y.N6}})}),b&&(0,l.jsx)(sZ,{onClose:z,onDelete:G,domainName:N,isDeleting:M}),(0,l.jsx)(s0,{isOpen:w,onClose:_,onTransferCancel:H,domainName:g,domainToTransfer:p,onTransferConfirm:W,isTransferring:R})]})};var s2=n(97010),s3=n(44438);let s5=async e=>{let t=await fetch("/api/domains/connectToken").then(e=>e.json()).then(e=>{if(!e.auth_token)throw Error("No auth token returned");return e.auth_token});if(!window.entri)throw Error("Entri not found");let{domain:n,dnsRecords:i}=(0,eO.Yd)(e),r={applicationId:"gamma",token:t,prefilledDomain:n,dnsRecords:i};return console.log("[launchEntri] Launching Entri with config",r),window.entri.showEntri(r),new Promise((e,t)=>{let n=i=>{console.log("onEntriClose: event",i),window.removeEventListener("onEntriClose",n),i.detail.success?e(i.detail):t(i.detail)};window.addEventListener("onEntriClose",n,!1)})},s4=e=>{let{isOpen:t,onClose:n,domainName:i,onDomainConfirmed:r}=e,[o,s]=(0,j.useState)("initial"),a=(0,j.useRef)(!1),[d,h]=(0,j.useState)(()=>void 0!==window.entri),[x,g]=(0,j.useState)(!1),v=(0,n8.p)();(0,tx.Gq)(sM.oc,{predicate:()=>void 0===window.entri,onload:()=>{h(!0),a.current=!0}});let{dnsRecords:b,isRootDomain:y,subdomain:C}=(0,j.useMemo)(()=>(0,eO.Yd)(i||""),[i]);return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(rl.u_,{isOpen:t,onClose:n,size:"3xl",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"xQMU8T",values:{domainName:i}})}),(0,l.jsx)(tZ.o,{}),(0,l.jsxs)(tK.f,{children:["initial"===o&&(0,l.jsx)(sK.Z,{variant:"filled",children:(0,l.jsx)(sY.e,{children:(0,l.jsxs)(t_.K,{spacing:4,py:4,mx:"auto",children:[(0,l.jsxs)(t_.K,{spacing:2,children:[(0,l.jsxs)(t_.K,{spacing:1,children:[(0,l.jsx)(u.x,{textAlign:"center",fontSize:"2xl",children:(0,l.jsx)(f.G,{icon:p.g4A,size:"lg"})}),(0,l.jsx)(u.x,{fontWeight:"semibold",fontSize:"lg",textAlign:"center",children:(0,l.jsx)(m.cC,{id:"w5l5pM"})})]}),(0,l.jsx)(u.x,{textAlign:"center",maxW:"unset",children:(0,l.jsx)(m.cC,{id:"MhdvBQ"})})]}),(0,l.jsx)(c.k,{align:"center",justify:"center",w:"100%",children:(0,l.jsxs)(t_.K,{w:64,maxW:"100%",children:[(0,l.jsx)(ex.z,{size:"md",variant:"solid",isDisabled:!d,isLoading:x,onClick:()=>{i&&(g(!0),s5(i).then(e=>{console.log("[ENTRI] Successfully setup domain",e),v({title:(0,l.jsx)(m.cC,{id:"p8Oc6N"}),description:(0,l.jsx)(m.cC,{id:"HqV46b"}),status:"success",duration:3e3,isClosable:!0,position:"top"}),null==r||r(i)}).catch(e=>{v({title:(0,l.jsx)(m.cC,{id:"l/2jzv"}),description:e.message,status:"error",duration:3e3,isClosable:!0,position:"top"})}).finally(()=>{g(!1)}))},children:(0,l.jsx)(m.cC,{id:"qu+sXe"})}),(0,l.jsxs)(em.U,{children:[(0,l.jsx)(rS.i,{}),(0,l.jsx)(u.x,{color:"gray.600",children:(0,l.jsx)(m.cC,{id:"BzEFor"})}),(0,l.jsx)(rS.i,{})]}),(0,l.jsx)(ex.z,{size:"md",variant:"plain",onClick:()=>{s("manualSetup")},children:(0,l.jsx)(m.cC,{id:"ANIrop"})})]})})]})})}),"manualSetup"===o&&(0,l.jsx)(sK.Z,{variant:"filled",children:(0,l.jsx)(sY.e,{children:(0,l.jsxs)(t_.K,{spacing:6,children:[(0,l.jsx)(u.x,{fontWeight:"semibold",fontSize:"lg",children:(0,l.jsx)(m.cC,{id:"L5N7HX"})}),(0,l.jsxs)(on.i,{variant:"simple",children:[(0,l.jsx)(r7.h,{children:(0,l.jsxs)(r9.Tr,{children:[(0,l.jsx)(oe.Th,{children:(0,l.jsx)(m.cC,{id:"6YtxFj"})}),(0,l.jsx)(oe.Th,{children:(0,l.jsx)(m.cC,{id:"+zy2Nq"})}),(0,l.jsx)(oe.Th,{isNumeric:!0,children:(0,l.jsx)(m.cC,{id:"HKH+W+"})})]})}),(0,l.jsx)(oi.p,{children:(b||[]).map(e=>(0,l.jsxs)(r9.Tr,{children:[(0,l.jsx)(or.Td,{fontFamily:"mono",children:e.host}),(0,l.jsx)(or.Td,{fontFamily:"mono",children:e.type}),(0,l.jsx)(or.Td,{isNumeric:!0,fontFamily:"mono",children:e.value})]},e.value))})]}),(0,l.jsxs)(nG.b,{status:"info",colorScheme:"orange",children:[(0,l.jsx)(rM.z,{}),(0,l.jsxs)(t_.K,{children:[(0,l.jsx)(u.x,{fontWeight:"bold",fontSize:"md",children:(0,l.jsx)(m.cC,{id:"NxHkkp"})}),(0,l.jsxs)(s2.GS,{pl:"4",spacing:"2",children:[y?1===sM.Co.length?(0,l.jsx)(s2.HC,{children:(0,l.jsx)(m.cC,{id:"YMrXdT",values:{0:sM.Co[0]},components:{0:(0,l.jsx)(s3.E,{colorScheme:"gray"}),1:(0,l.jsx)(s3.E,{colorScheme:"gray"}),2:(0,l.jsx)(s3.E,{colorScheme:"gray"})}})}):(0,l.jsx)(s2.HC,{children:(0,l.jsx)(m.cC,{id:"FM+LNW",values:{0:sM.Co.slice(0,-1).map(e=>(0,l.jsx)(s3.E,{colorScheme:"gray",children:e},e)),1:sM.Co.slice(-1)[0]},components:{0:(0,l.jsx)(s3.E,{colorScheme:"gray"}),1:(0,l.jsx)(em.U,{display:"inline",divider:(0,l.jsx)("span",{children:", "})}),2:(0,l.jsx)(s3.E,{colorScheme:"gray"}),3:(0,l.jsx)(s3.E,{colorScheme:"gray"})}})}):null,(0,l.jsx)(s2.HC,{children:(0,l.jsx)(m.cC,{id:"Jmb6Yp",values:{subdomain:C,GAMMA_SITES_HOST:sM.ax},components:{0:(0,l.jsx)(s3.E,{colorScheme:"gray"}),1:(0,l.jsx)(s3.E,{colorScheme:"gray"}),2:(0,l.jsx)(s3.E,{colorScheme:"gray"})}})})]})]})]}),r&&(0,l.jsxs)(em.U,{justifyContent:"space-between",children:[(0,l.jsx)(ex.z,{variant:"plain",onClick:()=>s("initial"),children:(0,l.jsx)(m.cC,{id:"iH8pgl"})}),(0,l.jsx)(ex.z,{variant:"solid",onClick:()=>{n(),null==r||r(i)},size:"md",mx:"auto",children:(0,l.jsx)(m.cC,{id:"RyhVuk"})})]})]})})})]}),(0,l.jsx)(tY.m,{})]})]})})},s6=e=>{let{children:t,shouldWrap:n=!1}=e;return n?(0,l.jsx)(ie.W,{py:16,maxW:"container.md",children:t}):(0,l.jsx)(l.Fragment,{children:t})},s8=e=>{let{showHeadings:t=!0}=e,{currentWorkspace:n}=(0,e$.SE)(),i=(0,U.CG)(eA.lH),{refetch:r}=(0,io.ZUZ)({variables:{id:null==i?void 0:i.id},fetchPolicy:"cache-first",skip:!(null==i?void 0:i.id)}),{isOpen:o,onOpen:s,onClose:a}=(0,nl.M)({id:"domainSetupModal"}),d=null==i?void 0:i.domains.find(e=>"pending"===e.status),[h,p]=(0,j.useState)(null),[f,{loading:x}]=(0,io.kui)(),[g,v]=(0,j.useState)();(0,j.useEffect)(()=>{if(!d)return;let e=setInterval(()=>{r()},1e4);return()=>{clearInterval(e)}},[d,r,i]);let b=(0,j.useCallback)(e=>{v(e),s()},[s]),y=(0,j.useCallback)(e=>{"addDomain"===h&&(f({variables:{input:{siteId:null==i?void 0:i.id,name:e}}}),a())},[f,h,a,null==i?void 0:i.id]);return console.debug("%cDomainsPanel debug","background-color: #cc00ff",{site:i}),(0,l.jsx)(c.k,{w:"100%",flex:1,direction:"column",mt:4,children:(0,l.jsxs)(s6,{shouldWrap:t,children:[t&&(0,l.jsxs)(t_.K,{spacing:1,mb:4,children:[(0,l.jsx)(eQ.X,{children:(0,l.jsx)(m.cC,{id:"AZ4xlc"})}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"KuoJwF"})})]}),i?(0,l.jsx)(s1,{site:i,onDomainSetupClick:b,onAddDomain:e=>{s(),v(e),p("addDomain")},isAddingDomain:x,refetchSites:r}):(0,l.jsx)(tJ.AA,{}),o&&g&&(0,l.jsx)(s4,{domainName:g,isOpen:o,onClose:()=>{a(),p(null)},onDomainConfirmed:h?y:null})]})})};var s7=n(20437),s9=n(99787),ae=n(16494),at=n(19576),an={src:"/_next/static/media/no-navbar.e9d28333.png"},ai={src:"/_next/static/media/top-navbar.97a69a83.png"};let ar=e=>{let t=(0,U.CG)(eA.lH);return t?(0,l.jsx)(ao,{site:t,...e}):null},ao=e=>{let{site:t,showHeadings:n=!0,doc:i}=e,r=(0,n8.p)(),o=(0,tr.ye)("sitesNav"),[s,a]=(0,j.useState)(t.name),[d,h]=(0,j.useState)(t.gtmContainerId),[g,v]=(0,j.useState)(t.navEnabled),[b,y]=(0,j.useState)(!1),[k,w]=(0,j.useState)(!1),[D,_]=(0,j.useState)(null),{currentWorkspace:E}=(0,e$.SE)(),[S]=(0,C.Iyu)(),A=(0,j.useCallback)(async()=>{if(!(null==t?void 0:t.id))return;y(!0);let e={siteId:null==t?void 0:t.id,name:s,navEnabled:g,gtmContainerId:d};if(g&&!(null==t?void 0:t.navContent)){let n=(0,eO.eQ)(t),i=(0,eC.yQ)({docId:n,absolute:!0});e.navContent=(0,eP.JB)(i)}await S({variables:{input:e}}),r({title:(0,l.jsx)(m.cC,{id:"bZn5Ok"}),status:"success",isClosable:!0,position:"top"}),y(!1)},[d,s,g,t,r,S]),I=(0,j.useCallback)(async e=>{(null==t?void 0:t.id)&&(w(!0),await S({variables:{input:{siteId:null==t?void 0:t.id,faviconUrl:e}}}),r({title:e?(0,l.jsx)(m.cC,{id:"64GEyu"}):(0,l.jsx)(m.cC,{id:"/K2cLG"}),status:"success",isClosable:!0,position:"top"}),w(!1))},[null==t?void 0:t.id,r,S]),O=s!==(null==t?void 0:t.name)||g!==(null==t?void 0:t.navEnabled)||d!==(null==t?void 0:t.gtmContainerId);return(0,l.jsx)(c.k,{w:"100%",flex:1,direction:"column",px:2,children:(0,l.jsxs)(s6,{shouldWrap:n,children:[n&&(0,l.jsx)(eQ.X,{fontSize:"3xl",letterSpacing:"tight",fontWeight:"800",mb:12,children:(0,l.jsx)(m.cC,{id:"Tz0i8g"})}),(0,l.jsxs)(t_.K,{spacing:4,mt:6,children:[(0,l.jsxs)(ij.NI,{children:[(0,l.jsx)(em.U,{justifyContent:"center",children:(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"Lve3H6"})})}),(0,l.jsx)(sA.I,{onChange:e=>{a(e.currentTarget.value)},placeholder:x.ag._({id:"ZiMSMQ"}),value:s})]}),(0,l.jsxs)(ij.NI,{children:[(0,l.jsx)(em.U,{justifyContent:"center",children:(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"+Qaboy"})})}),(0,l.jsx)(c.k,{h:"150px",w:"100%",position:"relative",justify:"center",align:"center",children:(null==t?void 0:t.faviconUrl)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.k,{align:"center",justify:"center",w:"128px",h:"128px",border:"1px solid var(--chakra-colors-blackAlpha-200)",children:(0,l.jsx)(np.E,{src:null==t?void 0:t.faviconUrl,maxW:"100px",maxH:"100px",borderRadius:"sm"})}),(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"XyBdok"}),children:(0,l.jsx)(T.h,{zIndex:2,position:"absolute",top:0,right:0,isRound:!0,isDisabled:k,size:"sm",icon:(0,l.jsx)(f.G,{icon:p.XAH}),"aria-label":x.ag._({id:"XyBdok"}),onClick:()=>I(null)})})]}):k||D===ae.D.Uploading?(0,l.jsx)(tE.$,{}):(0,l.jsx)(s9.un,{orgId:null==E?void 0:E.id,uploadType:"icon",editType:"icon",dropHereText:x.ag._({id:"hVCCpY",values:{0:"%{browse}"}}),customHeight:"150px",customFontSize:"xs",showTip:!1,onUploadStart:()=>{_(ae.D.Uploading)},onUploadSuccess:async(e,t)=>{let{src:n,uploadResultStep:i}=e;"optimized"===i&&(await I(n),_(ae.D.Done))},onUploadFailed:e=>{_(ae.D.Error),r({title:(0,l.jsx)(m.cC,{id:"aECahe"})}),console.error("[Site SettingsPanel] Favicon upload error",e)},sx:{width:"100%",".uppy-Root":{border:"1px solid var(--chakra-colors-gray-200)",borderRadius:"md",width:"100%"},".uppy-DragDrop-label":{fontSize:"xs",color:"gray.500"},".uppy-DragDrop--isDragDropSupported":{border:"none"},".uppy-DragDrop-arrow":{transform:"scale(0.85)"}}})}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",mt:2,children:(0,l.jsx)(m.cC,{id:"ifTGl2"})})]}),o&&(0,l.jsxs)(ij.NI,{children:[(0,l.jsx)(em.U,{justifyContent:"center",children:(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"UxKoFf"})})}),(0,l.jsxs)(s7.M,{columns:2,spacing:6,flex:1,children:[(0,l.jsx)(as,{name:x.ag._({id:"Nom9QG"}),src:ai.src,isSelected:g,onClick:()=>{v(!0)}}),(0,l.jsx)(as,{name:x.ag._({id:"BvDFuc"}),src:an.src,isSelected:!g,onClick:()=>{v(!1)}})]})]}),(0,l.jsxs)(ij.NI,{children:[(0,l.jsx)(em.U,{justifyContent:"center",children:(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"d4WWfP"})})}),(0,l.jsxs)(c.k,{sx:{".gtm-prefix::before":{content:'"GTM\\2009-"'}},children:[(0,l.jsx)(c.k,{className:"gtm-prefix",position:"absolute",alignItems:"center",color:(null==d?void 0:d.length)?"gray.800":"gray.500",fontWeight:"400",h:10,pl:4}),(0,l.jsx)(sA.I,{pl:16,placeholder:"XXXXXX",value:d,onChange:e=>{let t=at.R.sanitize(e.currentTarget.value);h(t.replace(/[\W_]+/g,"").toUpperCase().slice(0,10))}})]}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",mt:2,children:(0,l.jsx)(m.cC,{id:"6LEeiE",components:{0:(0,l.jsx)("br",{}),1:(0,l.jsx)(ex.z,{"aria-label":"Learn more about Google Tag Manager",as:"a",px:1,textDecoration:"underline",variant:"ghost",href:"https://support.google.com/tagmanager/answer/6103696?hl=en",target:"_blank",size:"xs",rightIcon:(0,l.jsx)(ra.h,{ml:-1})})}})})]}),i&&(0,l.jsx)(sO.V,{label:(0,l.jsx)(m.cC,{id:"SDyz5I"}),segmentEvent:th.AA.GAMMA_PRO_UPSELL_SITE_REMOVE_WATERMARK,doc:i}),(0,l.jsx)(c.k,{w:"100%",flex:1,direction:"column",align:"flex-end",justify:"flex-end",pb:8,children:(0,l.jsx)(eg.h,{children:(0,l.jsx)(ex.z,{variant:"solid",isDisabled:!O,onClick:A,isLoading:b,children:(0,l.jsx)(m.cC,{id:"tfDRzk"})})})})]})]})})},as=e=>{let{name:t,src:n,onClick:i,isSelected:r,...o}=e;return(0,l.jsxs)(t_.K,{p:2,bg:r?"trueblue.50":"transparent",_hover:{bg:"trueblue.50",cursor:"pointer"},borderRadius:"md",spacing:2,...o,transitionProperty:"common",transitionDuration:"normal",onClick:i,children:[(0,l.jsx)(d.xu,{height:"80px",bg:"gray.50",borderRadius:"md",borderWidth:"1px",overflow:"hidden",children:n&&(0,l.jsx)(np.E,{src:n,width:"100%",height:"100%",objectFit:"contain",borderRadius:"md"})}),(0,l.jsxs)(em.U,{children:[r&&(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:p.LEp})}),(0,l.jsx)(u.x,{fontSize:"sm",fontWeight:"500",children:t})]})]})},aa=(0,j.memo)(e=>{let{editor:t}=e,{bodyStart:n}=(0,U.CG)(B.$p),i=(0,j.useCallback)(e=>{null==t||t.commands.updateNestedAttributesAtPos(0,{customCode:{bodyStart:e}})},[t]);return(0,l.jsx)(c.k,{w:"100%",flex:1,direction:"column",p:2,pt:6,children:(0,l.jsx)(o8,{label:x.ag._({id:"fC5kYg"}),helperText:x.ag._({id:"0AZNtw"}),initialValue:n,updateValue:i,language:"html",height:"600px"})})});aa.displayName="CustomCodePanel";let al=(0,j.memo)(e=>{let{selectedPanel:t,setSelectedPanel:n}=e,i=(0,tr.ye)("docCustomCode");return(0,l.jsx)(t_.K,{spacing:4,children:(0,l.jsx)(t_.K,{spacing:8,children:(0,l.jsxs)(eg.h,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",children:[(0,l.jsx)(ex.z,{borderRadius:"full",leftIcon:(0,l.jsx)(f.G,{icon:p.ovd,fixedWidth:!0}),"data-website-panel-active-view-button":"domains",colorScheme:"domains"===t?"trueblue":"gray",bg:"domains"===t?"trueblue.100":void 0,onClick:()=>n("domains"),flex:1,children:(0,l.jsx)(m.cC,{id:"AZ4xlc"})}),(0,l.jsx)(ex.z,{borderRadius:"full",leftIcon:(0,l.jsx)(f.G,{icon:p.gr5,fixedWidth:!0}),"data-website-panel-active-view-button":"website",colorScheme:"website"===t?"trueblue":"gray",bg:"website"===t?"trueblue.100":void 0,onClick:()=>n("website"),flex:1,children:(0,l.jsx)(m.cC,{id:"Tz0i8g"})}),i&&(0,l.jsx)(ex.z,{borderRadius:"full",leftIcon:(0,l.jsx)(f.G,{icon:p.dT$,fixedWidth:!0}),"data-website-panel-active-view-button":"code",colorScheme:"code"===t?"trueblue":"gray",bg:"code"===t?"trueblue.100":void 0,onClick:()=>n("code"),flex:1,children:(0,l.jsx)(m.cC,{id:"E16GGw"})})]})})})});al.displayName="SettingsPanelHeader";var ac=n(37164);let au=e=>{var t;let{title:n,site:i}=e,r="/".concat((0,sN.IR)(n||"untitled"));return(null==i?void 0:null===(t=i.routes)||void 0===t?void 0:t.find(e=>e.path===r))&&(r="".concat(r,"-").concat((0,ac.x0)(6))),r},ad={variant:"outline",transitionProperty:"all",transitionDuration:"normal",cursor:"pointer",boxShadow:"none",tabIndex:0,_hover:{shadow:"lg",borderColor:"trueblue.300",bg:"trueblue.50"},_focusVisible:{boxShadow:"none",outline:"none"},_focus:{boxShadow:"outline"}},ah=e=>{let{sites:t}=e,n=(0,U.CG)(B.yx),i=(0,ez.z$)(),{currentWorkspace:r}=(0,e$.SE)(),[o]=(0,C.qbt)(),[s,a]=(0,j.useState)(!1),d=(0,n8.p)(),{push:h,reload:x}=(0,ej.useRouter)(),g=(0,j.useCallback)(async e=>{if(!n)return;a(!0);let s=null==t?void 0:t.find(t=>t.id===e),c=n.id;if(!(null==r?void 0:r.id)){console.error("[MoveToSiteModal] No currentWorkspace found");return}let u=au({title:n.title,site:s});if(await (0,eO.iL)(c),!c){console.error("[MoveToSiteModal] No docId found");return}null==i||i.track(ez.AA.DOC_MOVED_TO_SITE,{doc_id:c,site_id:e}),o({variables:{input:{siteId:e,docId:c,path:u}},refetchQueries:["GetSite"]}).then(()=>{(0,eC.yQ)({docId:c}),console.debug("[MoveToSiteModal] Doc moved to site. Adding route then navigating to editor",c),d({position:"top",title:(0,l.jsx)(m.cC,{id:"oMgC5V"}),description:(0,l.jsx)(m.cC,{id:"rYG2u6"}),status:"success",duration:5e3}),x()}).catch(e=>{d({position:"top",title:"Error",description:e.message,status:"error",duration:5e3}),a(!1)}).finally(()=>{a(!1)})},[i,null==r?void 0:r.id,n,x,o,t,d]);return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)(c.k,{w:"100",h:"400px",maxH:"30vh",children:(0,l.jsx)(tJ.AA,{})}),!s&&(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsx)(t_.K,{pt:2,pb:2,children:(0,l.jsxs)(u.x,{fontSize:"sm",letterSpacing:"normal",color:"gray.600",fontWeight:"500",children:[(0,l.jsx)(m.cC,{id:"1osTfm",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc},components:{0:(0,l.jsx)("strong",{})}})," ",(0,l.jsxs)(iJ.r,{href:"https://help.gamma.app/en/articles/8429268-how-to-publish-your-page-to-a-custom-domain",textDecoration:"underline",isExternal:!0,color:"trueblue.500",children:[(0,l.jsx)(m.cC,{id:"Px95UX"}),(0,l.jsx)(ra.h,{mx:"2px"})]})," "]})}),t&&t.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.x,{fontSize:"sm",letterSpacing:"normal",color:"gray.600",fontWeight:"500",children:(0,l.jsx)(m.cC,{id:"kjbPb3",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),null==t?void 0:t.map(e=>(0,l.jsx)(sK.Z,{onClick:()=>g(e.id),onKeyPress:t=>{"Enter"===t.key&&g(e.id)},...ad,children:(0,l.jsx)(sY.e,{children:(0,l.jsxs)(em.U,{children:[(0,l.jsx)(t_.K,{spacing:0,children:(0,l.jsxs)(em.U,{children:[e.faviconUrl&&(0,l.jsx)(np.E,{w:"4",src:e.faviconUrl}),(0,l.jsx)(u.x,{fontWeight:"600",children:e.name})]})}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(f.G,{icon:p.eFW})]})})},e.id))]})]})]})},ap=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,nl.M)({id:"MoveToSiteDisclosure"}),{currentWorkspace:i}=(0,e$.SE)(),{data:r,loading:o}=(0,C.bBo)({variables:{workspaceId:null==i?void 0:i.id},skip:!(null==i?void 0:i.id),fetchPolicy:"cache-first"}),s=null==r?void 0:r.sites;return o?(0,l.jsx)(tE.$,{size:"xs"}):s&&0===s.length?(0,l.jsx)(l.Fragment,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ex.z,{variant:"plain",onClick:t,colorScheme:"trueblue",children:(0,l.jsx)(m.cC,{id:"hsMvVQ"})}),(0,l.jsxs)(rl.u_,{isOpen:e,onClose:n,size:"3xl",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"i4b0iJ"})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(tK.f,{maxH:"80vh",overflowY:"auto",children:(0,l.jsx)(ah,{sites:s})}),(0,l.jsx)(tY.m,{children:(0,l.jsx)(ex.z,{mr:3,onClick:n,children:(0,l.jsx)(m.cC,{id:"yz7wBu"})})})]})]})]})},af=e=>{let{onEnable:t,isLoading:n}=e;return(0,l.jsxs)(t_.K,{align:"center",justify:"center",spacing:4,flex:1,p:6,mt:8,bg:"gray.50",borderRadius:"md",children:[(0,l.jsx)(np.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg",w:"200px"}),(0,l.jsx)(eQ.X,{fontFamily:"p22-mackinac-pro",fontWeight:"700",size:"md",textAlign:"center",css:{textWrap:"pretty"},children:(0,l.jsx)(m.cC,{id:"0864Ii",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),(0,l.jsx)(u.x,{fontSize:"sm",children:(0,l.jsx)(m.cC,{id:"dapHcS",components:{0:(0,l.jsx)("strong",{}),1:(0,l.jsx)("strong",{}),2:(0,l.jsx)("code",{})}})}),(0,l.jsxs)(t_.K,{w:"100%",children:[(0,l.jsx)(ex.z,{variant:"solid",onClick:t,isLoading:n,children:(0,l.jsx)(m.cC,{id:"6/5iNu"})}),(0,l.jsx)(ap,{})]}),(0,l.jsx)(ex.z,{as:iJ.r,variant:"ghost",isExternal:!0,href:"https://help.gamma.app/en/articles/8429268-how-to-publish-your-page-to-a-custom-domain",rightIcon:(0,l.jsx)(f.G,{icon:p.gJF,size:"sm"}),children:(0,l.jsx)(m.cC,{id:"Px95UX"})})]})};var am=n(28165),ax=n(38045),ag=n(25925);let av=(0,ax.E)(d.xu),aj={initial:{opacity:0,translateY:-40},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:40},transition:{duration:.3}},ab=e=>{let{isLoading:t,onChange:n,isChecked:i,isDisabled:r,enabledText:o,disabledText:s}=e;return(0,l.jsxs)(c.k,{cursor:r?"not-allowed":"pointer",className:(0,h.cx)("gamma-switch-container",t&&"loading",i?"active":""),opacity:r?.6:1,children:[(0,l.jsx)(d.xu,{as:"label",className:"text",fontSize:"sm",justifyContent:"center",htmlFor:"gamma-checkbox",position:"relative",overflow:"hidden",children:(0,l.jsx)(ag.M,{initial:!1,children:t?(0,l.jsx)(av,{as:"span",position:"absolute",...aj,children:(0,l.jsx)(tE.$,{size:"sm"})},"loading"):i?(0,l.jsx)(av,{as:"span",position:"absolute",...aj,children:o},"checked"):(0,l.jsx)(av,{as:"span",position:"absolute",...aj,children:s},"unchecked")})}),(0,l.jsxs)(d.xu,{as:"label",className:"switch",pointerEvents:r?"none":"auto",children:[(0,l.jsx)("input",{id:"gamma-checkbox",type:"checkbox",onChange:n,disabled:t||r}),(0,l.jsx)("span",{className:"slider round"})]})]})},ay=(0,am.F4)({"0%":{transform:"scale(1)",opacity:1},"50%":{transform:"scale(1.7)",opacity:0},"100%":{transform:"scale(1)",opacity:0}}),aC=(0,am.F4)({"0%":{transform:"scale(1)",opacity:1},"15%":{transform:"scale(1)",opacity:1},"60%":{transform:"scale(1.7)",opacity:0},"100%":{transform:"scale(1)",opacity:0}}),ak=(0,am.F4)({"0%":{transform:"scale(1)"},"30%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"},"70%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),aw=e=>{let{icon:t,showDisabled:n=!1,shouldPulse:i=!1,bg:r="gray.200",color:o="gray.800"}=e;return(0,l.jsx)(d.Cd,{color:o,textAlign:"center",bg:r,size:8,opacity:n?.5:1,position:"relative",animation:i?"".concat(ak," 2.7s infinite"):"none",sx:{":before":i?{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:"''",boxShadow:"inset 0 0 0 3px #6910D166",transition:"transform 0.2s, opacity 0.2s",animation:"".concat(ay," 2.7s infinite")}:{},":after":i?{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",content:"''",boxShadow:"inset 0 0 0 2px #6910D133",transition:"transform 0.2s, opacity 0.2s",animation:"".concat(aC," 2.7s infinite")}:{}},children:n?(0,l.jsxs)("span",{className:"fa-stack",children:[(0,l.jsx)(f.G,{icon:p.u6k,className:"fa-stack-1x"}),(0,l.jsx)(f.G,{icon:t,className:"fa-stack-1x"})]}):(0,l.jsx)(f.G,{size:"1x",icon:t})})},aD=e=>{let{isLoading:t=!1,site:n,onChange:i,disabledText:r,doc:o}=e,s=(0,eO.Vr)(n),a=(0,e_.Lu)(),h=(0,e$.py)("manage",o),f=a||h,x=(0,eO.k2)(n),g=f?r||(t?(0,l.jsx)(m.cC,{id:"mkk40+"}):s?(0,l.jsx)(m.cC,{id:"f4CBNf"}):(0,l.jsx)(m.cC,{id:"5G4vd5"})):(0,l.jsx)(m.cC,{id:"Z2uNdQ"});return(0,l.jsxs)(em.U,{w:"100%",justify:"space-between","data-testid":"toggle-website-settings",children:[(0,l.jsx)(d.xu,{children:(0,l.jsxs)(c.k,{alignItems:"center",children:[(0,l.jsx)(aw,{shouldPulse:x,bg:x?"#6910D1":"gray.200",color:x?"white":"gray.800",icon:x?p.cL$:p.g4A}),(0,l.jsxs)(d.xu,{ml:3,children:[(0,l.jsx)(em.U,{children:(0,l.jsx)(u.x,{children:x?(0,l.jsx)(m.cC,{id:"MuDTSp"}):s?(0,l.jsx)(m.cC,{id:"AAm5jh"}):(0,l.jsx)(m.cC,{id:"HzFHhy"})})}),(0,l.jsx)(c.k,{align:"center",children:(0,l.jsx)(em.U,{spacing:1,align:"center",children:(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",css:{textWrap:"balance"},children:n&&x?(0,l.jsx)(re,{site:n}):s?(0,l.jsx)(m.cC,{id:"N4VTXP"}):(0,l.jsx)(m.cC,{id:"1bmqGL"})})})})]})]})}),(0,l.jsx)(d.xu,{children:(0,l.jsx)(ev.kH,{label:g,placement:"top",shouldWrapChildren:!0,children:(0,l.jsx)(ab,{isChecked:s,isDisabled:!!(t||r||!f),isLoading:t,onChange:i})})})]})},a_=e=>{var t,n;let{doc:i,isOpen:r,onOpen:o,onPublishSettingsClose:s}=e,a=(0,n8.p)(),u=(0,U.TL)(),d=(0,U.CG)(eA.lH),h=(0,U.CG)(eA.$U),{editor:p}=(0,tw._i)(),{currentWorkspace:f}=(0,e$.SE)(),[x,g]=(0,j.useState)(!1),[v]=(0,C.V$$)(),[b]=(0,C.cxO)(),[y]=(0,C.A0Z)(),[k]=(0,C.UoQ)(),[w,D]=(0,j.useState)("domains"),_=i.id,E=i.title,S=null==f?void 0:f.id,A=null==i?void 0:null===(t=i.theme)||void 0===t?void 0:t.id,T=!1==!!i.site?null:(null===(n=i.site)||void 0===n?void 0:n.enabled)?"enabled":"disabled",I=(null==d?void 0:d.archived)?(0,l.jsx)(m.cC,{id:"VAyYv6"}):null;(0,j.useEffect)(()=>{let e=sa.T.on("openSiteSettings",e=>{D(e),o()});return()=>{e()}},[o]);let O=(0,j.useCallback)(async()=>{if(S){g(!0),k({variables:{id:_,themeId:null}});try{await v({variables:{input:{workspaceId:S,name:E,themeId:A,routes:[{docId:_,path:"/"}]}},refetchQueries:["GetDoc"]}).then(e=>{let{data:t}=e;(0,eA.zs)(u)({site:null==t?void 0:t.createSite,docId:_})})}catch(e){console.error("[WebsiteSettingsModal] Failed to create site",e.message),a({title:(0,l.jsx)(m.cC,{id:"Pdboh4"}),description:(0,l.jsx)(m.cC,{id:"8wxFbh"}),status:"error",duration:5e3,isClosable:!0,position:"top"})}finally{g(!1)}}},[v,u,_,E,A,a,k,S]),M=(0,j.useCallback)(async()=>{if(h){g(!0);try{await b({variables:{id:h},update:(e,t)=>{let{data:n}=t;e.updateQuery({query:C.yE1,variables:{id:_}},e=>e&&e.doc?{...e,doc:{...e.doc,site:null==n?void 0:n.disableSite}}:e)}})}catch(e){console.error("[WebsiteSettingsModal] Failed to deactivate site",e.message),a({title:(0,l.jsx)(m.cC,{id:"ksq4sM"}),description:(0,l.jsx)(m.cC,{id:"VE0YVl"}),status:"error",duration:5e3,isClosable:!0,position:"top"})}finally{g(!1)}}},[b,_,h,a]),F=(0,j.useCallback)(async()=>{if(h){g(!0);try{await y({variables:{id:h},update:(e,t)=>{let{data:n}=t;e.updateQuery({query:C.yE1,variables:{id:_}},e=>e&&e.doc?{...e,doc:{...e.doc,site:null==n?void 0:n.enableSite}}:e)}})}catch(e){console.error("[WebsiteSettingsModal] Failed to re-activate site",e.message),a({title:(0,l.jsx)(m.cC,{id:"aQnYTJ"}),description:(0,l.jsx)(m.cC,{id:"E2sPQM"}),status:"error",duration:5e3,isClosable:!0,position:"top"})}finally{g(!1)}}},[_,y,h,a]),R=(0,j.useCallback)(()=>{null===T?O():"enabled"===T?M():"disabled"===T&&F()},[O,M,F,T]);return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsx)(tW.d,{isOpen:r,onClose:s,size:"md",children:(0,l.jsxs)(tq.s,{p:0,shadow:"xl",children:[(0,l.jsxs)(ru.x,{children:[(0,l.jsx)(m.cC,{id:"WtsmDd"})," ",(0,l.jsx)(o5.C,{colorScheme:"green",ml:2,fontSize:"sm",letterSpacing:"normal",children:(0,l.jsx)(m.cC,{id:"YBt9YP"})})]}),(0,l.jsx)(tZ.o,{}),(0,l.jsxs)(tK.f,{children:[(0,l.jsxs)(e0.g,{spacing:4,align:"stretch",children:[(0,l.jsx)(aD,{isLoading:x,site:d,doc:i,onChange:R,disabledText:I}),!!d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rn,{context:"settings"}),(0,l.jsx)(rS.i,{}),"disabled"===T&&(0,l.jsxs)(nG.b,{status:"warning",mb:6,children:[(0,l.jsx)(rM.z,{}),(0,l.jsx)(m.cC,{id:"CHu+l0"})]}),(0,l.jsxs)(c.k,{direction:"column",children:[(0,l.jsx)(al,{selectedPanel:w,setSelectedPanel:D}),"website"===w?(0,l.jsx)(ar,{showHeadings:!1,doc:i}):"domains"===w?(0,l.jsx)(s8,{showHeadings:!1}):"code"===w?(0,l.jsx)(aa,{editor:p}):null]})]})]}),!d&&(0,l.jsx)(af,{onEnable:R,isLoading:x})]})]})})})},aE=e=>{let{doc:t}=e,n=!!(null==t?void 0:t.site),{isOpen:i,onClose:r,onOpen:o}=(0,nl.M)({id:"PublishSettingsDisclosure"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.g4A,fixedWidth:!0}),onClick:o,children:n?(0,l.jsx)(m.cC,{id:"gKmuNS"}):(0,l.jsx)(m.cC,{id:"sAalO9"})}),t&&(0,l.jsx)(a_,{isOpen:i,onOpen:o,doc:t,onPublishSettingsClose:r})]})};var aS=n(84010),aA=n(43019);let aT=(e,t)=>{let n=[],i=e=>{if(t(e)&&n.push(e),e.content)for(let t of e.content)i(t)};return i(e),n},aI=()=>({today:x.ag._({id:"ecUA8p"}),thisWeek:x.ag._({id:"yByRxz"}),earlier:x.ag._({id:"HGg4T/"})}),aO=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rA.O,{w:"350px",h:12}),(0,l.jsx)(aS.N,{mt:3,w:64,noOfLines:1})]}),aM=e=>{let{createdTime:t,editors:n,isLatest:i,onClick:r,showPaywall:o,paywallCount:s}=e;if(!n||!n.length)return(0,l.jsx)(l.Fragment,{});let a=o?"linear-gradient(rgb(0, 0, 0) 15%, transparent 100%)":"",h=(0,l.jsxs)(sm.O,{flexDirection:"row",borderRadius:"base",style:{WebkitMaskImage:a,maskImage:a},border:"none",isDisabled:o,opacity:"1 !important",onClick:r,alignItems:"flex-start",width:"100%",textAlign:"left",children:[(0,l.jsxs)(c.k,{w:"100%",direction:"column",children:[(0,l.jsx)(u.x,{fontSize:"sm",children:n_()((0,nv.P9)(t))}),(0,l.jsx)(u.x,{fontSize:"xs",flex:1,children:n[0].displayName})]}),i&&(0,l.jsx)(o5.C,{colorScheme:"green",py:"0.5",fontSize:"0.65em",children:(0,l.jsx)(m.cC,{id:"wL3cK8"})})]});return o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ev.kH,{placement:"top",isDisabled:!o,label:o?(0,l.jsx)(m.cC,{id:"PYTBm5",values:{paywallCount:s}}):void 0,children:(0,l.jsx)(d.xu,{mb:4,children:h})}),(0,l.jsx)(rT.m,{isNarrow:!0,segmentEvent:ez.AA.GAMMA_PRO_UPSELL_CALLOUT_CHANGE_HISTORY,description:(0,l.jsx)(m.cC,{id:"mVKYtH"})})]}):h},aF=e=>{var t;let n=[],i=(0,j.useMemo)(()=>(0,nv.yd)({items:e,sortBy:"createdTime"}),[e]);return{groupedSnapshots:i,paywalledSnapshotId:null===(t=n[0])||void 0===t?void 0:t.id,paywallCount:n.length}},aR=e=>{let{groupedSnapshots:t,paywalledSnapshotId:n,paywallCount:i,onClick:r,showFetchMore:o,onFetchMoreClick:s,isFetchingMore:a}=e;return(0,l.jsxs)(sf.t,{w:"100%",children:[Object.entries(t).filter(e=>{let[,t]=e;return t.length}).map((e,t)=>{let[o,s]=e;return(0,l.jsxs)(j.Fragment,{children:[(0,l.jsx)(ev.NZ,{px:4,py:2,mx:0,mt:2,children:aI()[o]}),s.map((e,o)=>{let{createdTime:s,editors:a,id:c}=e;return(0,l.jsx)(aM,{onClick:()=>r(c),isLatest:0===t&&0===o,createdTime:s,editors:a,showPaywall:n===c,paywallCount:i},c)})]},o)}),o&&(0,l.jsx)(ex.z,{isLoading:a,onClick:s,children:(0,l.jsx)(m.cC,{id:"yQ2kGp"})})]})},aN=()=>(0,l.jsxs)(sf.t,{w:"100%",children:[(0,l.jsx)(rA.O,{h:16}),(0,l.jsx)(rA.O,{h:16,mt:2}),(0,l.jsx)(rA.O,{h:16,mt:2}),(0,l.jsx)(rA.O,{h:16,mt:2}),(0,l.jsx)(rA.O,{h:16,mt:2}),(0,l.jsx)(rA.O,{h:16,mt:2}),(0,l.jsx)(rA.O,{h:16,mt:2}),(0,l.jsx)(rA.O,{h:16,mt:2})]}),aP=e=>{let{title:t,createdBy:n,createdTime:i,numSnapshots:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.x,{mt:1,children:(0,l.jsx)(m.cC,{id:"yf//Op",values:{numSnapshots:r,0:(0,i9.Dw)(i),1:(0,i9.Dw)(i)}})}),(0,l.jsx)(u.x,{color:"gray.500",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:(0,l.jsx)(m.cC,{id:"JVHTIo",values:{title:t,0:(null==n?void 0:n.displayName)?null==n?void 0:n.displayName:"Unknown",1:(0,i9.p6)(i,"PPp")}})})]})},aL="snapshot-editor-root",az=e=>{let{id:t,doc:n,content:i}=e,r=(0,j.useMemo)(()=>{if(i)return aT(i,e=>e.type===to.W4).map(e=>{var t;return{__typename:"Card",id:(null===(t=e.attrs)||void 0===t?void 0:t.id)||"",docId:n.id,title:(0,aA.getCardTitle)(e),createdTime:n.createdTime,updatedTime:n.updatedTime,archived:!1}})},[i,n]);return(0,l.jsx)(eF.fb,{reduxData:{cards:r},initialContent:i,doc:n,docId:n.id,scrollingParentSelector:".".concat(aL),isInsideDrawer:!0},t)},aG=e=>{let{isOpen:t,onClose:n,doc:i}=e,r=(0,n8.p)(),{getCollaborativeEditorInstance:o}=(0,tw._i)(),[s,a]=(0,j.useState)(!1),{loading:u,data:h,called:p,fetchMore:f}=(0,C.pfN)({variables:{docId:i.id,first:25},skip:!i||!t,fetchPolicy:"network-only",nextFetchPolicy:"network-only"}),[x,{loading:g,data:v}]=(0,C.opq)({nextFetchPolicy:"cache-only"}),b=(null==h?void 0:h.snapshots.edges.map(e=>e.node))||[],{groupedSnapshots:y,paywalledSnapshotId:k,paywallCount:w}=aF(b),D=null==h?void 0:h.snapshots.pageInfo,_=!!(!k&&p&&(null==D?void 0:D.hasNextPage)&&(null==D?void 0:D.endCursor)),E=(0,j.useCallback)(()=>{(null==D?void 0:D.hasNextPage)&&(null==D?void 0:D.endCursor)&&(a(!0),f({variables:{after:D.endCursor}}).finally(()=>{a(!1)}))},[f,null==D?void 0:D.endCursor,null==D?void 0:D.hasNextPage]),S=b[0];(0,j.useEffect)(()=>{(null==S?void 0:S.id)&&x({variables:{snapshotId:S.id,docId:i.id}})},[i.id,x,null==S?void 0:S.id]);let A=(0,sr.$)(null==i?void 0:i.title),T="createdBy"in i?i.createdBy:void 0,I=null==i?void 0:i.createdTime,O=null==v?void 0:v.snapshot,M=O&&O.id===i.currentSnapshotId;return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(tW.d,{placement:"bottom",onClose:n,isOpen:t,trapFocus:!0,isFullHeight:!0,blockScrollOnMount:!1,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(tq.s,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transform:"none !important",children:[(0,l.jsx)(tZ.o,{}),(0,l.jsxs)(ru.x,{borderBottom:"1px solid #000",borderColor:"gray.200",children:[u&&(0,l.jsx)(aO,{}),i&&b&&(0,l.jsx)(aP,{numSnapshots:(null==b?void 0:b.length)||0,createdBy:T,createdTime:I,title:A})]}),(0,l.jsx)(tK.f,{p:0,h:"100%",children:(0,l.jsxs)(c.k,{direction:"row",h:"100%",children:[(0,l.jsx)(d.xu,{p:2,w:"17rem",overflowY:"auto",bg:"gray.50",children:(0,l.jsxs)(sp.m,{variant:"soft-rounded",orientation:"vertical",size:"md",children:[u&&(0,l.jsx)(aN,{}),!u&&b&&(0,l.jsx)(aR,{onClick:e=>{x({variables:{snapshotId:e,docId:i.id}})},groupedSnapshots:y,paywalledSnapshotId:k,paywallCount:w,showFetchMore:_,onFetchMoreClick:E,isFetchingMore:s})]})}),(0,l.jsx)(c.k,{flex:1,bg:"gray.100",overflowY:"scroll",justifyContent:"center",alignContent:"center",alignItems:"flex-start",width:"100%",height:"100%",className:aL,css:{"--editor-width":"calc(100vw - 17rem)"},children:(0,l.jsxs)(c.k,{direction:"column",position:"relative",width:"100%",height:"100%",children:[(0,l.jsx)(t5.Y,{}),(!O||g)&&(0,l.jsx)(tJ.AA,{}),O&&!g&&(0,l.jsx)(az,{id:O.id,doc:i,content:null==O?void 0:O.content.default})]})})]})}),(0,l.jsx)(tY.m,{borderTop:"1px solid #000",borderColor:"gray.200",children:(0,l.jsxs)(eg.h,{spacing:4,children:[(0,l.jsx)(ex.z,{variant:"ghost",onClick:n,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ev.kH,{label:M?(0,l.jsx)(m.cC,{id:"HJo72u"}):(0,l.jsx)(m.cC,{id:"sonTm1"}),shouldWrapChildren:!0,children:(0,l.jsx)(ex.z,{variant:"solid",isDisabled:!O||M,onClick:()=>{var e;if(!O)return;let t=null==b?void 0:null===(e=b.find(e=>e.id===O.id))||void 0===e?void 0:e.createdTime,i=o();if(!i)return;i.commands.setContent(O.content.default,!0);let{annotationsAbsolute:s}=O.content;s?i.commands.restoreAnnotations(s):i.commands.clearAnnotations(),n(),r({title:(0,l.jsx)(m.cC,{id:"7ovf4C"}),description:(0,l.jsx)(m.cC,{id:"DTim6X",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc,0:t?(0,i9.p6)(t,"PPp"):"selected snapshot"}}),status:"success",duration:5e3,isClosable:!0})},children:(0,l.jsx)(m.cC,{id:"yKu/3Y"})})})]})})]})]})})},aU=e=>{let{doc:t}=e,{isOpen:n,onClose:i,onOpen:r}=(0,nl.M)({id:"snapshotsDrawer"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.SZw,fixedWidth:!0}),onClick:r,children:(0,l.jsx)(m.cC,{id:"6Z5x06"})}),t&&(0,l.jsx)(aG,{doc:t,isOpen:n,onClose:i})]})},aB=()=>{let e=nz({ref:"dashboard"});return e?(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.Fzb,fixedWidth:!0}),as:iJ.r,textDecoration:"none !important",href:e,target:(0,ey.Q5)()?"_self":"_blank",children:(0,l.jsx)(m.cC,{id:"7U0bM7"})}):null},aH=e=>{let{editor:t}=e,n=(0,j.useCallback)(()=>{t&&t.commands.undo()},[t]);return(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.paY,fixedWidth:!0}),onClick:n,command:(0,ev.cE)("Mod+Z"),children:(0,l.jsx)(m.cC,{id:"9uI/rE"})})},aW=e=>{let{doc:t,editorWrapperEl:n,scrollingParentSelector:i}=e,{isConnected:r}=(0,C.$gs)(),{user:o}=(0,e$.SE)(),s=(0,e$.py)("view",t),a=(0,e$.py)("edit",t),c=(0,e$.py)("manage",t),u=(0,U.CG)(eA.lH),{editor:d}=(0,nh._)(),h=(0,U.CG)(B.hN),p=!!o&&!c&&!t.site,f=!!(o&&0!==o.workspaceMemberships.length&&!t.site),m=(0,tr.ye)("docCustomCode")&&a;return r?(0,l.jsxs)(nC.q,{zIndex:"popover",maxH:"100vh",minW:"280px",maxW:"360px",overflow:"auto",children:[(0,l.jsxs)(rs.k,{children:[u?(0,l.jsx)(su,{doc:t,site:u}):(0,l.jsx)(so,{doc:t}),(0,l.jsx)(ri.R,{}),h&&(0,l.jsx)(aH,{editor:d}),a&&(0,l.jsx)(aU,{doc:t}),t.site&&(0,l.jsx)(rE,{editorWrapperEl:n,scrollingParentSelector:i}),(0,l.jsx)(aB,{}),a&&d&&(0,l.jsx)(sV,{editor:d,withDrawer:!0}),s&&!!o&&(0,l.jsx)(sl,{}),m&&(0,l.jsx)(se,{editor:d})]}),u?(0,l.jsx)(ri.R,{}):null,(0,l.jsxs)(rs.k,{children:[u&&(0,l.jsx)(sq,{site:u}),u?null:(0,l.jsx)(ri.R,{}),p&&(0,l.jsx)(o3,{doc:t}),c&&(0,l.jsx)(aE,{doc:t}),f&&(0,l.jsx)(ss,{doc:t,editor:d}),c&&(0,l.jsx)(rh,{site:u}),!t.site&&c?(0,l.jsx)(st,{doc:t}):null]})]}):(0,l.jsxs)(nC.q,{zIndex:"popover",maxH:"100vh",minW:"280px",overflow:"auto",children:[u?(0,l.jsx)(sq,{site:u}):(0,l.jsx)(so,{doc:t}),(0,l.jsx)(aV,{})]})},aV=()=>(0,l.jsx)(nC.q,{zIndex:"popover",maxH:"100vh",minW:"280px",overflow:"auto",children:(0,l.jsx)(nf.V,{label:(0,l.jsx)(m.cC,{id:"IdcoRx"}),isConnected:!1,maxWidth:"300px"})}),aq=e=>{let{isDisabled:t,onClick:n,isPublishing:i}=e;return(0,l.jsx)(ev.kH,{placement:"top",label:(0,l.jsx)(m.cC,{id:"Bq2yPr"}),shouldWrapChildren:!0,isDisabled:!t,children:(0,l.jsx)(rr.s,{icon:(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:p.PQh,fixedWidth:!0})}),onClick:n,closeOnSelect:!1,isDisabled:i||t,children:(0,l.jsxs)(c.k,{direction:"row",w:"100%",justify:"space-between",align:"center",children:[(0,l.jsx)(m.cC,{id:"jNnwuI"}),i&&(0,l.jsx)(tE.$,{size:"xs"})]})})})},aZ=e=>{let{title:t,path:n}=e;return(0,l.jsxs)(l.Fragment,{children:[t?"".concat(t," "):"",n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s3.E,{as:"span",fontFamily:"mono",children:n})," "]})]})},aK=e=>{let{onClose:t,doc:n,site:i,path:r}=e,{push:o}=(0,ej.useRouter)(),[s,{loading:a}]=(0,C.nRC)(),c=(0,n8.p)(),d=(0,U.CG)(eA.B$),h=(0,j.useCallback)(async()=>{if((null==n?void 0:n.id)&&i){if(await s({variables:{id:n.id},refetchQueries:["GetSite","GetDoc"]}),c({title:(0,l.jsx)(m.cC,{id:"oMgC5V"}),description:(0,l.jsx)(m.cC,{id:"gw6aHP",components:{0:(0,l.jsx)(aZ,{title:null==n?void 0:n.title,path:r})}}),status:"success",duration:1e4,position:"top",isClosable:!0}),d===n.id){let e=(0,eC.hm)({site:i,docId:n.id});e&&await o(e)}t()}},[null==n?void 0:n.id,null==n?void 0:n.title,i,d,s,c,r,t,o]);return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(rl.u_,{onClose:t,isOpen:!0,size:"xl",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"kbKU/5"})}),(0,l.jsx)(tZ.o,{isDisabled:a}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"YOtIqx",values:{0:null==n?void 0:n.title,1:r&&(0,l.jsx)(s3.E,{as:"span",fontFamily:"mono",colorScheme:"blackAlpha",children:r})}})}),(0,l.jsx)(u.x,{color:"red.500",children:(0,l.jsx)(m.cC,{id:"2xOCJW"})})]})}),(0,l.jsx)(tY.m,{children:(0,l.jsxs)(eg.h,{children:[(0,l.jsx)(ex.z,{variant:"ghost",onClick:t,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ex.z,{variant:"ghost",colorScheme:"red",onClick:h,isLoading:a,children:(0,l.jsx)(m.cC,{id:"O1M1zi"})})]})})]})]})})},aY=e=>{var t;let{site:n,doc:i,path:r}=e,{isOpen:o,onOpen:s,onClose:a}=(0,E.q)({id:"confirm-remove-page-modal"}),c=(null==n?void 0:n.routes)&&(null==n?void 0:null===(t=n.routes)||void 0===t?void 0:t.length)>1;return(0,l.jsxs)(l.Fragment,{children:[o&&(0,l.jsx)(aK,{site:n,doc:i,path:r,onClose:a}),(0,l.jsx)(ev.kH,{placement:"top",isDisabled:c,label:(0,l.jsx)(m.cC,{id:"PBFhJK"}),shouldWrapChildren:!0,children:(0,l.jsx)(rr.s,{color:"red.500",isDisabled:!c,icon:(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:p.XAH,fixedWidth:!0})}),onClick:s,children:(0,l.jsx)(m.cC,{id:"cnGeoo"})})})]})},aX=e=>{let{site:t,doc:n,route:i,isTopToolbar:r=!1,hasChanges:o,onToggleOffline:s,...a}=e,c=(0,ro.b)(),{openPageSetup:u}=(0,tH.AA)(),{editor:h}=(0,nh._)(),{replace:x}=(0,ej.useRouter)(),{isConnected:g}=(0,C.$gs)(),v=(null==n?void 0:n.id)&&(0,eO.Rh)({site:t,docId:n.id}),{publishDoc:b,isPublishing:y}=is({doc:n,site:t,path:v}),k=(0,eO.Vr)(t),w=(0,U.CG)(B.yx),D=(0,e$.py)("edit",w),_=(0,e$.py)("edit",w),E=(0,e$.py)("manage",w),S=(0,e_.O1)(),A=(0,U.CG)(B.hN),T=(0,j.useCallback)(()=>{(null==n?void 0:n.id)&&c({path:"".concat((0,eO.Is)(i.path),"-copy"),siteId:t.id,routes:t.routes,sourceDocId:n.id})},[c,null==n?void 0:n.id,i.path,t.id,t.routes]);return g?(0,l.jsx)(i7.h,{children:n&&(0,l.jsxs)(nC.q,{...a,zIndex:"popover",maxH:"100vh",minW:"280px",maxW:"380px",overflow:"auto",children:[(0,l.jsx)(su,{doc:n,site:t,showCreatedInfo:!0}),(0,l.jsx)(ri.R,{}),S&&!i.offline&&(o||y)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(aq,{onClick:b,isDisabled:!k,isPublishing:y}),(0,l.jsx)(ri.R,{})]}),!!s&&(0,l.jsx)(rr.s,{onClick:s,icon:(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:i.offline?p.gMD:p.uoY,fixedWidth:!0})}),children:i.offline?(0,l.jsx)(m.cC,{id:"i/zQgj"}):(0,l.jsx)(m.cC,{id:"ySCSAn"})}),(0,l.jsx)(rr.s,{icon:(0,l.jsx)(d.xu,{children:(0,l.jsx)(f.G,{icon:e2.sl_,fixedWidth:!0})}),onClick:()=>{let e=(0,eC.yQ)({docId:n.id,preview:!0});x(e,void 0,{shallow:!0})},children:(0,l.jsx)(m.cC,{id:"rdUucN"})}),(0,l.jsx)(ri.R,{}),_&&h&&(0,l.jsx)(sV,{onClick:()=>u(i.docId,"cards"),withDrawer:r,editor:h}),_&&h&&(0,l.jsx)(sV,{icon:(0,l.jsx)(f.G,{icon:p.Lc0,fixedWidth:!0}),onClick:()=>u(i.docId,"preview"),label:(0,l.jsx)(m.cC,{id:"hInFGi"}),editor:h}),_&&h&&(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.kZ_,fixedWidth:!0}),onClick:T,children:(0,l.jsx)(m.cC,{id:"IVskn1"})}),A&&r&&(0,l.jsx)(aH,{editor:h}),D&&r&&(0,l.jsx)(aU,{doc:n}),E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ri.R,{}),(0,l.jsx)(aY,{site:t,doc:n,path:v})]})]})}):(0,l.jsx)(aV,{})},a$=e=>{if(!e)return{path:"untitled-page",title:x.ag._({id:"kveQAJ"})};let t=e.filter(e=>e.path.startsWith("/untitled-page"));if(0===t.length)return{title:x.ag._({id:"kveQAJ"}),path:"untitled-page"};let n=Math.max(...e.map(e=>{let[t,n]=e.path.match(/^\/untitled-page-?(\d+)/)||["","1"];return Number(n)}));return{title:x.ag._({id:"kveQAJ"})+" "+String(n+1),path:"untitled-page-".concat(n+1)}},aJ=e=>{let{site:t}=e,n=(0,ro.b)(),{isOpen:i,onClose:r,onOpen:o}=(0,nl.M)({id:"add-page-ai-modal"}),[s,a]=(0,j.useState)(!1),c=(0,j.useCallback)(()=>{o()},[o]),d=(0,j.useCallback)(()=>{let{path:e}=a$(null==t?void 0:t.routes);a(!0),n({path:(0,eO.Is)(e),siteId:null==t?void 0:t.id,routes:null==t?void 0:t.routes}).then(()=>{a(!1)})},[n,null==t?void 0:t.id,null==t?void 0:t.routes]);return(0,l.jsxs)(nb.v,{children:[(0,l.jsx)(ev.kH,{label:x.ag._({id:"yLRlZm"}),placement:"bottom",children:(0,l.jsx)(ny.j,{as:T.h,isRound:!0,size:"xs",isLoading:s,onFocus:e=>e.preventDefault(),"data-testid":"add-page",icon:(0,l.jsx)(f.G,{icon:p.r8p}),sx:{span:{flexGrow:0}}})}),(0,l.jsx)(i7.h,{children:(0,l.jsx)(nC.q,{maxW:"350px",zIndex:"tooltip",children:(0,l.jsxs)(rs.k,{title:x.ag._({id:"yLRlZm"}),children:[(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:e2.JyM,fixedWidth:!0}),onClick:c,children:(0,l.jsxs)(em.U,{align:"flex-start",children:[(0,l.jsxs)(t_.K,{spacing:0,children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"OppH33"})}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"P/o+t+"})})]}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(o5.C,{h:"fit-content",colorScheme:"trueblue",ml:2,children:(0,l.jsx)(m.cC,{id:"jsQZMk"})})]})}),(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.r8p,fixedWidth:!0}),onClick:d,children:(0,l.jsxs)(t_.K,{spacing:0,children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"SSZKB9"})}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"S65lUr"})})]})})]})})}),(0,l.jsx)(ix,{isOpen:i,onClose:r})]})},aQ=e=>{if(!e)return{path:"untitled-page",title:x.ag._({id:"kveQAJ"})};let t=e.filter(e=>e.path.startsWith("/untitled-page"));if(0===t.length)return{title:x.ag._({id:"kveQAJ"}),path:"untitled-page"};let n=Math.max(...e.map(e=>{let[t,n]=e.path.match(/^\/untitled-page-?(\d+)/)||["","1"];return Number(n)}));return{title:x.ag._({id:"kveQAJ"})+" "+String(n+1),path:"untitled-page-".concat(n+1)}},a0=e=>{let{isOpen:t,onClose:n,site:i}=e,r=(0,ro.b)(),[o,s]=(0,j.useState)(()=>aQ(null==i?void 0:i.routes).title),[a,c]=(0,j.useState)(()=>aQ(null==i?void 0:i.routes).path),d=(0,j.useRef)(null),[h,p]=(0,j.useState)(!1),f=(null==i?void 0:i.routes.map(e=>e.path))||[],g=f.includes("/".concat(a)),v=(0,ef.ff)("gray.900","gray.50"),b=(0,j.useCallback)(()=>{h||g||(p(!0),r({title:o,path:(0,eO.Is)(a),siteId:null==i?void 0:i.id,routes:null==i?void 0:i.routes}).then(()=>{p(!1),n()}))},[r,g,h,n,a,null==i?void 0:i.id,null==i?void 0:i.routes,o]);return((0,j.useEffect)(()=>{t&&setTimeout(()=>{d.current&&d.current.select()},50)},[t]),i)?(0,l.jsxs)(rl.u_,{isOpen:t,onClose:n,size:"xl",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{color:v,children:[(0,l.jsx)(ru.x,{children:(0,l.jsxs)(t_.K,{children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"yLRlZm"})}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",fontWeight:"normal",letterSpacing:"normal",children:(0,l.jsx)(m.cC,{id:"7TUZvz"})})]})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(tK.f,{children:(0,l.jsxs)(t_.K,{spacing:4,children:[(0,l.jsxs)(ij.NI,{children:[(0,l.jsxs)(em.U,{justifyContent:"center",children:[(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"MHrjPM"})}),(0,l.jsx)(sT,{length:o.length||0,idealLength:sM.si,maxLength:sM.S8})]}),(0,l.jsx)(sA.I,{ref:d,value:o,onChange:e=>{s(e.target.value),c((0,sN.IR)(e.target.value))},_placeholder:{opacity:1,color:"gray.500"},onKeyDown:e=>{"Enter"===e.key&&b()}})]}),(0,l.jsxs)(ij.NI,{isInvalid:g,children:[(0,l.jsx)(em.U,{justifyContent:"center",children:(0,l.jsx)(ib.l,{flex:"1",children:(0,l.jsx)(m.cC,{id:"dq8+qI"})})}),(0,l.jsxs)(nq.B,{children:[(0,l.jsx)(sF.Ui,{children:"/"}),(0,l.jsx)(sA.I,{fontFamily:"mono",value:a,onKeyDown:e=>{"Enter"===e.key&&b()},onChange:e=>{c((0,sN.IR)(e.target.value))},placeholder:x.ag._({id:"bTzMt5"}),_placeholder:{opacity:1,color:"gray.500"}})]}),g&&!h&&(0,l.jsx)(o4.J1,{children:(0,l.jsx)(m.cC,{id:"hw1fjn"})})]})]})}),(0,l.jsx)(tY.m,{children:(0,l.jsxs)(eg.h,{children:[(0,l.jsx)(ex.z,{colorScheme:"gray",variant:"ghost",onClick:n,children:(0,l.jsx)(m.cC,{id:"dEgA5A"})}),(0,l.jsx)(ex.z,{onClick:b,isDisabled:g,variant:"solid",isLoading:h,children:(0,l.jsx)(m.cC,{id:"yLRlZm"})})]})})]})]}):(0,l.jsx)(l.Fragment,{})},a1=e=>{let{site:t}=e,{isOpen:n,onClose:i,onOpen:r}=(0,E.q)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.xu,{bgColor:"gray.50",textAlign:"center",p:4,m:2,children:[(0,l.jsx)(u.x,{fontSize:"sm",children:(0,l.jsx)(m.cC,{id:"6TCEnS"})}),(0,l.jsx)(u.x,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,l.jsx)(iJ.r,{color:"trueblue.600",href:"#",onClick:r,children:(0,l.jsx)(m.cC,{id:"S0WoXy"})})})]}),n&&(0,l.jsx)(a0,{isOpen:n,onClose:i,site:t})]})},a2=e=>{let{icon:t,isSelected:n,children:i,href:r}=e,o=(0,j.useRef)(null),s=(0,ef.ff)("gray.600","gray.50"),a=(0,ef.ff)("trueblue.50","whiteAlpha.100"),c=(0,ef.ff)("gray.900","gray.50"),u=(0,ef.ff)("blackAlpha.50","whiteAlpha.100"),h=(0,ef.ff)("gray.600","gray.50"),p=(0,ef.ff)("trueblue.400","trueblue.200");(0,j.useEffect)(()=>{if(!n||!(null==o?void 0:o.current))return;let{inView:e}=(0,eW.v4)(o.current)||{};e||o.current.scrollIntoView()},[n]);let f=(0,j.useCallback)(e=>{e.target.closest('[data-id="sidebar-item-menu-button"]')&&e.preventDefault(),e.target.closest('[data-id="sidebar-item-menu-list"]')&&e.stopPropagation()},[]);return(0,l.jsx)(nR(),{href:r,passHref:!0,shallow:!0,children:(0,l.jsx)(ex.z,{ref:o,onClick:f,variant:"ghost",justifyContent:"flex-start",fontWeight:"500",w:"100%",size:"sm",color:n?c:s,bgColor:n?a:"transparent",_hover:{bgColor:n?a:u,color:n?c:h},h:"auto",py:1.5,px:2,role:"group",children:(0,l.jsxs)(em.U,{alignItems:"start",justify:"flex-start",w:"100%",spacing:2,children:[(0,l.jsx)(d.xu,{color:n?p:s,mt:"0.2em",w:4,children:t}),(0,l.jsx)(t_.K,{flex:1,direction:"row",minW:0,align:"start",justifyContent:"flex-start",children:i})]})})})},a3=e=>{let{title:t,children:n}=e;return(0,l.jsxs)(em.U,{justify:"space-between",children:[(0,l.jsx)(u.x,{fontSize:"sm",fontWeight:"600",px:1,py:1.5,color:"gray.500",children:t}),n&&n]})},a5=(e,t,n)=>n?(0,l.jsx)(tE.$,{size:"xs"}):e?(0,l.jsx)(f.G,{icon:p.t22,fixedWidth:!0}):t?(0,l.jsx)(f.G,{icon:p.BKg,fixedWidth:!0}):(0,l.jsx)(f.G,{icon:p.gMD,fixedWidth:!0}),a4=e=>{let{site:t,isSelected:n,doc:i,route:r,hasChanges:o,onToggleOffline:s}=e,a=(0,ef.ff)("trueblue.50","whiteAlpha.200"),c=(0,ef.ff)("trueblue.100","whiteAlpha.200");return(0,l.jsx)(nb.v,{modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["right"]}}],children:e=>{let{isOpen:u}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ny.j,{"data-id":"sidebar-item-menu-button",ml:3,as:T.h,isRound:!0,variant:"ghost",py:2,size:"xs",_hover:{bgColor:n?c:a},icon:(0,l.jsx)(d.xu,{className:"ellipsis-icon",transitionProperty:"common",transitionDuration:"normal",_groupHover:{opacity:1},_hover:{opacity:1},_active:{opacity:1},opacity:u?1:0,children:(0,l.jsx)(f.G,{icon:p.S6C,fixedWidth:!0})})}),(0,l.jsx)(i7.h,{children:(0,l.jsx)(aX,{site:t,doc:i,route:r,hasChanges:o,"data-id":"sidebar-item-menu-list",onToggleOffline:s})})]})}})},a6=e=>{var t;let{route:n,isHome:i,isSelected:r}=e,{docId:o,doc:s}=n,a=(0,tx.gF)(),d=(0,U.CG)(eA.lH),h=(0,U.CG)((0,eA.hZ)(o)),p=(0,j.useRef)(null),f=(0,U.CG)(eA.B$),[x,{loading:g}]=(0,C.qbt)(),v=a5(i,h,g),b="currentColor",y=(0,ef.ff)("gray.500","gray.400"),k=(0,ef.ff)("trueblue.400","trueblue.200"),w=(0,j.useCallback)(async()=>{if(!(null==s?void 0:s.id)||!d)return;let e=!(null==n?void 0:n.offline);await x({variables:{input:{siteId:d.id,docId:s.id,offline:e,path:null==n?void 0:n.path}}})},[null==s?void 0:s.id,n,x,d]);(0,j.useEffect)(()=>{if(!p.current||f!==o)return;let{inView:e}=(0,eW.v4)(p.current)||{};e||p.current.scrollIntoView()},[f,o]);let D=(0,eC.yQ)({docId:o});return(0,l.jsxs)(a2,{icon:v,"data-sidebar-doc":o,isSelected:r,href:D,children:[(0,l.jsxs)(t_.K,{flex:1,spacing:"3px",alignItems:"flex-start",justifyContent:"flex-start",w:"100%",minW:0,children:[(0,l.jsx)(u.x,{textAlign:"left",color:r?k:b,noOfLines:2,maxW:"100%",whiteSpace:"normal",children:(0,sr.$)(null===(t=n.doc)||void 0===t?void 0:t.title)}),(0,l.jsxs)(em.U,{color:y,children:[h&&!n.offline?(0,l.jsx)(ev.kH,{label:(0,l.jsxs)(t_.K,{spacing:1,children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"cFW7WD"})}),(0,l.jsx)(u.x,{fontSize:"xs",color:"whiteAlpha.700",children:(0,l.jsx)(m.cC,{id:"qliBJ3"})})]}),placement:"top",children:(0,l.jsx)(c.k,{bg:r?k:b,minW:1.5,minH:1.5,borderRadius:"full"})}):null,(0,l.jsx)(u.x,{mt:"-1px",textAlign:"left",noOfLines:1,fontFamily:i?void 0:"mono",fontSize:"xs",whiteSpace:"normal",wordBreak:"break-all",children:i?(0,l.jsx)(m.cC,{id:"i0qMbr"}):n.path})]})]}),w&&a&&d&&(0,l.jsx)(a4,{site:d,doc:s,route:n,hasChanges:h,isSelected:r,onToggleOffline:w})]})},a8=()=>{let e=(0,U.CG)(eA.lH),{openSiteSettings:t}=(0,tH.AA)(),n=(0,U.CG)(eA.B$),{onlineRoutes:i,offlineRoutes:r}=(0,j.useMemo)(()=>{let t=(null==e?void 0:e.routes)?[...e.routes]:[],n=t.sort(function(e,t){return e.path<t.path?-1:e.path>t.path?1:0}).sort((e,t)=>"/"===e.path?-1:"/"===t.path?1:0);return{onlineRoutes:n.filter(e=>!e.offline),offlineRoutes:n.filter(e=>e.offline)}},[null==e?void 0:e.routes]);return e?(0,l.jsxs)(t_.K,{spacing:2,w:"100%",p:0,children:[(0,l.jsx)(rn,{context:"pages",openSiteSettings:()=>t("website")}),(0,l.jsxs)(a3,{title:(0,l.jsx)(m.cC,{id:"wRR604"}),children:[(0,l.jsx)(e1.L,{}),(0,l.jsx)(aJ,{site:e})]}),(0,l.jsxs)(t_.K,{spacing:1,px:0,children:[0===i.length&&(0,l.jsx)(a1,{site:e}),i.map(e=>{let t=e.docId===n;return(0,l.jsx)(a6,{route:e,isHome:"/"===e.path,isSelected:t},e.id)}),r.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a3,{title:(0,l.jsx)(m.cC,{id:"1DdXjE"})}),r.map(e=>{let t=e.docId===n;return(0,l.jsx)(a6,{route:e,isHome:"/"===e.path,isSelected:t},e.id)})]})]})]}):(0,l.jsx)(l.Fragment,{})},a7=()=>{let e=(0,eM.Yy)();return(0,l.jsx)(ev.Wk,{isDark:e,children:(0,l.jsx)(e4.s,{bg:e?"gray.900":"white",borderRight:"1px solid",borderColor:e?"gray.800":"gray.200","data-panelid":"pages-panel",overflowX:"hidden",px:6,pt:4,children:(0,l.jsx)(a8,{})})})};a7.panelPosition="left";var a9=n(20816),le=n(951),lt=n(71508);let ln=[{transform:"translateX(0px)"},{transform:"translateX(5px)"},{transform:"translateX(0px)"},{transform:"translateX(-5px)"},{transform:"translateX(0px)"}],li={duration:200},lr=e=>{var t;let{docId:n}=e,{onClose:i}=(0,E.q)(),{onPasswordSubmitted:r}=(0,nh._)(),[o,s]=(0,j.useState)(!1),[a,d]=(0,j.useState)(""),[h,p]=(0,j.useState)(!1),[f,g]=(0,j.useState)(""),v=(0,j.useRef)(null),[b,{data:y}]=(0,C.VEy)();(0,j.useEffect)(()=>{b({variables:{docId:n}})},[n,b]);let k=(0,j.useCallback)(()=>{h||null==r||r(a).then(e=>{var t;let[n]=e;(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.doc)?p(!0):(v.current&&v.current.animate(ln,li),g(x.ag._({id:"jvNV6s",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})))})},[a,h,g,p,r]);return(0,l.jsxs)(rl.u_,{isOpen:!0,onClose:i,isCentered:!0,size:"xl",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{ref:v,children:[(0,l.jsx)(ru.x,{children:(0,l.jsxs)(t_.K,{alignItems:"center",children:[(0,l.jsx)(oo.q,{src:(null==y?void 0:null===(t=y.publicDoc)||void 0===t?void 0:t.logoUrl)||lt.Z.src,size:"lg"}),(0,l.jsx)(eQ.X,{children:(0,l.jsx)(m.cC,{id:"GZ6qi2"})}),(0,l.jsx)(u.x,{fontSize:"md",letterSpacing:"normal",fontWeight:"normal",children:(0,l.jsx)(m.cC,{id:"rp/zfh"})})]})}),(0,l.jsx)(tK.f,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsx)(t_.K,{as:"form",spacing:4,onSubmit:e=>{e.preventDefault(),a.length&&k()},children:(0,l.jsxs)(ij.NI,{isInvalid:!!f,children:[(0,l.jsx)(ib.l,{children:(0,l.jsx)(m.cC,{id:"8ZsakT"})}),(0,l.jsxs)(nq.B,{children:[(0,l.jsx)(sA.I,{type:o?"text":"password",placeholder:"Enter the password",value:a,onChange:e=>{d(e.target.value)},borderColor:f?"red":"gray.200"}),(0,l.jsx)(a9.x,{children:(0,l.jsx)(T.h,{variant:"link",size:"lg",onClick:()=>s(!o),"aria-label":x.ag._({id:"tniYMG"}),icon:o?(0,l.jsx)(le.p3W,{}):(0,l.jsx)(le.w8I,{}),_focus:{outline:"none"}})})]}),f&&(0,l.jsx)(o4.J1,{children:f}),!f&&(0,l.jsx)(ij.Q6,{color:"gray.600",children:(0,l.jsx)(m.cC,{id:"tSTf2H",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})})]})})}),(0,l.jsx)(tY.m,{flex:1,w:"100%",children:(0,l.jsx)(c.k,{flex:1,align:"center",justify:"center",textAlign:"center",children:(0,l.jsx)(ex.z,{w:"85%",variant:"solid",isDisabled:!a.length,onClick:k,children:(0,l.jsx)(m.cC,{id:"xGVfLh"})})})})]})]})};var lo=n(11093);let ls=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=(0,U.TL)(),i=(0,eW.As)("editor"),r=ee(),o=(0,U.CG)(B.yn,e7()),s=(0,U.CG)(B.k8,e7()),a=!!(null==s?void 0:s.pos);(0,j.useEffect)(()=>{if(!e)return;let t=eS()(()=>{o&&n((0,B.Qx)({attached:!1}))},500,{leading:!0}),i=(0,eq.B$)({topOffset:100,requiredCookie:"spotlightScrollDebug=true"});return document.addEventListener("wheel",t,!0),()=>{i(),t.cancel(),document.removeEventListener("wheel",t,!0)}},[e,n,o,a,t]);let l=(0,U.CG)(B.ks,e7());(0,j.useEffect)(()=>{if(!e||l)return;let t=eS()(()=>{if(i.inProgress)return;let t=(0,lo.lI)(e,100,r);if(!t){console.debug("[useHandleScrollAndSelectionChange][handleScroll] Unable to find topPosPct.");return}n((0,B.Us)(t))},250,{trailing:!0,maxWait:500}),o=eS()(()=>{let t=e.state.selection;if(t instanceof rj.c)return;let r=document.querySelector(i.scrollSelector||""),o=null==r?void 0:r.getBoundingClientRect(),s=e.state.selection.from,a=(0,lo.Sh)(e,s);if(!r||!o||!a){console.debug("[useHandleScrollAndSelectionChange][handleSelectionChange] missing data",{domNodeToUse:a});return}let l=a.getBoundingClientRect(),c=e.view.coordsAtPos(s),u=parseFloat(((c.top-l.y)/l.height).toFixed(2));n((0,B.Us)({pos:s,pct:u}))},250,{trailing:!0,maxWait:500});return t(),e.on("selectionUpdate",o),window.addEventListener("scroll",t,!0),()=>{e.off("selectionUpdate",o),window.removeEventListener("scroll",t,!0)}},[e,n,i,l,r])},la=()=>{let e=(0,n8.p)(),t=(0,U.TL)(),n=(0,j.useCallback)(n=>{let{collaborator:i,localIsFollowing:r,localIsAttached:o}=n,s={attached:!0};r?o?s.following=null:e.closeAll():(s.following=i.sessionId,e.closeAll(),e({duration:2e3,position:"bottom",render:function(){return(0,l.jsxs)(c.k,{bg:"gray.50",p:3,px:6,align:"center",borderRadius:"md",shadow:"md",children:[(0,l.jsx)(oo.q,{size:"sm",src:i.profileImageUrl,border:"solid 2px ".concat(i.color),color:rG()(i.color).isDark()?"white":"black",bg:i.color}),(0,l.jsx)(u.x,{ml:2,children:(0,l.jsx)(m.cC,{id:"lULvWe",values:{0:i.name}})})]})}})),console.debug("[CollaboratorsPanel] Clicked on collaborator ".concat(i.name,". Setting following to ").concat(s)),t((0,B.Qx)(s))},[e,t]);return n},ll=e=>{let{editor:t,collaborators:n,user:i}=e,r=(0,j.useRef)(!1),o=la(),s=new URLSearchParams(window.location.search),a=s.get("following_id"),l=s.get("follow_on_start");(0,j.useEffect)(()=>{if(r.current||!l||(null==i?void 0:i.id)===a||!t)return;let e=n.find(e=>e.id===a);e&&(o({collaborator:e,localIsAttached:!1,localIsFollowing:!1}),r.current=!0)},[a,l,t,n,i,o])},lc="sessionId1",lu=eU.hj.create({addStorage:()=>({user:{}}),addCommands(){return{user:e=>()=>{let t=(0,U.bh)();return this.storage.user=i$()({},this.storage.user,e),t.dispatch((0,B.MU)({sessionId:lc})),t.dispatch((0,B.Tx)({collaborators:[this.storage.user]})),!0}}}}),ld=e=>{var t;let{docId:n,snapshotId:i,scrollingParentSelector:r,onCreate:o,theme:s,hideMadeWithGammaBadge:a=!1}=e,[u]=(0,j.useState)(()=>[tI.F,i3.$1.configure({scrollerSelector:r}),lu,i2._g]),{user:h,isUserLoading:p,anonymousUser:f,color:m}=(0,e$.SE)(),[x]=(0,H.I)(W.H.gammaDocPasswords,{}),[g,v]=(0,j.useState)(),{data:b,loading:y,error:k}=(0,C.EDv)({variables:{docId:n,snapshotId:i,password:x[n]},skip:!i}),w=(0,U.CG)(tG.yx);(0,j.useEffect)(()=>{!p&&g&&g.commands.user({id:(null==h?void 0:h.id)||f.id,color:m.value,sessionId:lc,idleSince:null,name:(null==h?void 0:h.displayName)||f.displayName||"",profileImageUrl:(null==h?void 0:h.profileImageUrl)||"",isReady:!p})},[g,h,m,p,f]);let D=b&&void 0!==b.snapshot&&!y&&w;return(0,l.jsxs)(d.xu,{"data-testid":"public-static-editor-wrapper",flex:"1",height:"100%",children:[!D||k?(0,l.jsxs)(c.k,{direction:"column",height:"100%",flex:"1",bg:"gray.100",alignItems:"center",justifyContent:"center",children:[!D&&(0,l.jsx)(tE.$,{}),k&&(0,l.jsxs)(tD.M,{h:"100%",children:["There was an error loading this ",Y.Yc,":"," ",k.message]})]}):(0,l.jsx)(d.xu,{"data-testid":"public-static-editor-wrapper-inner",transitionProperty:"common",transitionDuration:"750ms",transitionTimingFunction:"ease-out",opacity:D?1:0,children:(0,l.jsx)(eF.yE,{doc:w,editorId:"main",docId:n,theme:s||void 0,extensions:u,onCreate:e=>{let{editor:t}=e;v(t),setTimeout(()=>{o&&o(t)},10)},readOnly:!0,initialContent:null===(t=b.snapshot)||void 0===t?void 0:t.content.default,scrollingParentSelector:r})}),g&&(0,l.jsx)(eX,{editor:g,backoffFactor:2}),!a&&(0,l.jsx)(i5.m,{docWorkspace:null==w?void 0:w.organization})]})},lh={[eZ.q.DOC_VIEW]:"doc",[eZ.q.SLIDE_VIEW]:"present"},lp=e=>{let t=(0,b.I0)(),n=(0,eC.SJ)(),i=n.mode,r=(0,U.CG)(B.gh),o=(0,j.useCallback)(e=>{let t=e||r,{mode:n}=(0,eC.SJ)(),i=lh[t];n!==i&&(0,iP.lO)({query:{...(0,eC.SJ)(),mode:i},emitChange:!1})},[r]);(0,rf.r)(o,[r]),(0,j.useEffect)(()=>iP.fI.on("changed",()=>o()),[o]),(0,tx.vm)(function(){if(!e)return;let n=i===lh.SLIDE_VIEW?eZ.q.SLIDE_VIEW:eZ.q.DOC_VIEW,{cardId:r}=(0,eC.sY)();n===eZ.q.SLIDE_VIEW&&(r?(console.debug("[useQuerySync] initializeModeFromQuery - Entering slide view -> spotlightCardById:",r),e.commands.spotlightCardById(r)):(console.debug("[useQuerySync] initializeModeFromQuery - Entering slide view -> spotlightCurrentCard"),e.commands.spotlightCurrentCard())),t((0,B.PM)({mode:n})),o(n)},[e,t,i,o],[e])};var lf=n(58184);let lm=e=>{let t=(0,U.CG)(B.uD),n=(0,U.CG)(B.e0),{handlePresentNavigationEvent:i}=(0,lf._)(th.R0.PRESENTER_VIEW_POPUP);(0,j.useEffect)(()=>{if(!t)return;let r=t=>{let{payload:r}=t;if(e)try{let e=JSON.parse(r),{payload:t}=e,{action:o,eventKey:s,method:a,toSessionId:l,fromUserId:c}=t;if(l!==(null==n?void 0:n.sessionId)||c!==(null==n?void 0:n.id))return;switch(o){case"goToCard":{let{cardId:e}=t;if(!e)break;i({eventType:o,eventKey:s,method:a,payload:{cardId:e}});break}case"toggleSpotlight":case"arrowRight":case"arrowLeft":case"arrowDown":case"arrowUp":case"restart":case"toggleExpanded":case"cancelCurrentAction":i({eventType:o,eventKey:s,method:a});break;default:console.warn("[usePresenterViewMessages] Unknown message type",t)}}catch(e){console.error("[usePresenterViewMessages] Error parsing message",e)}};return t.on("stateless",r),()=>{t.off("stateless",r)}},[e,null==n?void 0:n.sessionId,null==n?void 0:n.id,i,t])};var lx=n(48105),lg=n(75692),lv=n(63176),lj=n(19376),lb=(0,n(76801).m)("div",{baseStyle:{fontSize:"0.24em",top:"50%",left:"50%",width:"100%",textAlign:"center",position:"absolute",transform:"translate(-50%, -50%)"}});lb.displayName="CircularProgressLabel";var ly=n(6185),lC=n.n(ly),lk=n(68642),lw=n(27875),lD=n.n(lw),l_=n(93814);let lE={easeOutLinear:rU.gA,easeOutSine:rU.vh,easeOutCubic:rU.w2,easeOutCirc:rU.ei,easeOutQuad:rU.hl,easeOutQuart:rU.Y3,easeOutExpo:rU.ad,bezierCustom1:lC()(.13,.97,.035,.73),bezierCustom2:lC()(.105,1.15,.15,.355)},lS={UP:"up",DOWN:"down"},lA=e=>e?+new Date-+new Date(e):1/0,lT=(e,t)=>{let n=(0,j.useMemo)(()=>new lk.Lethargy(6,120,.3,150),[]),{easing:i="easeOutCubic",touchpadFactor:r=1.5,triggerThreshold:o=1200}=t||{},s=(0,eW.As)("editor"),a=(0,U.CG)(B.i2),l=(0,j.useRef)(null),c=(0,j.useRef)(null),u=(0,j.useRef)(null),d=(0,j.useRef)(!1),h=(0,j.useRef)(null),p=(0,j.useRef)(null),[f,m]=(0,j.useState)(!1),[x,g]=(0,j.useState)(!1),v=(0,j.useRef)({counterTarget:0,counterCurrent:0,direction:lS.DOWN}),b=(0,j.useCallback)(()=>{var e;if(!l.current)return;let{counterTarget:t}=v.current,n=t/o*100,i=(null!=n?n:0)*2.64,r="".concat(i," ").concat(264-i),s=null===(e=l.current.querySelector(".chakra-progress"))||void 0===e?void 0:e.lastElementChild,a=l.current.querySelector(".chakra-progress__indicator");a&&a.setAttribute("stroke-dasharray",r),s&&(s.innerHTML="".concat(n.toFixed(0),"%"))},[o]),y=(0,j.useCallback)(()=>{let e=u.current,t=c.current;if(!t||!e)return;let n=e.querySelector(".chakra-progress__indicator"),r=t.querySelector(".chakra-progress__indicator");if(!n||!r)return;let s=v.current.counterCurrent/o,a=550>lA(p.current),l=(a?1:null!=s?s:0)*264,d="".concat(l," ").concat(264-l),h=56*lE[i](Math.min(s,1)),f=Math.max(56-h,0);e.style.transform="translateY(".concat(f,"px)"),t.style.transform="translateY(-".concat(f,"px)"),r.setAttribute("stroke-dasharray",d),n.setAttribute("stroke-dasharray",d)},[i,o]),C=(0,j.useCallback)(()=>{let e;if(d.current)return;let t=n=>{let i=e?n-e:0;e=n;let r=v.current.counterTarget-v.current.counterCurrent;if(.1>Math.abs(r)){v.current.counterCurrent=v.current.counterTarget,y(),d.current=!1;return}v.current.counterCurrent=(0,rU.t7)(v.current.counterCurrent,v.current.counterTarget,lD()(.3*(60/(i?1e3/i:60)),.3,1)),y(),requestAnimationFrame(t)};requestAnimationFrame(t)},[y]),k=(0,j.useCallback)(()=>{v.current.counterTarget=0,m(!1),g(!1),b(),C()},[C,b]);return(0,j.useEffect)(()=>{let t,i;if(!a||!e)return k();let l=document.querySelector((0,l_.U8)(a));if(!l)return k();let d=t=>{if(t.target.closest("[data-comments-wrapper]"))return;let a=n.check(t);if(null===u.current||null===c.current)return;let l=lA(h.current);if(l<500||l<1e3&&!1===a)return;let d=lA(p.current);if(d<500||d<1e3&&!1===a)return;let f=0===Math.abs(t.deltaY)?v.current.direction:t.deltaY>0?lS.DOWN:lS.UP,x="down"===f?s.isAtBottom():s.isAtTop();if(!x)return;clearTimeout(i);let j=t.wheelDeltaY?t.wheelDeltaY===-3*t.deltaY:0===t.deltaMode,y=Math.abs(void 0!==t.deltaY?t.deltaY:40),w=y*(j?r:1);if(f!==v.current.direction){v.current.direction=f,k();return}g(f===lS.DOWN),m(f===lS.UP),v.current.counterTarget+=w,v.current.direction=f;let D=v.current.counterTarget/o;D>=1?(e.commands.spotlightNextCard(f===lS.UP,f===lS.UP?"bottom":"top"),p.current=+new Date,setTimeout(()=>{k(),b()},250),setTimeout(()=>{p.current=null},1e3)):i=setTimeout(k,500),C(),b()},f=()=>{h.current=+new Date,clearTimeout(t),k(),t=setTimeout(()=>{h.current=null},1e3)};return l.addEventListener("scroll",f),l.addEventListener("wheel",d,{passive:!0}),b(),()=>{l.removeEventListener("scroll",f),l.removeEventListener("wheel",d)}},[e,n,C,i,r,o,s,b,y,k,a]),{debugRef:l,nextCardRef:u,prevCardRef:c,showNextCard:x,showPrevCard:f}},lI=e=>{let{editor:t}=e,n=(0,tr.ye)("debugLogging"),[i,r]=(0,j.useState)("easeOutExpo"),[o,s]=(0,j.useState)(1.5),[a,c]=(0,j.useState)(1200),{debugRef:u,nextCardRef:d,prevCardRef:h,showNextCard:p,showPrevCard:f}=lT(t,{easing:i,touchpadFactor:o,triggerThreshold:a}),{prevCard:m,nextCard:x}=(0,U.CG)(e=>{let t=(0,B.i2)(e)||"",n=(0,B.X9)(e),i=n.parents[t]||[],r=i.reduce((e,t)=>e[t],n.tree),o=Object.keys(r),s=null,a=null;return o.forEach((e,i)=>{if(e!==t)return;let r=n.parents[t];0===i?r.length&&(s={cardId:r[r.length-1],isSibling:!1}):s={cardId:o[i-1],isSibling:!0},i===o.length-1?r.length&&(a={cardId:r[r.length-1],isSibling:!1}):a={cardId:o[i+1],isSibling:!0}}),{prevCard:s,nextCard:a}},e7()),g=null==x?void 0:x.cardId,v=null==m?void 0:m.cardId,b=(0,j.useMemo)(()=>{let e=null,n=null;return t&&t.state.doc.descendants(t=>!(0,eV.KH)(t)||(t.attrs.id===v?e=t:t.attrs.id===g&&(n=t),!!(!e&&v)||!!(!n&&g))),{prev:e,next:n}},[t,g,v]);return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)(lO,{ref:u,setEasing:r,setTouchpadFactor:s,setTriggerThreshold:c}),(0,l.jsx)(lM,{ref:h,direction:"up",node:b.prev,enabled:f,offset:16}),(0,l.jsx)(lM,{ref:d,direction:"down",node:b.next,enabled:p,offset:24})]})},lO=j.forwardRef((e,t)=>{let{setEasing:n,setTouchpadFactor:i,setTriggerThreshold:r}=e;return(0,l.jsxs)(c.k,{position:"absolute",alignItems:"center",bg:"gray.100",left:2,bottom:16,zIndex:"overlay",borderRadius:"md",border:"solid 2px var(--chakra-colors-trueblue-300)",p:1,children:[(0,l.jsxs)(nb.v,{closeOnSelect:!1,children:[(0,l.jsx)(ny.j,{as:ex.z,colorScheme:"trueblue",children:"Options"}),(0,l.jsxs)(nC.q,{minWidth:"240px",children:[(0,l.jsx)(ev.kH,{label:"How much total scrolling work do we need to do to trigger next/prev card?",placement:"right",children:(0,l.jsxs)(u.x,{color:"gray",fontSize:"sm",fontWeight:"600",ml:2,pb:2,children:["Scroll Threshold"," ",(0,l.jsxs)("i",{children:["(default=",1200,")"]})]})}),(0,l.jsxs)(lv.Y2,{defaultValue:1200,min:100,max:1e4,precision:0,step:100,onChange:(e,t)=>r(t),children:[(0,l.jsx)(lv.zu,{}),(0,l.jsxs)(lv.Fi,{children:[(0,l.jsx)(lv.WQ,{}),(0,l.jsx)(lv.Y_,{})]})]}),(0,l.jsx)(ri.R,{}),(0,l.jsx)(ev.kH,{label:"How much extra weight do we give to touchpad scroll events?",placement:"right",children:(0,l.jsxs)(u.x,{color:"gray",fontSize:"sm",fontWeight:"600",ml:2,pb:2,children:["Touchpad Multiplier"," ",(0,l.jsxs)("i",{children:["(default=",1.5,")"]})]})}),(0,l.jsxs)(lv.Y2,{defaultValue:1.5,min:1,max:10,precision:1,step:.1,onChange:(e,t)=>i(t),children:[(0,l.jsx)(lv.zu,{}),(0,l.jsxs)(lv.Fi,{children:[(0,l.jsx)(lv.WQ,{}),(0,l.jsx)(lv.Y_,{})]})]}),(0,l.jsx)(ri.R,{}),(0,l.jsxs)(nk._,{defaultValue:"easeOutExpo",title:"Easing (of peek element)",type:"radio",onChange:e=>n(e),children:[(0,l.jsx)(nw.i,{value:"easeOutLinear",children:"easeOutLinear"}),(0,l.jsx)(nw.i,{value:"easeOutSine",children:"easeOutSine"}),(0,l.jsx)(nw.i,{value:"easeOutCubic",children:"easeOutCubic"}),(0,l.jsx)(nw.i,{value:"easeOutCirc",children:"easeOutCirc"}),(0,l.jsx)(nw.i,{value:"easeOutQuad",children:"easeOutQuad"}),(0,l.jsx)(nw.i,{value:"easeOutQuart",children:"easeOutQuart"}),(0,l.jsx)(nw.i,{value:"easeOutExpo",children:"easeOutExpo"}),(0,l.jsx)(nw.i,{value:"bezierCustom1",children:"bezierCustom1"}),(0,l.jsx)(nw.i,{value:"bezierCustom2",children:"bezierCustom2"})]})]})]}),(0,l.jsx)(c.k,{ref:t,direction:"column",alignItems:"center",width:"85px",ml:1,sx:{".chakra-progress__indicator":{transition:"none !important",opacity:1}},children:(0,l.jsx)(lj.D,{value:40,color:"trueblue.500",children:(0,l.jsx)(lb,{})})})]})});lO.displayName="PeekDebugger";let lM=j.forwardRef((e,t)=>{let{direction:n,enabled:i,node:r,offset:o}=e,[s,a]=(0,j.useState)(!1),[d,h]=(0,j.useState)(r);(0,j.useEffect)(()=>{a(!0);let e=setTimeout(()=>{a(!1),h(r)},550);return()=>{clearTimeout(e)}},[r]);let m=(0,j.useMemo)(()=>d?(0,aA.getCardTitle)(d.toJSON()):"",[d]),x=!!d;return(0,l.jsx)(c.k,{ref:t,pointerEvents:"none",position:"absolute",justifyContent:"center",width:"100%",zIndex:"overlay",top:"up"===n?"".concat(o,"px"):"inherit",bottom:"down"===n?"".concat(o,"px"):"inherit",children:(0,l.jsxs)(c.k,{bg:"gray.100",borderRadius:"md",boxShadow:"md",h:"".concat(40,"px"),maxWidth:"450px",justifyContent:"center",opacity:i?1:0,transition:"opacity ".concat(300,"ms ease-out"),textAlign:"center",alignItems:"center",direction:"row",px:2,sx:{".chakra-progress__indicator":{transition:"none !important",opacity:1}},children:[(0,l.jsx)(lj.D,{display:x?"block":"none",color:"trueblue.500",size:"20px",thickness:"16px",children:(0,l.jsx)(lb,{visibility:s?"visible":"hidden",children:(0,l.jsx)(f.G,{icon:p.fV7,fontSize:"14px",style:{color:"var(--chakra-colors-gray-100)",backgroundColor:"var(--chakra-colors-trueblue-500)",borderRadius:"10px"}})})}),x||"up"!==n?x||"down"!==n?null:(0,l.jsx)(f.G,{icon:p.m5q,size:"xs",color:"var(--chakra-colors-gray-600)"}):(0,l.jsx)(f.G,{icon:p.ytF,size:"xs",color:"var(--chakra-colors-gray-600)"}),(0,l.jsx)(c.k,{width:1}),(0,l.jsx)(u.x,{noOfLines:1,textOverflow:"ellipsis",overflowX:"hidden",fontSize:"md",color:x?"gray.800":"gray.600",px:2,children:x?m:"down"===n?"End of presentation":"Start of presentation"})]})})});lM.displayName="PeekCardTab";let lF=()=>{let[e,t]=(0,j.useState)(["",[],{}]),n=(0,U.qr)();return(0,j.useEffect)(()=>n.subscribe(()=>{let e=n.getState(),i=(0,B.X9)(e),r=(0,B.i2)(e)||"",o=i.parents[r]||[],s={};Object.keys(i.tree).forEach(e=>{let t=[],n=e=>{Object.keys(e).forEach(i=>{t.push(i),n(e[i])})};n(i.tree[e]),s[e]=t}),t([r,o,s])}),[n]),e},lR=()=>{let[e,t,n]=lF(),i=Object.keys(n);return(0,l.jsx)(em.U,{position:"fixed",bottom:0,w:"100vw",zIndex:10,background:"blackAlpha.200",px:"6px",py:"2px",align:"end",spacing:"2px",opacity:e?1:0,transitionProperty:"opacity",transitionDuration:"normal",children:i.map((r,o)=>{let s=[...t,e][0],a=i.indexOf(s),c=n[s],u=0,d=100;if(e&&c&&-1===i.indexOf(e)){let t=c.indexOf(e);u=(t+1)/c.length*100,d=1/c.length*100}return(0,l.jsx)(lL,{cardId:r,state:o===a?"current":o<=a?"prev":"next",percent:u,unit:d},r)})})},lN="var(--chakra-colors-trueblue-200)",lP="var(--chakra-colors-trueblue-100)",lL=e=>{let{cardId:t,state:n,percent:i,unit:r}=e,o="linear-gradient(to right, ".concat(lN," 0% ").concat(i,"%, ").concat("var(--chakra-colors-trueblue-300)"," ").concat(i,"% ").concat(i+r,"%, ").concat(lP," ").concat(i+r,"% 100%)");return(0,l.jsx)(c.k,{borderRadius:"2px",flex:"1",h:"6px",bg:"current"===n?o:"prev"===n?lN:lP},t)},lz=(0,nM.ZP)("Esc"),lG=e=>{let{editor:t,showNavigationControls:n}=e,i=(0,b.v9)(B.gh),r=i===eZ.q.SLIDE_VIEW,[o,s]=(0,j.useState)(null),a=(0,b.v9)(B.JA),d=(0,j.useRef)(a),h=(0,b.I0)(),p=r&&!a,f=(0,lg.tE)({enabled:p,setActiveKey:s});return lm(t),(0,j.useEffect)(()=>{h((0,B.e)({isEditingInSlideView:!1}))},[r,h]),d.current=a,(0,j.useEffect)(()=>eb.F7.on("keydown","SLIDE_VIEW",e=>!!(d.current&&lz(e))&&(h((0,B.e)({isEditingInSlideView:!1})),e.preventDefault(),!0)),[h]),(0,lx.us)(),(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsx)(lI,{editor:t}),r&&(0,l.jsx)(lR,{}),r&&(0,l.jsx)(c.k,{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",justify:"flex-end",children:(0,l.jsxs)(c.k,{bg:"gray.50",position:"fixed",bottom:6,right:6,p:3,px:6,justify:"flex-end",align:"center",opacity:a?1:0,pointerEvents:a?"auto":"none",transitionProperty:"opacity, transform",transitionDuration:"normal",transitionTimingFunction:"ease",transform:a?"translate(0,0)":"translate(0,100%)",borderRadius:"md",shadow:"md",zIndex:"overlay",children:[(0,l.jsx)(u.x,{size:"sm",mr:3,children:(0,l.jsx)(m.cC,{id:"DjD/sG"})}),(0,l.jsx)(ex.z,{size:"sm",variant:"solid",onClick:()=>h((0,B.e)({isEditingInSlideView:!1})),children:(0,l.jsx)(m.cC,{id:"DPfwMq"})})]})}),r&&n&&(0,l.jsx)(lg.nP,{activeKey:o,spotlightingByBlock:f})]})};var lU=n(50423);let lB=tU.S.filmstrip,lH=tU.S.filmstrip-1,lW={duration:.25,delay:.75},lV={duration:.25},lq="filmstrip-root",lZ=".".concat(lq),lK="filmstrip-scroller",lY=".".concat(lK),lX=j.createContext({navItemPreviewRefMap:{}});function l$(){let e=(0,j.useContext)(lX);return e}var lJ=n(76643),lQ=n(9340);let l0=(0,j.createContext)(null);var l1=n(3105),l2=n(44866),l3=n(65339);let l5=(0,j.forwardRef)(function({children:e,as:t="ul",axis:n="y",onReorder:i,values:r,...o},s){let a=(0,l1.h)(()=>(0,ax.E)(t)),l=[],c=(0,j.useRef)(!1);return(0,lQ.k)(!!r,"Reorder.Group must be provided a values prop"),(0,j.useEffect)(()=>{c.current=!1}),j.createElement(a,{...o,ref:s},j.createElement(l0.Provider,{value:{axis:n,registerItem:(e,t)=>{t&&-1===l.findIndex(t=>e===t.value)&&(l.push({value:e,layout:t[n]}),l.sort(l6))},updateOrder:(e,t,n)=>{if(c.current)return;let o=function(e,t,n,i){if(!i)return e;let r=e.findIndex(e=>e.value===t);if(-1===r)return e;let o=i>0?1:-1,s=e[r+o];if(!s)return e;let a=e[r],l=s.layout,c=(0,l3.C)(l.min,l.max,.5);return 1===o&&a.layout.max+n>c||-1===o&&a.layout.min+n<c?(0,l2.uo)(e,r,r+o):e}(l,e,t,n);l!==o&&(c.current=!0,i(o.map(l4).filter(e=>-1!==r.indexOf(e))))}}},e))});function l4(e){return e.value}function l6(e,t){return e.layout.min-t.layout.min}var l8=n(40226),l7=n(60976);function l9(e){let t=(0,l1.h)(()=>(0,l8.B)(e)),{isStatic:n}=(0,j.useContext)(l7._);if(n){let[,n]=(0,j.useState)(e);(0,j.useEffect)(()=>t.on("change",n),[])}return t}var ce=n(83972);let ct=e=>"object"==typeof e&&e.mix,cn=e=>ct(e)?e.mix:void 0;var ci=n(23617),cr=n(58387);function co(e,t){let n=(0,l1.h)(()=>[]);return function(e,t){var n,i;let r=l9(t()),o=()=>r.set(t());return o(),n=()=>cr.Z_.update(o,!1,!0),i=()=>cr.qY.update(o),(0,ci.L)(()=>{let t=e.map(e=>e.on("change",n));return()=>{t.forEach(e=>e()),i()}}),r}(e,()=>{n.length=0;let i=e.length;for(let t=0;t<i;t++)n[t]=e[t].get();return t(n)})}var cs=n(15815);function ca(e,t=0){return(0,cs.i)(e)?e:l9(t)}let cl=(0,j.forwardRef)(function({children:e,style:t={},value:n,as:i="li",onDrag:r,layout:o=!0,...s},a){let l=(0,l1.h)(()=>(0,ax.E)(i)),c=(0,j.useContext)(l0),u={x:ca(t.x),y:ca(t.y)},d=function(e,t,n,i){let r="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),n=t?0:-1,i=e[0+n],r=e[1+n],o=e[2+n],s=e[3+n],a=(0,ce.s)(r,o,{mixer:cn(o[0]),...s});return t?a(i):a}(t,void 0,void 0);return Array.isArray(e)?co(e,r):co([e],([e])=>r(e))}([u.x,u.y],([e,t])=>e||t?1:"unset"),h=(0,j.useRef)(null);(0,lQ.k)(!!c,"Reorder.Item must be a child of Reorder.Group");let{axis:p,registerItem:f,updateOrder:m}=c;return(0,j.useEffect)(()=>{f(n,h.current)},[c]),j.createElement(l,{drag:p,...s,dragSnapToOrigin:!0,style:{...t,x:u.x,y:u.y,zIndex:d},layout:o,onDrag:(e,t)=>{let{velocity:i}=t;i[p]&&m(n,u[p].get(),i[p]),r&&r(e,t)},onLayoutMeasure:e=>{h.current=e},ref:a},e)}),cc={Group:l5,Item:cl};var cu=n(22662),cd=n(791),ch=n(17007);let cp=e=>{let{content:t,selection:n}=(0,cd.i)(e),i=!!(null==t?void 0:t.content),r=(0,j.useMemo)(()=>{var e;if(!i)return[];let n=t.content,r=(null==n?void 0:n[0].content)||[],o=null===(e=t.content)||void 0===e?void 0:e[0].attrs;return r.map(e=>{var t;if(!o||!(null===(t=e.attrs)||void 0===t?void 0:t.id))return null;let n={cardId:e.attrs.id,isDragging:!1,displayBehavior:"normal"};return n}).filter(e=>null!==e)},[t,i]),o=(0,U.CG)(ch.ZD,(e,t)=>e7()(e,t)),s=o.map(e=>{let t=r.find(t=>t.cardId===e.cardId);if(!t)return null;let n={...e};return n}).filter(e=>null!==e),a=(0,U.CG)(ch.Ae);return{isDragging:a,cards:a?s:r,editorContent:t,selection:n,isLoaded:i}};var cf=n(66028);let cm=e=>({backgroundColor:e?"gray.700":"gray.200",activeButtonColor:e?"gray.50":"trueblue.500",inactiveButtonColor:e?"gray.50":"gray.900",closeButtonColorScheme:e?"gray":"blackAlpha"}),cx=e=>{let{onClose:t,isDark:n,viewPreference:i,setViewPreference:r}=e,o="list"===i,{activeButtonColor:s,inactiveButtonColor:a,backgroundColor:u,closeButtonColorScheme:d}=cm(n),h=(0,ez.z$)(),g=(0,j.useCallback)(e=>()=>{r(e),null==h||h.track(ez.AA.FILMSTRIP_TOGGLE_VIEW,{view:e})},[h,r]);return(0,l.jsxs)(c.k,{p:"8px",pb:"2px",children:[(0,l.jsxs)(em.U,{spacing:0,bg:u,p:.5,borderRadius:"md",children:[(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"Rv+zkJ"}),children:(0,l.jsx)(ex.z,{size:"xs",variant:o?"ghost":"plain",color:o?a:s,onClick:g("film"),"data-testid":"filmstrip-view-button",children:(0,l.jsx)(em.U,{children:(0,l.jsx)(f.G,{icon:p.CjD})})})}),(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"5NZpX8"}),children:(0,l.jsx)(ex.z,{size:"xs",variant:o?"plain":"ghost",color:o?s:a,onClick:g("list"),"data-testid":"list-view-button",children:(0,l.jsx)(em.U,{children:(0,l.jsx)(f.G,{icon:p.Zrf})})})})]}),(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"C8DFL7"}),shortcut:"Mod+\\",children:(0,l.jsx)(T.h,{variant:"ghost","aria-label":x.ag._({id:"C8DFL7"}),"data-testid":"close-filmstrip-button",colorScheme:d,isRound:!0,size:"xs",icon:(0,l.jsx)(f.G,{icon:p.g82}),outlineOffset:"0px",ml:"auto",onClick:e=>{e.stopPropagation(),t()},onMouseDown:cf.br})})]})};var cg=n(73208),cv=n(65895),cj=n(38564),cb=n(56143),cy=n(43818),cC=n(50381),ck=n.n(cC),cw=n(9850),cD=n.n(cw),c_=n(86323),cE=n(50105),cS=n(33169),cA=n(87008),cT=n(38322);let cI=(e,t)=>{let n=cj.Gk.getState(e.state).undoManager,i=n.undoStack[n.undoStack.length-1];i&&i.meta.set("filmstripState",t)},cO=e=>{let t=(0,U.CG)(cu.wg),n=(0,U.CG)(cu.zq),i=(0,U.TL)(),r=(0,n8.p)(),o=(0,j.useCallback)(n=>{var i;if(!e)return;let o=(0,eV.Lz)(e,t);if(!o.length)return;let s=t$.HY.from(o),a=(0,cA.G8)(s,e.schema);if(!a){r({title:n?(0,l.jsx)(m.cC,{id:"33a+2Q"}):(0,l.jsx)(m.cC,{id:"FntfNT"}),status:"error",duration:3e3,position:"top"});return}null===(i=document.getSelection())||void 0===i||i.removeAllRanges(),ck()(a,{format:"text/html"});let c=cE.Z.getState(e.state);c&&!n&&c.clearCutData(),r({title:n?(0,l.jsx)(m.cC,{id:"VG4BD6",values:{0:o.length,1:o.length}}):(0,l.jsx)(m.cC,{id:"GtH+14",values:{0:o.length,1:o.length}}),status:"success",duration:3e3,position:"top"})},[e,t,r]),s=(0,j.useCallback)(()=>{o(!1)},[o]),a=(0,j.useCallback)(function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return;let r=(0,cu.ym)((0,U.bh)().getState());i((0,cu.jf)()),e.commands.deleteCardsById(t,n),cI(e,r)},[i,e,t]),c=(0,j.useCallback)(()=>{if(!e||0===t.length)return;let n="";if(1===t.length){let i=(0,eV.Bw)(e,t[0]);i&&(n=(0,cy.getCardTitle)(i.node.toJSON())||"")}a();let i=n?'"'.concat(n,'"'):x.ag._({id:"FyJPFh"}),o=r({title:(0,l.jsxs)(em.U,{children:[(0,l.jsx)(u.x,{noOfLines:1,children:(0,l.jsx)(m.cC,{id:"OJTPnC",values:{displayTitle:i,0:t.length,1:t.length}})}),(0,l.jsx)(iJ.r,{textDecoration:"underline",onClick:()=>{(0,cb.Yw)(e.state),r.close(o)},children:(0,l.jsx)(m.cC,{id:"9uI/rE"})})]}),status:"info",duration:3e3,position:"top"})},[a,e,t,r]),d=(0,j.useCallback)(()=>{0!==t.length&&(o(!0),a(!0))},[a,o,t]),h=(0,j.useCallback)(()=>{if(!e||0===t.length)return;let o=(0,eV.Lz)(e,t);if(o.length){let t=(0,eV.Bw)(e,n),s=t?t.pos+t.node.nodeSize:e.state.doc.content.size-1,a=o.map(e=>(0,eT.hs)(cD()(e.toJSON()))),c=a.map(e=>(0,cS.Zs)(e)),u=(0,cu.ym)((0,U.bh)().getState());e.chain().insertContentAt(s,c,{updateSelection:!1}).command(e=>{let{tr:t}=e,n=(0,cT.t)(t.doc.resolve(s));return n&&(t=t.setSelection(n)),!0}).scrollIntoView().run(),cI(e,u),i((0,cu.xi)({beforeCardId:null==t?void 0:t.node.attrs.id,cardCount:c.length})),r({title:(0,l.jsx)(m.cC,{id:"ClnFsQ",values:{0:o.length,1:o.length}}),status:"success",duration:3e3,position:"top"})}},[i,e,n,r,t]),p=(0,j.useCallback)(()=>{if(!e)return;let t=(0,cu.zq)((0,U.bh)().getState()),n=(0,eV.Bw)(e,t);if(!n)return;let{pos:r}=n,o=e.view.state.doc.nodeAt(r);if(!o){console.error("[Filmstrip] Cannot append card. Node unknown");return}let s=r+o.nodeSize,a=(0,c_.e1)().blankCard;(0,c_.ZT)({key:"blankCard",nodeName:"card"},th.fe.FILMSTRIP_CARD_MENU);let l=(0,cu.ym)((0,U.bh)().getState());e.chain().insertContentAt(s,(0,cS.Zs)(a),{updateSelection:!1}).command(e=>{let{tr:t}=e,n=(0,cT.t)(t.doc.resolve(s));return n&&(t=t.setSelection(n)),!0}).scrollIntoView().run(),cI(e,l),i((0,cu.xi)({beforeCardId:null==n?void 0:n.node.attrs.id,cardCount:1}))},[i,e]);return{handleAddCard:p,handleCopy:s,handleDelete:c,handleCut:d,handleDuplicate:h}},cM=e=>{let{children:t,icon:n,onClick:i,shouldHide:r=!1,...o}=e;return r?null:(0,l.jsx)(rr.s,{icon:n,onClick:i,...o,children:t})},cF=(0,j.memo)(e=>{let{isDark:t}=e;return(0,l.jsxs)(d.xu,{as:"span",className:"fa-layers fa-fw",children:[(0,l.jsx)(f.G,{fixedWidth:!0,icon:p.lCX}),(0,l.jsx)(f.G,{icon:e2.diR,transform:"shrink-4 right-6 down-4",color:"var(--menu-bg, white)"}),(0,l.jsx)(f.G,{icon:e2.diR,transform:"shrink-7 right-6 down-4"}),(0,l.jsx)(f.G,{icon:e2.r8p,color:t?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-100)",transform:"shrink-10 right-6 down-4"})]})});cF.displayName="AddCardIcon";let cR=(e,t)=>{if(0===e.length||!t)return null;if(1===e.length){let n=(0,eV.Bw)(t,e[0]);if(!n)return null;{let e=(0,aA.getCardTitle)(n.node.toJSON());return e||"Untitled card"}}return"Multiple cards selected"},cN=(0,j.forwardRef)((e,t)=>{let{editor:n,isOpen:i,onClose:r,readOnly:o,clearPositioning:s,rootStyles:a,isDark:c}=e,d=(0,U.CG)(B.yx),h=(0,n8.p)(),{handleCopy:x,handleDelete:g,handleCut:v,handleDuplicate:b,handleAddCard:y}=cO(n),C=(0,U.CG)(cu.wg),k=1===C.length,w=(0,j.useMemo)(()=>k?(0,eC.gq)({cardId:C[0],docId:null==d?void 0:d.id,isPresentMode:!1}):"",[null==d?void 0:d.id,k,C]),{onCopy:D}=(0,n7.V)(w),_=(0,j.useCallback)(()=>{D(),h({title:(0,l.jsx)(m.cC,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},[D,h]),E=(0,cv.K)(),S=(0,j.useMemo)(()=>cR(C,n),[n,C]),A=(0,j.useMemo)(()=>c?{"--menu-bg":"var(--chakra-colors-gray-900)","&:focus":{"--menu-bg":"var(--chakra-colors-gray-800)"}}:{},[c]);return(0,l.jsx)(nb.v,{isOpen:i,onClose:r,children:(0,l.jsxs)(nC.q,{className:"filmstrip-card-menu",onContextMenu:e=>{e.preventDefault()},zIndex:"popover",ref:t,rootProps:{style:a},w:"260px",overflowY:"auto",onTransitionEnd:()=>{i||s()},children:[S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.x,{pl:3,color:c?"gray.400":"gray.600",noOfLines:1,"data-testid":"filmstrip-card-menu-card-title",children:S}),(0,l.jsx)(ri.R,{})]}),(0,l.jsx)(cM,{"data-testid":"filmstrip-card-menu-item-cut",shouldHide:o,command:(0,ev.cE)("Mod+X"),icon:(0,l.jsx)(f.G,{fixedWidth:!0,icon:p.EQg}),onClick:v,children:(0,l.jsx)(m.cC,{id:"cCd8Bs"})}),(0,l.jsx)(cM,{"data-testid":"filmstrip-card-menu-item-copy",shouldHide:o,command:(0,ev.cE)("Mod+C"),icon:(0,l.jsx)(f.G,{fixedWidth:!0,icon:p.kZ_}),onClick:x,children:(0,l.jsx)(m.cC,{id:"he3ygx"})}),(0,l.jsx)(cM,{"data-testid":"filmstrip-card-menu-item-duplicate",shouldHide:o,command:(0,ev.cE)("Mod+D"),icon:(0,l.jsx)(f.G,{fixedWidth:!0,icon:p.WM4}),onClick:b,children:(0,l.jsx)(m.cC,{id:"euc6Ns"})}),(0,l.jsx)(cM,{"data-testid":"filmstrip-card-menu-item-add-card",shouldHide:o,icon:(0,l.jsx)(cF,{isDark:c}),onClick:y,sx:A,children:(0,l.jsx)(m.cC,{id:"90n2YU"})}),!o&&(0,l.jsx)(ri.R,{}),(0,l.jsx)(cM,{"data-testid":"filmstrip-card-menu-item-copy-link",shouldHide:!k,icon:(0,l.jsx)(cg.x,{isLocked:!E,isDark:c}),onClick:_,children:(0,l.jsx)(m.cC,{id:"F0YmUY"})}),(0,l.jsx)(cM,{"data-testid":"filmstrip-card-menu-item-delete",color:c?"red.300":"red.500",icon:(0,l.jsx)(f.G,{icon:p.XAH,fixedWidth:!0}),onClick:g,shouldHide:o,children:(0,l.jsx)(m.cC,{id:"cnGeoo"})})]})})});cN.displayName="FilmstripCardMenuComponent";let cP=(0,j.memo)(cN);var cL=n(15151),cz=n(56253);let cG=(0,ax.E)(d.xu),cU=e=>{let{isEditorFocused:t,isFilmstripSelected:n,shouldHide:i,cardId:r,isDraggingCard:o,index:s}=e;return(0,l.jsxs)(c.k,{boxShadow:n?"var(--fs-item-selected-box-shadow)":t?"var(--fs-item-focused-box-shadow)":"var(--fs-item-box-shadow)",transitionProperty:"common",transitionDuration:"normal",borderRadius:"sm",overflow:"hidden",display:i?"none":void 0,children:[(0,l.jsx)(cB,{cardId:r}),(0,l.jsx)(ag.M,{children:!i&&!o&&(0,l.jsx)(cG,{position:"absolute",exit:{opacity:0},transition:{duration:.2},bottom:1,left:1,px:1.5,borderRadius:"md",boxShadow:"base",borderWidth:"1px",borderColor:"var(--fs-item-card-number-border-color)",bg:"var(--fs-item-card-number-background-color)",color:"var(--fs-item-card-number-color)",fontWeight:600,fontSize:"xs",children:(0,l.jsx)(u.x,{children:s})},s)})]})},cB=e=>{let{cardId:t}=e,{navItemPreviewRefMap:n}=l$(),i=(0,U.CG)(B.Pu),r=(0,cL.J)(i,!1);return(0,l.jsx)(c.k,{className:"filmstrip-nav-item-wrapper",sx:t3.n,css:{"--editor-font-size":"calc(var(--editor-width) / ".concat(cz.DB,")"),"--thumbnail-min-height":"calc(var(--editor-width) * 0.4)"},justifyContent:"center",overflow:"hidden",pointerEvents:"none",bg:"gray.100",minH:"var(--thumbnail-min-height)",maxH:"calc(var(--editor-width) * 1.5)",w:"var(--editor-width)",children:(0,l.jsx)("div",{className:"ProseMirror",children:(0,l.jsx)(c.k,{className:"doc-content-wrapper",direction:"column",align:"center",sx:r,children:(0,l.jsx)("div",{style:{width:"100%"},ref:e=>{e&&(n[t]=e)}})})})})},cH=e=>{let{cardId:t,index:n,isEditorFocused:i,isFilmstripSelected:r}=e,{title:o}=(0,te.T)({cardId:t});return(0,l.jsxs)(c.k,{className:"filmstrip-nav-item-wrapper",w:"var(--editor-width)",justifyContent:"flex-start",fontSize:"xs",borderRadius:"sm",boxShadow:r?"var(--fs-text-item-selected-box-shadow)":i?"var(--fs-item-focused-box-shadow)":"var(--fs-item-box-shadow)",color:r?"trueblue.500":void 0,transitionProperty:"common",transitionDuration:"normal",_hover:{".filmstrip-text-item-number":{display:"none"},".filmstrip-text-drag-handle":{display:"block"}},children:[(0,l.jsxs)(c.k,{alignItems:"center",bg:r?"trueblue.100":"var(--fs-text-item-card-number-bg-color)",transitionProperty:"common",transitionDuration:"normal",children:[(0,l.jsx)(d.xu,{className:"filmstrip-text-item-number",w:6,fontSize:n>=1e3?"0.6rem":void 0,textAlign:"center",overflow:"hidden",whiteSpace:"nowrap",children:n}),(0,l.jsx)(d.xu,{className:"filmstrip-text-drag-handle",display:"none",textAlign:"center",w:6,fontSize:"md",_hover:{cursor:"grab"},children:(0,l.jsx)(f.G,{icon:p.Okg})})]}),(0,l.jsx)(c.k,{"data-testid":"filmstrip-text-item-title",p:2,pl:"4px",flex:1,bg:r?"trueblue.50":"var(--fs-text-item-bg-color)",alignItems:"center",overflow:"hidden",transitionProperty:"common",transitionDuration:"normal",children:(0,l.jsx)(u.x,{noOfLines:1,children:o||"Untitled"})})]})},cW=e=>{let{filmstripItemRef:t,cardId:n,isFilmstripSelected:i,currentFocusedCard:r,editor:o,isAnimating:s}=e,a=(0,eW.As)("filmstrip"),l=(0,U.CG)(cu.DM);(0,j.useEffect)(()=>{t.current&&n===r&&((null==o?void 0:o.isFocused)&&!s?a.scrollElementIntoView({element:t.current,offsetFromTop:120}):i&&n===l&&requestAnimationFrame(()=>{if(!t.current||!a.scroller)return;let e=a.scroller.getBoundingClientRect(),n=t.current.getBoundingClientRect(),i=n.top,r=n.bottom,o=n.height,s=0,l=t.current.closest(".reorder-item");if(l instanceof HTMLElement&&(s=l.offsetTop),r>=e.bottom){let e=a.scroller,t=s+o,n=Math.max(0,t-e.clientHeight+4);a.scrollTo({top:n})}else i<=e.top&&a.scrollTo({top:s})}))},[n,r,o,l,i,a,t,s])},cV=()=>{let e=(0,es.i)({lg:100,xl:125,"2xl":150})||100,t=(0,U.CG)(cu.K5),n=null!==t?t:e;return{previewWidth:n,width:n+40,fontSize:n/cz.DB}},cq=(0,ax.E)(c.k),cZ=e=>{let{card:t,index:n,isFirst:i,isEditorFocused:r,currentFocusedCard:o,isFilmstripSelected:s,readOnly:a,shouldHide:c,isDragInProgress:h,numberOfCardsDragging:p,onContextClick:f,editor:m,isAnimating:x,showTextOnly:g}=e,{cardId:v,isDragging:b}=t,y=(0,j.useRef)(null);cW({filmstripItemRef:y,cardId:v,isFilmstripSelected:s,currentFocusedCard:o,editor:m,isAnimating:x});let C=(0,U.TL)(),{previewWidth:k}=cV(),w=(0,j.useCallback)(e=>{if(!v)return;let t=e.shiftKey,n=!t&&(e.metaKey||e.ctrlKey);if(t&&!a)C((0,cu.YC)({id:v,currentFocusedCard:o}));else if(n&&!a)C((0,cu.sY)({id:v}));else{if(h)return;C((0,cu.Ti)({id:v})),C((0,B.Qx)({attached:!1})),m&&(0,nP.YS)({cardId:v,editor:m})}},[v,a,C,o,h,m]);return(0,l.jsxs)(d.xu,{className:"filmstrip-item",ref:y,pos:"relative",pt:g?void 0:1,mt:g?1.5:i?void 0:1,onClick:w,onContextMenu:f,cursor:"pointer",userSelect:"none",transitionProperty:"common",transitionDuration:"normal",display:c?"none":void 0,"data-filmstrip-selected":s,"data-filmstrip-view":g?"list":"filmstrip",css:{"--editor-width":"".concat(k,"px")},children:[g&&(0,l.jsx)(cH,{cardId:v,index:n,isFilmstripSelected:s,isEditorFocused:r}),(0,l.jsx)(cU,{shouldHide:g,cardId:v,index:n,isDraggingCard:b,isFilmstripSelected:s,isEditorFocused:r}),(0,l.jsx)(ag.M,{children:p&&(0,l.jsx)(d.xu,{position:"absolute",bottom:0,left:0,transform:"translate(-50%, 50%)",children:(0,l.jsx)(cq,{initial:{scale:.5,opacity:0},exit:{scale:.5,opacity:0},animate:{scale:1,opacity:1},h:5,minW:5,px:1,borderRadius:"full",bg:"trueblue.300",color:"white",fontSize:"xs",fontWeight:600,boxShadow:"sm",justify:"center",align:"center",children:(0,l.jsx)(u.x,{children:p})},"badge-number")})})]})};var cK=n(28316),cY=n(91073);let cX=(0,j.memo)(e=>{let{content:t,theme:n}=e,[i,r]=(0,j.useState)(!1);return((0,j.useEffect)(()=>{requestAnimationFrame(()=>{r(!0)})},[]),i)?(0,l.jsx)(t3.m,{theme:n,content:t,isThumbnail:!0,portalComponent:c$}):null}),c$=e=>{let{renderers:t}=e,{navItemPreviewRefMap:n}=l$();return(0,l.jsx)(l.Fragment,{children:Object.entries(t).map(e=>{let[t,i]=e,r=i.props.node;if("document"===r.type.name)return null;let o=(0,cY.KH)(r)?n[r.attrs.id]:null;return cK.createPortal(i.reactElement,o||i.element,t)})})};cX.displayName="FilmstripPreviewEditor";var cJ=n(33522);let cQ=(0,j.memo)(e=>{let{onClose:t,isDark:n,isResizing:i,setIsResizing:r}=e,{previewWidth:o}=cV(),s=(0,j.useRef)(null),a=(0,j.useRef)(o),u=(0,j.useRef)(null),h=(0,U.TL)(),p=(0,j.useCallback)(e=>{if(e.preventDefault(),!s.current||!a.current||!u.current)return;let{width:n,x:i}=s.current,r=e.clientX-i,o=n+r;if(o<=30){t();return}let l=lD()(n+r,90,200);l!==a.current&&(a.current=l,u.current.innerHTML="\n          .filmstrip-nav-item-wrapper {\n            --editor-width: ".concat(l,"px;\n          }"))},[t]),f=(0,cJ.Z_)(p,30),m=(0,j.useCallback)(e=>{e.preventDefault(),s.current={x:e.clientX,width:a.current},r(!0);let t=()=>{s.current=null,u.current&&(u.current.innerHTML=""),h((0,cu.lh)({width:a.current})),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",t),requestAnimationFrame(()=>{r(!1)})};document.addEventListener("mousemove",f),document.addEventListener("mouseup",t)},[h,r,f]);return(0,l.jsxs)(c.k,{className:"filmstrip-resizer",css:{"--resizer-width":"24px","--resizer-offset":"4px","--drag-handle-width":"4px"},pos:"absolute",top:0,bottom:0,right:"calc(var(--resizer-width) * -1 + var(--resizer-offset))",opacity:0,w:"var(--resizer-width)",bg:n?"whiteAlpha.200":"blackAlpha.200",h:"100%",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"ease",justify:"center",alignItems:"center",borderTopEndRadius:"md",borderBottomEndRadius:"md",boxShadow:"md",_hover:{cursor:"ew-resize"},onMouseDown:m,zIndex:lH,children:[(0,l.jsx)("style",{ref:u}),(0,l.jsx)(d.xu,{position:"relative",left:"calc(var(--resizer-offset) - (var(--drag-handle-width) / 2))",bg:"white",borderRadius:"full",w:"var(--drag-handle-width)",h:"40px",opacity:i?1:.6,transitionProperty:"common",transitionDuration:"normal"})]})});cQ.displayName="FilmstripResizer";let c0=e=>({"--fs-item-border-color":e?"var(--chakra-colors-whiteAlpha-300)":"var(--chakra-colors-gray-200)","--fs-text-item-selected-border-color":"var(--chakra-colors-trueblue-100)","--fs-item-box-shadow":"0 0 0 1px var(--fs-item-border-color)","--fs-item-focused-box-shadow":"0 0 0 2px var(--chakra-ring-color)","--fs-item-selected-box-shadow":"0 0 0 2px var(--chakra-colors-trueblue-300)","--fs-text-item-selected-box-shadow":"0 0 0 1px var(--fs-text-item-selected-border-color)","--fs-item-card-number-border-color":e?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-200)","--fs-item-selected-text-color":e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-trueblue-500)","--fs-item-card-number-color":e?"var(--chakra-colors-gray-100)":"var(--chakra-colors-gray-800)","--fs-item-card-number-background-color":e?"var(--chakra-colors-gradient-dark)":"var(--chakra-colors-gradient-light)","--fs-text-item-bg-color":e?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-100)","--fs-text-item-card-number-bg-color":e?"var(--chakra-colors-gray-700)":"var(--chakra-colors-gray-200)"}),c1=(e,t)=>{if(!e||!t)return{id:null,pos:null};let{$from:n,from:i,to:r}=e,o=null,s=null;return n.doc.nodesBetween(i,r,(e,t)=>{let i=n.doc.resolve(t).depth;return!(!o&&(0,eV.KH)(e))||1!==i||(o=e.attrs.id,s=t,!1)}),{id:o,pos:s}},c2=()=>{var e;return!!(null===(e=document.activeElement)||void 0===e?void 0:e.closest(lZ))},c3=()=>{let e=(0,j.useRef)(null),[t,n]=(0,j.useState)(!1),[i,r]=(0,j.useState)([0,0]),[o,s]=(0,j.useState)("bottom"),a=(0,U.TL)(),l=(0,j.useCallback)(()=>{n(!1)},[]),c=(0,j.useCallback)(()=>{r([0,0]),s("bottom")},[]),u=(0,j.useCallback)(e=>{n(!0),r(e)},[]),d=(0,j.useCallback)(t=>n=>{var i;n.preventDefault(),a((0,cu.uu)({id:t})),u([n.clientX,n.clientY]);let r=null===(i=e.current)||void 0===i?void 0:i.offsetHeight;if(null==r)return;let o=window.innerHeight<n.clientY+r,l=n.clientY<r;o&&!l?s("top"):o&&l?s("center"):s("bottom")},[a,e,u]),h=(0,j.useMemo)(()=>{var t;let n=i[1],r=null===(t=e.current)||void 0===t?void 0:t.offsetHeight,s=r?window.innerHeight-(n+r+8):void 0,a="center"===o&&s?"translateY(".concat(s,"px)"):"top"===o?"translateY(-100%)":void 0;return{left:i[0],top:i[1],transform:a,transformOrigin:"top"}},[o,i]);return{menuRef:e,isFilmstripCardMenuOpen:t,onFilmstripCardMenuClose:l,handleContextMenu:d,menuRootStyles:h,clearPositioning:c}},c5=eS()(to.YS,200),c4=e=>{let{isFocused:t,readOnly:n,firstFocusedCardId:i,editor:r,isDragging:o}=e,{handleCopy:s,handleDelete:a,handleCut:l,handleDuplicate:c}=cO(r),u=(0,U.TL)(),d=(0,U.qr)();(0,j.useEffect)(()=>e5.F7.on("keydown","FILMSTRIP",e=>{if(!t)return!1;switch(e.key){case"Escape":if(o)return u((0,ch.vL)()),!0;return!1;case"Backspace":case"Delete":if(!n)return a(),!0;return!1;case"a":case"A":if(!n&&(e.ctrlKey||e.metaKey))return e.preventDefault(),u((0,cu.td)({currentFocusedCard:i})),!0;return!1;case"c":case"C":if(!n&&(e.ctrlKey||e.metaKey))return s(),!0;return!1;case"d":case"D":if(!n&&(e.ctrlKey||e.metaKey))return e.preventDefault(),c(),!0;return!1;case"x":case"X":if(!n&&(e.ctrlKey||e.metaKey))return l(),!0;return!1;case"ArrowDown":{u((0,cu.ut)({direction:"down",withShift:!n&&e.shiftKey,currentFocusedCard:i}));let t=(0,cu.wg)(d.getState()),o=t[0];return!e.shiftKey&&r&&o&&(c5({cardId:o,editor:r}),u((0,B.Qx)({attached:!1}))),!0}case"ArrowUp":{u((0,cu.ut)({direction:"up",withShift:!n&&e.shiftKey,currentFocusedCard:i}));let t=(0,cu.wg)(d.getState()),o=t[0];return!e.shiftKey&&r&&o&&(c5({cardId:o,editor:r}),u((0,B.Qx)({attached:!1}))),!0}default:return!1}}),[u,i,t,o,a,s,c,l,n,r,d])};var c6=n(3402);let c8=e=>{let t=(0,U.qr)(),n=(0,n8.p)(),i=(0,U.TL)();(0,j.useEffect)(()=>{let r=r=>{var o;let s=t.getState();if(!e||!c2()||!(0,B.hN)(s))return;let a=null===(o=r.clipboardData)||void 0===o?void 0:o.getData("text/html");if(!a)return;let{content:c}=(0,c6.T)(a,e.schema),u=c.content.filter(e=>(0,cY.KH)(e));if(u.length){let t=(0,eV.Bw)(e,(0,cu.zq)(s)),o=t?t.pos+t.node.nodeSize:e.state.doc.content.size-1,a=u.map(e=>(0,eT.hs)(cD()(e.toJSON()))),c=a.map(e=>(0,cS.Zs)(e)),d=(0,cu.ym)((0,U.bh)().getState());e.chain().insertContentAt(o,c,{updateSelection:!1}).command(e=>{let{tr:t}=e;t.setMeta("annotationEvent",{type:"filmstrip-paste",insertPos:o});let n=(0,cT.t)(t.doc.resolve(o));return n&&(t=t.setSelection(n)),!0}).scrollIntoView().run(),r.preventDefault(),cI(e,d),i((0,cu.xi)({beforeCardId:null==t?void 0:t.node.attrs.id,cardCount:c.length})),n({title:(0,l.jsx)(m.cC,{id:"3viq5b",values:{0:u.length,1:u.length}}),status:"success",duration:3e3,position:"top"})}};return document.addEventListener("paste",r),()=>{document.removeEventListener("paste",r)}},[i,e,t,n])};class c7{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,t){this.componentControls.forEach(n=>{n.start(e.nativeEvent||e,t)})}}let c9=()=>new c7,ue=()=>{let e=(0,l1.h)(c9),t=(0,j.useRef)(null),n=(0,j.useRef)(),i=(0,j.useRef)(),r=(0,j.useRef)(),o=(0,j.useCallback)(e=>{if(!r.current)return;let t=un(r.current),o=e.target;if(!t||!o||void 0===n.current||void 0===i.current)return;let s=o.scrollTop-n.current;t.y=i.current-s},[]),s=(0,j.useCallback)((e,n)=>{let i=t.current;if(!i)return;let r=i.getBoundingClientRect(),o=n.point.y,s=e.target;if(!(s instanceof Element))return;let a=s.closest("[draggable]"),l=null==a?void 0:a.parentElement;l&&(o<r.top+25&&(a!==l.firstElementChild||i.scrollTop>0)?i.scrollTop-=5:o>r.bottom-25&&(a!==l.lastElementChild||i.scrollTop<i.scrollHeight)&&(i.scrollTop+=5))},[]),a=(0,j.useCallback)(()=>{let o=t.current,s=ut(e);if(!o||!s)return;r.current=s,n.current=o.scrollTop;let a=un(s);a&&(i.current=a.y)},[e]),l=(0,j.useCallback)(()=>{n.current=void 0,i.current=void 0,r.current=void 0},[]);return{scrollerRef:t,onScroll:o,dragControls:e,onDrag:s,onDragStart:a,onDragEnd:l}},ut=e=>{try{return Array.from(e.componentControls).find(e=>e.isDragging)}catch(e){console.error("[caught] findDraggingElementControls",e);return}},un=e=>{try{return e.panSession.history[0]}catch(e){console.error("[caught] getDraggingElementStartPoint",e);return}},ui=(0,ax.E)(c.k),ur=(0,ax.E)(d.xu),uo="data-".concat(nY.dh),us=e=>({initial:{x:-e},animate:{x:0,transition:lW},exit:{x:-e,transition:lV}}),ua=e=>{let{onClose:t,editor:n,readOnly:i}=e,[r,o]=(0,j.useState)(!1),[s,a]=(0,H.I)(W.H.filmstripViewPreference,"film"),u=(0,j.useRef)(null),{cards:h,isDragging:p,editorContent:f,selection:m,isLoaded:x}=cp(n),{id:g}=(0,j.useMemo)(()=>c1(m,n),[n,m]),v=(0,U.TL)(),b=(0,U.CG)(cu.wg),y=(0,U.CG)(ch.pe),C=(0,U.CG)(ch.u9),k=(0,U.CG)(ch.K3),[w,D]=(0,j.useState)(!1),{menuRef:_,isFilmstripCardMenuOpen:E,onFilmstripCardMenuClose:S,clearPositioning:A,handleContextMenu:T,menuRootStyles:I}=c3(),O=(0,j.useCallback)(()=>{if(S(),r){var e;null===(e=u.current)||void 0===e||e.focus()}},[r,S]),{scrollerRef:M,onScroll:F,dragControls:R,onDrag:N,onDragStart:P,onDragEnd:L}=ue(),z=(0,j.useCallback)(e=>()=>{if(D(!0),P(),u.current){let e=u.current.getBoundingClientRect().height;u.current.style.height="".concat(e,"px")}let t=b.includes(e)?b:[e];v((0,cu.WF)({selectedCardIdsToDrag:t})),v((0,ch.CA)({cardIds:h.map(e=>e.cardId),leaderCardId:e,selectedCardIds:t}))},[h,v,b,P]),G=(0,j.useCallback)(()=>{n&&(v((0,ch.vL)()),n.commands.rearrangeCardsById(h.map(e=>e.cardId),C),L())},[h,v,n,C,L]),V=(0,j.useCallback)(()=>{u.current&&(u.current.style.height="auto"),D(!1)},[]);c8(n),c4({isFocused:r,readOnly:i,firstFocusedCardId:g,editor:n,isDragging:p}),(0,lJ.O)({ref:u,handler(e){_.current&&_.current.contains(e.target)||(E&&S(),v((0,cu.Mt)()))}});let q=(0,U.CG)(B.Pu),Z=(0,ef.ff)("whiteAlpha.600","whiteAlpha.100"),K=(0,ef.ff)("#F9FAFBDD","gray.900"),Y=(0,ef.ff)("gray.800","gray.200"),X=(0,ef.ff)("blackAlpha.400","whiteAlpha.500"),{colorMode:$}=(0,ef.If)(),J="dark"===$,Q=(0,j.useMemo)(()=>c0(J),[J]),[ee,et]=(0,j.useState)(!1),{width:en}=cV(),ei=us(en),er=(0,j.useMemo)(()=>{let e=C.length;return p&&e>1?e:null},[p,C.length]),[eo,es]=(0,j.useState)(!1),ea=(0,eW.As)("filmstrip");return(0,j.useEffect)(()=>{ea.setScrollSelector(lY)},[ea]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.k,{pointerEvents:"none",position:"absolute",direction:"column",left:2,top:14,bottom:2,justifyContent:"center",color:Y,children:[n&&x&&(0,l.jsx)(cX,{content:f,theme:q}),(0,l.jsxs)(d.xu,{pos:"relative",pointerEvents:"auto",_hover:{".filmstrip-resizer":{opacity:eo?0:1}},maxHeight:"100%",children:[(0,l.jsxs)(ui,{ref:u,"data-guider-highlight":"filmstrip",className:lq,[uo]:!0,pos:"relative",direction:"column",zIndex:lB,...ei,onAnimationStart:()=>{es(!0)},onAnimationComplete:()=>{es(!1)},tabIndex:0,_focus:{outline:"none"},onFocus:()=>{o(!0),null==n||n.commands.blur()},onBlur:e=>{var t,n;u.current&&(null===(t=u.current)||void 0===t?void 0:t.contains(e.relatedTarget))||(null===(n=_.current)||void 0===n?void 0:n.contains(e.relatedTarget))||o(!1)},borderRadius:"md",bg:K,borderWidth:"1px",borderColor:Z,shadow:"lg",backdropFilter:"blur(20px)",maxHeight:"100%",alignSelf:"flex-start",children:[(0,l.jsx)(cx,{isDark:J,onClose:t,viewPreference:s,setViewPreference:a}),(0,l.jsx)(ur,{className:lK,layoutScroll:!0,overflowY:"auto",position:"relative",sx:{"&::-webkit-scrollbar":{opacity:1,width:"5px"},"&::-webkit-scrollbar-track":{opacity:0,width:"5px"},"&::-webkit-scrollbar-thumb":{background:X,borderRadius:"full"},...Q},ref:M,onScroll:F,p:"8px",pt:0,children:(0,l.jsx)(cc.Group,{onReorder:e=>{let t=e.map(e=>e.cardId);v((0,ch.k)({reorderedCardIds:t}))},values:h,axis:"y",children:n&&x&&h.map((e,t)=>{let{cardId:r,displayBehavior:o}=e,a=b.includes(r),c=k===r;return(0,l.jsx)(cc.Item,{drag:!i&&"y",value:e,onDragStart:z(r),onDragEnd:G,onDragTransitionEnd:V,className:"reorder-item",dragControls:R,transition:{layout:{duration:ee?0:void 0}},onDrag:N,style:{position:"relative",listStyle:"none"},children:(0,l.jsx)(cZ,{readOnly:i,editor:n,card:e,index:p&&void 0!==y[r]?y[r]:t+1,isFirst:0===t,shouldHide:"hidden"===o,isDragInProgress:w,isEditorFocused:g===r&&n.isFocused,isFilmstripSelected:!!a,currentFocusedCard:g,numberOfCardsDragging:c?er:null,onContextClick:T(r),isAnimating:eo,showTextOnly:"list"===s})},r)})})})]}),(0,l.jsx)(cQ,{onClose:t,isDark:J,isResizing:ee,setIsResizing:et})]})]}),n&&(0,l.jsx)(cP,{ref:_,editor:n,readOnly:i,isOpen:E,onClose:O,clearPositioning:A,rootStyles:I,isDark:J})]})},ul=()=>{let e=(0,U.TL)(),t=(0,U.CG)(cu.GX),n=(0,es.i)({base:!1,lg:!0})||!1,[i,r]=(0,j.useState)(!1),[o,s]=(0,j.useState)(!1),a=(0,j.useCallback)(()=>{e((0,cu.dQ)({isOpen:!1})),e((0,cu.Mt)()),s(!0)},[e]),l=(0,j.useCallback)(()=>{n||r(!0),e((0,cu.dQ)({isOpen:!0}))},[n,e]),c=!n&&i;return(0,j.useEffect)(()=>{let t=!n&&!i,r=n&&!o;t?e((0,cu.dQ)({isOpen:!1})):r&&e((0,cu.dQ)({isOpen:!0}))},[e,n,i,o]),{onClose:a,onOpen:l,isOpen:t&&(n||!n&&c)}},uc=(0,ax.E)(ex.z),uu=(0,j.memo)(()=>{let{editor:e}=(0,tw._i)(),{isOpen:t,onClose:n,onOpen:i}=ul(),r=(0,j.useRef)({navItemPreviewRefMap:{}}),o=(0,nY.Br)("edit"),s=(0,U.CG)(B.hN),a=(0,eM.Yy)(),[u,d]=(0,j.useState)(!1),h=(0,j.useCallback)(()=>{d(!0),setTimeout(()=>{i()}),setTimeout(()=>{d(!1)},750)},[i]);return(0,j.useEffect)(()=>e5.F7.on("keydown","FILMSTRIP",e=>!!(0,nM.ZP)("Mod+\\")(e)&&(t?n():h(),!0)),[t,n,h]),(0,l.jsx)(lX.Provider,{value:r.current,children:(0,l.jsx)(ev.Wk,{isDark:a,children:(0,l.jsx)(ag.M,{children:t?(0,l.jsx)(ua,{onClose:n,editor:e,readOnly:!o||!s},"filmstrip"):(0,l.jsx)(ev.kH,{placement:"top-end",label:(0,l.jsx)(m.cC,{id:"7ShgZt"}),isDisabled:u,shortcut:"Mod+\\",children:(0,l.jsxs)(uc,{initial:{opacity:0},animate:{opacity:1,transition:lV},exit:{opacity:0,transition:lW},zIndex:lB,css:{"--trigger-height":"var(--chakra-sizes-14)"},tabIndex:-1,position:"fixed",left:2,top:"calc(50% - (var(--trigger-height) / 2) + var(--chakra-sizes-5))",borderRadius:"xl","data-guider-highlight":"filmstrip",h:"var(--trigger-height)",w:8,onClick:h,children:[(0,l.jsx)(lU.TX,{children:(0,l.jsx)(m.cC,{id:"7ShgZt"})}),u?(0,l.jsx)(c.k,{children:(0,l.jsx)(tE.$,{size:"sm"})}):(0,l.jsx)(f.G,{icon:p.CjD})]},"filmstrip-opener")})})})})});uu.displayName="Filmstrip";var ud=n(94207),uh=n(26900),up=n(56256);let uf=e=>{let{isOpen:t,onClose:n,onSaveSuccess:i,docId:r}=e,o=(0,n8.p)(),s=(0,j.useRef)(null),[a,c]=(0,j.useState)(""),[u,{loading:d}]=(0,C.D1_)(),h=()=>{u({variables:{id:r,title:a}}).then(()=>{c(()=>""),i()}).catch(e=>{console.error(e),o({title:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m.cC,{id:"AToAqe",values:{0:e.message}})}),position:"top",status:"error"})})};return(0,l.jsxs)(rl.u_,{returnFocusOnClose:!1,onClose:n,closeOnOverlayClick:!0,isOpen:t,initialFocusRef:s,children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"kq/0Sg",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(tK.f,{children:(0,l.jsx)(sA.I,{ref:s,value:a,required:!0,placeholder:(0,sr.$)(),onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&h()}})}),(0,l.jsx)(tY.m,{children:(0,l.jsx)(t_.K,{spacing:2,direction:"row",align:"center",children:(0,l.jsx)(ex.z,{isLoading:d,isDisabled:d||!a||!a.length,onClick:()=>{h()},children:(0,l.jsx)(m.cC,{id:"tfDRzk"})})})})]})]})},um=(0,j.memo)(e=>{let{doc:t}=e,n=(0,j.useCallback)(()=>sa.T.emit("openSharePanel",{view:"invite"}),[]),{isOpen:i,onClose:r,onOpen:o}=(0,nl.M)({id:"analyticsModalDisclosure"}),{isOpen:s,onOpen:a,onClose:u}=(0,nl.M)({id:"titleModalDisclosure"}),d=(0,ez.z$)(),{user:h}=(0,e$.SE)(),g=(0,e$.py)("manage",t)&&!!h,v=(0,j.useCallback)(()=>{t&&(t.title&&""!==t.title?n():a())},[t,n,a]),b=(0,j.useCallback)(e=>()=>{null==d||d.track(ez.AA.DOC_ANALYTICS_VIEWED,{docId:null==t?void 0:t.id,source:e,type:"full"}),o()},[d,null==t?void 0:t.id,o]);return g&&t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.k,{children:(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,label:(0,l.jsx)(m.cC,{id:"YaUqUV"}),children:(0,l.jsx)(up.r,{"data-guider-highlight":"view-analytics-button","aria-label":x.ag._({id:"YaUqUV"}),onMouseDown:cf.br,onClick:b("toolbar_analytics_block"),icon:(0,l.jsx)(f.G,{icon:p.Ma4})})})}),s&&(0,l.jsx)(uf,{onClose:u,isOpen:s,onSaveSuccess:()=>{u(),n()},docId:null==t?void 0:t.id}),i&&(0,l.jsx)(o2,{doc:t,onSharePanelOpen:v,onAnalyticsPanelClose:r,isAnalyticsPanelOpen:i,mode:"full"})]}):null});var ux=n(58905),ug=n(75230),uv=n(64951),uj=n(25215),ub=n(58450),uy=n(41421),uC=n(7628),uk=n(7e4);let uw=(0,ax.E)(c.k),uD=e=>{let{doc:t}=e;return(0,l.jsx)(uw,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},children:(0,l.jsx)(ag.M,{initial:!1,children:(0,l.jsx)(uT,{doc:t})})})},u_=(0,j.memo)(e=>{let{doc:t}=e,{editor:n}=(0,tw._i)(),{isConnected:i}=(0,C.$gs)(),r=(0,n8.p)(),o=(0,j.useRef)(null),s=(0,j.useRef)(null),[a,{loading:c}]=(0,C.D1_)(),[u,h]=(0,j.useState)(null),[p,f]=(0,j.useState)(!1),[g,v]=(0,j.useState)(!1),b=(0,e$.py)("edit",t),y=b?300:500,k=(0,j.useCallback)(()=>{if(!n)return"";let[e]=(0,eU.N2)(n.state.doc,eV.KH);if(!e)return"";let t=(0,aA.getCardTitle)(e.node.toJSON());return t||""},[n]);(0,j.useEffect)(()=>{!t||p||c||(h(t.title||""),v(!!t.titleEdited))},[t,p,c]);let w=()=>{o.current.style.width=s.current.offsetWidth+0+"px"},D=(0,ef.ff)("gray.800","gray.200");return(0,l.jsx)(ev.kH,{label:b?i?(0,l.jsx)(m.cC,{id:"2wxgft"}):(0,l.jsx)(m.cC,{id:"Cb+Bgk"}):null,"aria-label":x.ag._({id:"2wxgft"}),children:(0,l.jsxs)(ux.C,{value:u||"",placeholder:u||k(),isDisabled:c||!b||!i,isPreviewFocusable:b,maxW:y,width:"100%",fontWeight:"normal",onCancel:()=>{w(),f(!1)},onFocus:()=>{w(),t&&!c&&f(!0)},onChange:e=>{w(),p&&(h(e),v(!!e))},onSubmit:()=>{if(!t||c)return;f(!1);let e=u||k();a({variables:{id:t.id,title:e,titleEdited:g}}).catch(e=>{console.error(e),r({title:(0,l.jsx)(m.cC,{id:"AToAqe",values:{0:e.message}}),position:"top",status:"error"})})},children:[(0,l.jsx)(ug.w,{px:1,py:.5,display:p?"inline":"block",overflowX:"hidden",textOverflow:"ellipsis",color:g?D:"inherit"}),(0,l.jsx)(uv.V,{ref:o,px:1,py:.5,color:g?D:"inherit",maxW:y,_focus:{outline:"none",shadow:"0 0 0 2px rgb(66 153 225 / 60%)"}}),(0,l.jsx)(d.xu,{ref:s,as:"span",display:"inline-block",position:"absolute",left:"-9999px",opacity:0,zIndex:-1,minW:"180px",px:1,dangerouslySetInnerHTML:{__html:ik().sanitize((u||"").replace(/\s/g,"&nbsp;"))}})]})})});u_.displayName="EditableDocTitle";let uE=e=>{let{cardId:t,isEllipsis:n,value:i,onClick:r}=e,o=(0,te.c)(t);if(n)return(0,l.jsx)(f.G,{icon:p.cNd});if(!t&&!i)return null;let s=i||(null==o?void 0:o.title)||"";return(0,l.jsx)(u.x,{noOfLines:1,onClick:r,maxW:180,fontWeight:"normal",children:s})},uS=e=>{let{isPresentModeFlat:t}=e;return e=>{let n=(0,B.gh)(e),i=(0,B.i2)(e)||"",r=(0,B.X9)(e),o=r.parents[i]||[];if("DOC_VIEW"===n||t)return[{isHome:!0},{isDocTitle:!0}];let s=o[0],a=o[o.length-1];return[{isHome:!0},o.length>1?{cardId:s}:null,o.length>2?{isEllipsis:!0}:null,o.length>0?{cardId:a}:null,{cardId:i}]}},uA=()=>{let e=(0,tr.ye)("presentModeFlat"),t=(0,U.CG)(uS({isPresentModeFlat:e}),(e,t)=>JSON.stringify(e)===JSON.stringify(t));return t},uT=(0,j.memo)(e=>{let{doc:t}=e,n=uA(),[i]=(0,uk.X)(W.H.lastHomeUrl,"/"),r=(0,tr.ye)("offline"),{user:o}=(0,e$.SE)(),{isConnected:s}=(0,C.$gs)(),{confirmNavigation:a}=(0,tw._i)(),{push:h}=(0,ej.useRouter)(),g=(0,es.i)({base:"xs",sm:"sm"}),v=(0,ef.ff)("gray.500","gray.400"),j=(0,ef.ff)("gray.800","gray.100");return(0,l.jsxs)(em.U,{spacing:0,as:ex.z,textAlign:"left",px:0,_hover:{color:j},h:8,bg:"transparent",boxShadow:"none",border:"none",children:[(0,l.jsx)(uj.a,{display:"flex",alignItems:"center",whiteSpace:"nowrap",size:g,spacing:["4px","8px"],separator:(0,l.jsx)(d.xu,{color:"gray.300",mt:["0.2rem","0.125rem"],children:(0,l.jsx)(f.G,{icon:p._tD})}),children:n.map((e,r)=>{if(!e)return null;let s=r===n.length-1,{cardId:c,isEllipsis:u,isDocTitle:d,isHome:m,value:x}=e,g=m?"home":u?"ellipsis":c||x||r;if(m&&!o)return null;let j={as:nR(),href:i||"/",colorScheme:"gray",fontWeight:"normal","data-testid":"toolbar-home-link"};return(0,l.jsx)(ub.g,{children:(0,l.jsx)(uw,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:(0,l.jsx)(uy.A,{isCurrentPage:s,pointerEvents:s&&!d?"none":"inherit",color:s?v:"inherit",...m?{...j}:{},children:d?(0,l.jsx)(u_,{doc:t}):m?(0,l.jsx)(iJ.r,{href:j.href,onClick:e=>{let t=!e.shiftKey&&(e.metaKey||e.ctrlKey);t||(e.preventDefault(),a().then(()=>{h(j.href)}))},mr:1,children:(0,l.jsx)(f.G,{size:"1x",icon:p.J9Y})}):(0,l.jsx)(uE,{cardId:c,value:x,isEllipsis:u,onClick:()=>{c&&(0,uC.D)({cardId:c,method:"push"})}})})},g)},g)})}),!s&&(0,l.jsx)(ev.kH,{label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.x,{mr:2,children:(0,l.jsx)(m.cC,{id:"ysdDIA"})}),r&&(0,l.jsx)(u.x,{color:"gray.300",children:(0,l.jsx)(m.cC,{id:"+QNhGE"})})]}),"aria-label":x.ag._({id:"IcHxhR"}),children:(0,l.jsx)(c.k,{color:"gray.300",alignItems:"center",pr:3,children:(0,l.jsx)(f.G,{icon:p.bKP})})})]})});uT.displayName="BreadcrumbGroup";var uI=n(82642),uO=n(62453),uM=n(93274),uF=n(3422);let uR=(0,j.createContext)(null);var uN=n(85886);let uP=e=>!e.isLayoutDirty&&e.willUpdate(!1),uL=e=>!0===e,uz=e=>uL(!0===e)||"id"===e,uG=({children:e,id:t,inheritId:n,inherit:i=!0})=>{void 0!==n&&(i=n);let r=(0,j.useContext)(uF.p),o=(0,j.useContext)(uR),[s,a]=(0,uN.N)(),l=(0,j.useRef)(null),c=r.id||o;null===l.current&&(uz(i)&&c&&(t=t?c+"-"+t:c),l.current={id:t,group:uL(i)&&r.group||function(){let e=new Set,t=new WeakMap,n=()=>e.forEach(uP);return{add:i=>{e.add(i),t.set(i,i.addEventListener("willUpdate",n))},remove:i=>{var r;e.delete(i),null===(r=t.get(i))||void 0===r||r(),t.delete(i),n()},dirty:n}}()});let u=(0,j.useMemo)(()=>({...l.current,forceRender:s}),[a]);return j.createElement(uF.p.Provider,{value:u},e)},uU=()=>{let{user:e,anonymousUser:t}=(0,e$.SE)(),n=(0,b.I0)(),i=(0,n8.p)(),{editor:r}=(0,tw._i)(),{collaborators:o,followers:a}=(0,b.v9)((0,B._h)((null==e?void 0:e.id)||t.id));ll({editor:r,collaborators:o,user:e});let d=(0,b.v9)(B.Ok),h=(0,b.v9)(B.e0),p=(0,b.v9)(B.yn),f=(0,b.v9)(B.gs),g=(0,b.v9)(B.JA);(0,j.useEffect)(()=>{d.forEach(e=>{i({duration:2e3,position:"bottom",render:function(){return(0,l.jsxs)(c.k,{bg:"gray.50",p:3,px:6,align:"center",borderRadius:"md",shadow:"md",children:[(0,l.jsx)(oo.q,{size:"sm",src:e.profileImageUrl,border:"solid 2px ".concat(e.color),color:rG()(e.color).isDark()?"white":"black",bg:e.color,ignoreFallback:!0}),(0,l.jsx)(u.x,{ml:2,children:(0,l.jsx)(m.cC,{id:"DSaSKH",values:{0:e.name}})})]})}})})},[d,i]),(0,j.useEffect)(()=>{let e=!p&&f&&!g;if(!r||!e)return;i.closeAll();let t=i({id:"detached-toast",render:()=>(0,l.jsxs)(c.k,{bg:"gray.50",p:3,px:6,m:4,justify:"flex-end",align:"center",borderRadius:"md",shadow:"md",children:[(0,l.jsx)(u.x,{size:"sm",mr:6,children:(0,l.jsx)(m.cC,{id:"PjodLp"})}),(0,l.jsxs)(eg.h,{size:"sm",alignItems:"center",children:[(0,l.jsx)(ex.z,{onClick:()=>{n((0,B.Qx)({attached:!0}))},variant:"solid",children:(0,l.jsx)(m.cC,{id:"f/C2ic"})}),(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"5JWVnj"}),children:(0,l.jsx)(T.h,{isRound:!0,variant:"ghost",size:"xs","aria-label":x.ag._({id:"5JWVnj"}),icon:(0,l.jsx)(uI.T,{}),onClick:()=>{n((0,B.Qx)({attached:!1,following:null}))}})})]})]}),position:"bottom",duration:null});return()=>{i.close(t)}},[r,p,f,g,i,n]),(0,j.useEffect)(()=>{f||!r||r.isDestroyed||n((0,B.Qx)({following:null}))},[r,f,n]);let v=(0,es.i)({base:4,md:6,xl:8})||6,y=v/(a.length?2:1),C=v/(o.length?2:1);return(0,l.jsx)(c.k,{children:(0,l.jsxs)(em.U,{divider:(0,l.jsx)(uO.c,{borderColor:"gray.200"}),children:[a.length&&(0,l.jsx)(uB,{type:s.FOLLOWERS,collaborators:a,max:C,isEveryone:0===o.length,localCollaborator:h,localIsAttached:p}),o.length&&(0,l.jsx)(uB,{type:s.COLLABORATORS,collaborators:o,max:y,isEveryone:0===a.length,localCollaborator:h,localIsAttached:p})]})})};(r=s||(s={})).FOLLOWERS="FOLLOWERS",r.COLLABORATORS="COLLABORATORS";let uB=e=>{let{collaborators:t,localCollaborator:n,localIsAttached:i,type:r,max:o,isEveryone:a}=e,d=la(),h=r===s.FOLLOWERS,p=t.length>o,f=p?t.slice(0,o-1):t,g=p?t.length-o+1:0,v=e=>{let{localIsFollowing:t,collaborator:n}=e;h||d({localIsFollowing:t,localIsAttached:i,collaborator:n})};return(0,l.jsx)(uG,{children:(0,l.jsxs)(uM.H,{size:"sm",spacing:h?-2:0,children:[h&&(0,l.jsx)(uH,{isEveryone:a}),f.map((e,t)=>{var r;let o=(null==n?void 0:null===(r=n.memoState)||void 0===r?void 0:r.following)===e.sessionId,s=!!e.idleSince,a=!h&&(p||f.length-1!==t);return(0,l.jsx)(ev.Vw,{ignoreFallback:!0,name:e.name,label:(0,l.jsxs)(c.k,{direction:"column",justify:"center",align:"center",children:[(0,l.jsx)(u.x,{children:e.name}),(0,l.jsx)(u.x,{fontSize:"xs",children:h?(0,l.jsx)(m.cC,{id:"iRohzP"}):o&&i?(0,l.jsx)(m.cC,{id:"1QTvS5"}):(0,l.jsx)(m.cC,{id:"2Ldadb"})})]}),pointerEvents:s?"none":"auto",opacity:s?.4:1,transitionProperty:"common",transitionDuration:"normal",src:e.profileImageUrl,border:"solid 2px ".concat(e.color),nubbin:o&&i,bg:e.color,shadow:"base",color:rG()(e.color).isDark()?"white":"black",cursor:h?"":"pointer",boxProps:a?{marginEnd:-2}:{},onClick:()=>v({localIsFollowing:o,collaborator:e})},e.sessionId)}),g>0&&(0,l.jsxs)(ev.Z9,{tooltipLabel:x.ag._({id:"25VyZX"}),onClick:e=>{var i;let r=t.find(t=>t.id===e.id),o=!!(r&&(null==n?void 0:null===(i=n.memoState)||void 0===i?void 0:i.following)===r.sessionId);v({localIsFollowing:o,collaborator:r})},avatars:t,count:g,disabled:h,children:[(0,l.jsx)(u.x,{px:2,children:h?(0,l.jsx)(m.cC,{id:"vliZud",values:{0:t.length}}):(0,l.jsx)(m.cC,{id:"sC4bhw",values:{0:t.length}})}),!h&&(0,l.jsx)(u.x,{px:2,fontSize:"sm",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"miJbY4"})}),(0,l.jsx)(ri.R,{})]})]})})},uH=e=>{let{isEveryone:t}=e,[n,i]=(0,j.useState)(!1),[r,o]=(0,j.useState)(!1),[s,a]=(0,j.useState)(!1);return((0,j.useEffect)(()=>{!n&&t&&(o(!0),i(!0),setTimeout(()=>{o(!1)},3e3))},[t,n]),t)?(0,l.jsx)(d.xu,{fontSize:"sm",color:"",px:2,mr:2,children:(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"w7dTyp"}),isOpen:s||r,children:(0,l.jsx)(d.xu,{mr:2,px:1,bg:"green.300",color:"green.900",borderRadius:"full",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,l.jsx)(f.G,{icon:p.Mdf})})})}):(0,l.jsx)(d.xu,{fontSize:"sm",color:"gray.700",pr:4,children:(0,l.jsx)(f.G,{icon:p.Mdf})})};var uW=n(46164),uV=n(43970);let uq=(0,ax.E)(d.xu),uZ=e=>{let{commentFeedItems:t,editor:n,doc:i,user:r}=e;return n&&r?(0,l.jsx)(t_.K,{p:2,children:(0,l.jsx)(ag.M,{initial:!1,children:t.map(e=>(0,l.jsx)(uq,{layout:!0,initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},bg:"gray.100",borderColor:"gray.200",borderWidth:"1px",borderRadius:"md",shadow:"sm",children:(0,l.jsx)(uV.q,{comment:e,editor:n,selfUser:r,docId:i.id,userCanComment:!1,instanceType:"notification"},e.id)},e.id))})}):null};var uK=n(56666);function uY(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(i,r)}function uX(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(e){uY(o,i,r,s,a,"next",e)}function a(e){uY(o,i,r,s,a,"throw",e)}s(void 0)})}}var u$=n(89644),uJ=n.n(u$),uQ=n(41857);function u0(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(i,r)}function u1(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(e){u0(o,i,r,s,a,"next",e)}function a(e){u0(o,i,r,s,a,"throw",e)}s(void 0)})}}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u5="axios-retry";function u4(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&uQ(e)}var u6=["get","head","options"],u8=u6.concat(["put","delete"]);function u7(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function u9(e){return!!e.config&&u7(e)&&-1!==u8.indexOf(e.config.method)}function de(e){return u4(e)||u9(e)}function dt(){return 0}function dn(e){var t=e[u5]||{};return t.retryCount=t.retryCount||0,e[u5]=t,t}function di(){return(di=u1(function*(e,t,n,i){var r=n.retryCount<e&&t(i);if("object"==typeof r)try{return yield r,!0}catch(e){return!1}return r})).apply(this,arguments)}function dr(e,t){var n;e.interceptors.request.use(e=>(dn(e).lastRequestTime=Date.now(),e)),e.interceptors.response.use(null,(n=u1(function*(n){var{config:i}=n;if(!i)return Promise.reject(n);var{retries:r=3,retryCondition:o=de,retryDelay:s=dt,shouldResetTimeout:a=!1}=u3(u3({},t),i[u5]),l=dn(i);if(yield function(e,t,n,i){return di.apply(this,arguments)}(r,o,l,n)){l.retryCount+=1;var c=s(l.retryCount,n);if(e.defaults.agent===i.agent&&delete i.agent,e.defaults.httpAgent===i.httpAgent&&delete i.httpAgent,e.defaults.httpsAgent===i.httpsAgent&&delete i.httpsAgent,!a&&i.timeout&&l.lastRequestTime){var u=Date.now()-l.lastRequestTime;i.timeout=Math.max(i.timeout-u-c,1)}return i.transformRequest=[e=>e],new Promise(t=>setTimeout(()=>t(e(i)),c))}return Promise.reject(n)}),function(e){return n.apply(this,arguments)}))}dr.isNetworkError=u4,dr.isSafeRequestError=function(e){return!!e.config&&u7(e)&&-1!==u6.indexOf(e.config.method)},dr.isIdempotentRequestError=u9,dr.isNetworkOrIdempotentRequestError=de,dr.exponentialDelay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e),n=.2*t*Math.random();return t+n},dr.isRetryableError=u7;var ds=n(31003),da=class{constructor(e){(0,uK.Z)(this,"host",void 0),(0,uK.Z)(this,"apiKey",void 0),(0,uK.Z)(this,"userToken",void 0),(0,uK.Z)(this,"axiosClient",void 0),(0,uK.Z)(this,"socket",void 0),(0,uK.Z)(this,"socketConnected",!1),this.host=e.host,this.apiKey=e.apiKey,this.userToken=e.userToken||null,this.axiosClient=uJ().create({baseURL:this.host,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(this.apiKey),"X-Knock-User-Token":this.userToken}}),this.socket=new ds.Socket("".concat(this.host.replace("http","ws"),"/ws/v1"),{params:{user_token:this.userToken,api_key:this.apiKey}}),dr(this.axiosClient,{retries:3,retryCondition:this.canRetryRequest,retryDelay:dr.exponentialDelay})}connectSocket(){this.socketConnected||(this.socket.connect(),this.socket.onOpen(()=>{this.socketConnected=!0}))}disconnectSocket(){this.socket.disconnect()}createChannel(e,t){return this.socket.channel(e,t)}makeRequest(e){var t=this;return uX(function*(){try{var n=yield t.axiosClient(e);return{statusCode:n.status<300?"ok":"error",body:n.data,error:void 0,status:n.status}}catch(e){return console.error(e),{statusCode:"error",status:500,body:void 0,error:e}}})()}canRetryRequest(e){return!!dr.isNetworkError(e)||!!e.response&&(e.response.status>=500&&e.response.status<=599||429===e.response.status)}},dl=n(10161),dc=n.n(dl);function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach(function(t){(0,uK.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(o=a||(a={})).loading="loading",o.fetchMore="fetchMore",o.ready="ready",o.error="error";var dh={shouldSetPage:!0,shouldAppend:!1};function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach(function(t){(0,uK.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dm=class{constructor(e,t,n){this.knock=e,this.feedId=t,(0,uK.Z)(this,"apiClient",void 0),(0,uK.Z)(this,"userFeedId",void 0),(0,uK.Z)(this,"channelConnected",!1),(0,uK.Z)(this,"channel",void 0),(0,uK.Z)(this,"broadcaster",void 0),(0,uK.Z)(this,"defaultOptions",void 0),(0,uK.Z)(this,"store",void 0),this.apiClient=e.client(),this.feedId=t,this.userFeedId=this.buildUserFeedId(),this.store=function(e){let t;let n=new Set,i=(e,i)=>{let r="function"==typeof e?e(t):e;if(r!==t){let e=t;t=i?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,o=(e,i=r,o=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let s=i(t);function a(){let n=i(t);if(!o(s,n)){let t=s;e(s=n,t)}}return n.add(a),()=>n.delete(a)},s={setState:i,getState:r,subscribe:(e,t,i)=>t||i?o(e,t,i):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(i,r,s),s}(e=>({items:[],networkStatus:a.ready,loading:!1,metadata:{total_count:0,unread_count:0,unseen_count:0},pageInfo:{before:null,after:null,page_size:50},setLoading:t=>e(()=>({loading:t})),setNetworkStatus:t=>e(()=>({networkStatus:t,loading:t===a.loading})),setResult:function(t){var{entries:n,meta:i,page_info:r}=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh;return e(e=>{var t;return{items:o.shouldAppend?(t={},e.items.concat(n).reduce((e,n)=>t[n.id]?e:(t[n.id]=!0,[...e,n]),[])).sort((e,t)=>new Date(t.inserted_at).getTime()-new Date(e.inserted_at).getTime()):n,metadata:i,pageInfo:o.shouldSetPage?r:e.pageInfo,loading:!1,networkStatus:a.ready}})},setMetadata:t=>e(()=>({metadata:t})),setItemAttrs:(t,n)=>{var i=t.reduce((e,t)=>dd(dd({},e),{},{[t]:n}),{});return e(e=>({items:e.items.map(e=>i[e.id]?dd(dd({},e),i[e.id]):e)}))}})),this.broadcaster=new(dc()),this.defaultOptions=n,this.apiClient.connectSocket(),this.channel=this.apiClient.createChannel("feeds:".concat(this.userFeedId),this.defaultOptions)}listenForUpdates(){return this.channelConnected||(this.channel.join().receive("ok",()=>{this.channelConnected=!0}),this.channel.on("new-message",e=>this.onNewMessageReceived(e))),()=>{try{this.channel.leave()}catch(e){console.error("error while leaving channel",e)}}}on(e,t){this.broadcaster.on(e,t)}off(e,t){this.broadcaster.off(e,t)}getState(){return this.store.getState()}markAsSeen(e){var t=this;return uX(function*(){var n=new Date().toISOString();return t.optimisticallyPerformStatusUpdate(e,"seen",{seen_at:n},"unseen_count"),t.makeStatusUpdate(e,"seen")})()}markAsUnseen(e){var t=this;return uX(function*(){return t.optimisticallyPerformStatusUpdate(e,"unseen",{seen_at:null},"unseen_count"),t.makeStatusUpdate(e,"unseen")})()}markAsRead(e){var t=this;return uX(function*(){var n=new Date().toISOString();return t.optimisticallyPerformStatusUpdate(e,"read",{read_at:n},"unread_count"),t.makeStatusUpdate(e,"read")})()}markAsUnread(e){var t=this;return uX(function*(){return t.optimisticallyPerformStatusUpdate(e,"unread",{read_at:null},"unread_count"),t.makeStatusUpdate(e,"unread")})()}markAsArchived(e){var t=this;return uX(function*(){var{getState:n,setState:i}=t.store,r=n(),o=!0!==t.defaultOptions.include_archived,s=Array.isArray(e)?e:[e],a=s.map(e=>e.id),l=s.filter(e=>!e.seen_at).length,c=s.filter(e=>!e.read_at).length,u=df(df({},r.metadata),{},{total_count:r.metadata.total_count-s.length,unseen_count:r.metadata.unseen_count-l,unread_count:r.metadata.unread_count-c});if(o){var d=r.items.filter(e=>!a.includes(e.id));i(e=>e.setResult({entries:d,meta:u,page_info:e.pageInfo}))}else i(e=>{e.setMetadata(u),e.setItemAttrs(a,{archived_at:new Date().toISOString()})});return t.makeStatusUpdate(e,"archived")})()}markAsUnarchived(e){var t=this;return uX(function*(){return t.optimisticallyPerformStatusUpdate(e,"unarchived",{archived_at:null}),t.makeStatusUpdate(e,"unarchived")})()}fetch(){var e=arguments,t=this;return uX(function*(){var n=e.length>0&&void 0!==e[0]?e[0]:{},{setState:i,getState:r}=t.store,{networkStatus:o}=r();if(![a.loading,a.fetchMore].includes(o)){i(e=>{var t;return e.setNetworkStatus(null!==(t=n.__loadingType)&&void 0!==t?t:a.loading)});var s=df(df({},t.defaultOptions),n),l=yield t.apiClient.makeRequest({method:"GET",url:"/v1/users/".concat(t.knock.userId,"/feeds/").concat(t.feedId),params:s});if("error"===l.statusCode)return i(e=>e.setNetworkStatus(a.error)),{status:l.statusCode,data:l.error||l.body};var c={entries:l.body.entries,meta:l.body.meta,page_info:l.body.page_info};if(n.before){var u={shouldSetPage:!1,shouldAppend:!0};i(e=>e.setResult(c,u))}else if(n.after){var d={shouldSetPage:!0,shouldAppend:!0};i(e=>e.setResult(c,d))}else i(e=>e.setResult(c));return t.broadcast("messages.new",c),{data:c,status:l.statusCode}}})()}fetchNextPage(){var e=this;return uX(function*(){var{getState:t}=e.store,{pageInfo:n}=t();n.after&&e.fetch({after:n.after,__loadingType:a.fetchMore})})()}broadcast(e,t){this.broadcaster.emit(e,t)}onNewMessageReceived(e){var t=this;return uX(function*(){var{metadata:n}=e,{getState:i,setState:r}=t.store,o=i().items[0];r(e=>e.setMetadata(n)),t.fetch({before:null==o?void 0:o.__cursor})})()}buildUserFeedId(){return"".concat(this.feedId,":").concat(this.knock.userId)}optimisticallyPerformStatusUpdate(e,t,n,i){var{getState:r,setState:o}=this.store,s=Array.isArray(e)?e.map(e=>e.id):[e.id];if(i){var{metadata:a}=r(),l=t.startsWith("un")?s.length:-s.length;o(e=>e.setMetadata(df(df({},a),{},{[i]:Math.max(0,a[i]+l)})))}o(e=>e.setItemAttrs(s,n))}makeStatusUpdate(e,t){var n=this;return uX(function*(){if(Array.isArray(e)){var i=e.map(e=>e.id);return yield n.apiClient.makeRequest({method:"POST",url:"/v1/messages/batch/".concat(t),data:{message_ids:i}})}return yield n.apiClient.makeRequest({method:t.startsWith("un")?"DELETE":"PUT",url:"/v1/messages/".concat(e.id,"/").concat(t)})})()}},dx=class{constructor(e){(0,uK.Z)(this,"instance",void 0),this.instance=e}initialize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new dm(this.instance,e,t)}},dg="default";function dv(e){return"object"==typeof e?e:{subscribed:e}}var dj=class{constructor(e){(0,uK.Z)(this,"instance",void 0),this.instance=e}getAll(){var e=this;return uX(function*(){var t=yield e.instance.client().makeRequest({method:"GET",url:"/v1/users/".concat(e.instance.userId,"/preferences")});return e.handleResponse(t)})()}get(){var e=arguments,t=this;return uX(function*(){var n=(e.length>0&&void 0!==e[0]?e[0]:{}).preferenceSet||dg,i=yield t.instance.client().makeRequest({method:"GET",url:"/v1/users/".concat(t.instance.userId,"/preferences/").concat(n)});return t.handleResponse(i)})()}set(e){var t=arguments,n=this;return uX(function*(){var i=(t.length>1&&void 0!==t[1]?t[1]:{}).preferenceSet||dg,r=yield n.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(n.instance.userId,"/preferences/").concat(i),data:e});return n.handleResponse(r)})()}setChannelTypes(e){var t=arguments,n=this;return uX(function*(){var i=(t.length>1&&void 0!==t[1]?t[1]:{}).preferenceSet||dg,r=yield n.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(n.instance.userId,"/preferences/").concat(i,"/channel_types"),data:e});return n.handleResponse(r)})()}setChannelType(e,t){var n=arguments,i=this;return uX(function*(){var r=(n.length>2&&void 0!==n[2]?n[2]:{}).preferenceSet||dg,o=yield i.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(i.instance.userId,"/preferences/").concat(r,"/channel_types/").concat(e),data:{subscribed:t}});return i.handleResponse(o)})()}setWorkflows(e){var t=arguments,n=this;return uX(function*(){var i=(t.length>1&&void 0!==t[1]?t[1]:{}).preferenceSet||dg,r=yield n.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(n.instance.userId,"/preferences/").concat(i,"/workflows"),data:e});return n.handleResponse(r)})()}setWorkflow(e,t){var n=arguments,i=this;return uX(function*(){var r=(n.length>2&&void 0!==n[2]?n[2]:{}).preferenceSet||dg,o=dv(t),s=yield i.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(i.instance.userId,"/preferences/").concat(r,"/workflows/").concat(e),data:o});return i.handleResponse(s)})()}setCategories(e){var t=arguments,n=this;return uX(function*(){var i=(t.length>1&&void 0!==t[1]?t[1]:{}).preferenceSet||dg,r=yield n.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(n.instance.userId,"/preferences/").concat(i,"/categories"),data:e});return n.handleResponse(r)})()}setCategory(e,t){var n=arguments,i=this;return uX(function*(){var r=(n.length>2&&void 0!==n[2]?n[2]:{}).preferenceSet||dg,o=dv(t),s=yield i.instance.client().makeRequest({method:"PUT",url:"/v1/users/".concat(i.instance.userId,"/preferences/").concat(r,"/categories/").concat(e),data:o});return i.handleResponse(s)})()}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}},db=class{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.apiKey=e,(0,uK.Z)(this,"host",void 0),(0,uK.Z)(this,"userToken",void 0),(0,uK.Z)(this,"apiClient",null),(0,uK.Z)(this,"userId",void 0),(0,uK.Z)(this,"feeds",new dx(this)),(0,uK.Z)(this,"preferences",new dj(this)),this.host=t.host||"https://api.knock.app",this.apiKey&&this.apiKey.startsWith("sk_"))throw Error("[Knock] You are using your secret API key on the client. Please use the public key.")}client(){return this.userId||this.userToken||console.warn("[Knock] You must call authenticate(userId, userToken) first before trying to make a request.\n        Typically you'll see this message when you're creating a feed instance before having called\n        authenticate with a user Id and token. That means we won't know who to issue the request\n        to Knock on behalf of.\n        "),this.apiClient||(this.apiClient=new da({apiKey:this.apiKey,host:this.host,userToken:this.userToken})),this.apiClient}authenticate(e,t){this.userId=e,this.userToken=t}teardown(){this.apiClient&&this.apiClient.disconnectSocket()}},dy=n(14274);let dC=e=>!!e.comment&&null!==e.timeout,dk=e=>{let{user:t,docId:n,docComments:i=[],pauseExiration:r=!1,duration:o=5e3}=e,s=(0,n8.p)(),a=null==t?void 0:t.id,l=(0,j.useMemo)(()=>{if(!a)return null;let e=new db(dy.v.KNOCK_PUBLIC_KEY);return e.authenticate(a),e},[a]),[c,u]=(0,j.useState)({}),d=(0,j.useRef)(!0),h=(0,j.useRef)(r);h.current=r,(0,j.useEffect)(()=>()=>{d.current=!1},[]);let p=(0,j.useCallback)(()=>u({}),[]),f=(0,j.useCallback)(e=>{u(t=>Object.entries(t).reduce((t,n)=>{let[i,r]=n,o=!0===e?-1===r.timeout:i===e;return o||(t[i]=r),t},{}))},[]);return(0,j.useEffect)(()=>{r||f(!0)},[f,r]),(0,j.useEffect)(()=>{Object.entries(c).forEach(e=>{let[t,{entry:n,timeout:r}]=e;if(null===r){let e=n.data.commentId,r=null==i?void 0:i.find(t=>t.id===e);if(r){let e=setTimeout(()=>{d.current&&(h.current?u(e=>{let n={...e};return n[t].timeout=-1,n}):f(t))},o);u(i=>({...i,[t]:{entry:n,comment:r,timeout:e}}))}}})},[c,i,o,f]),(0,j.useEffect)(()=>{if(!l||!n)return;let e=l.feeds.initialize(dy.v.KNOCK_FEED_ID,{source:"new-comment",status:"unseen"}),t=e.listenForUpdates();e.on("messages.new",t=>{let{entries:i}=t,[r]=i;r.data.docId===n&&(u(e=>({...e,[r.id]:{entry:r,timeout:null}})),e.markAsSeen(r).then(()=>{console.debug("New notification marked as seen")}).catch(e=>{console.error("Unable to mark notification as seen",e)}))});let i=C.C9N.on("status",e=>{let{isConnected:t}=e,n=l.client();t?n.connectSocket():n.disconnectSocket()});return()=>{i(),t()}},[n,s,l]),{reset:p,comments:Object.values(c).filter(dC).map(e=>e.comment)}},dw=e=>{var t;let{toggleCommentsPanel:n,isCommentsPanelOpen:i,doc:r,mode:o}=e,{user:s}=(0,e$.SE)(),{editor:a}=(0,tw._i)(),[c,u]=(0,tx.XI)(),{comments:d,reset:h}=dk({user:s,docId:null==r?void 0:r.id,docComments:null==r?void 0:r.comments,pauseExiration:u}),m=!!(a&&r&&r.comments);(0,j.useEffect)(()=>{if(!m)return;let{commentId:e}=(0,eC.sY)();e&&nd.pw.emit(nd.TI.OPEN_POPUP_COMMENT,{commentId:e,highlightComment:!0})},[m]),(0,j.useEffect)(()=>{(i||o===eZ.q.SLIDE_VIEW)&&h()},[i,h,o]);let x=!!d.length&&!i&&o!==eZ.q.SLIDE_VIEW,g=(null==r?void 0:null===(t=r.comments)||void 0===t?void 0:t.filter(e=>e.status===C.Ux9.Open).length)||0;return(0,l.jsxs)(S.J,{isLazy:!0,lazyBehavior:"keepMounted",returnFocusOnClose:!1,isOpen:x,placement:"bottom",children:[(0,l.jsx)(A.x,{children:(0,l.jsx)(up.h,{onMouseDown:cf.br,onClick:n,icon:(0,l.jsx)(f.G,{icon:p.Mzg}),isActive:i,"aria-label":i?"Hide comments":"Show comments",borderRadius:5,children:g})}),(0,l.jsx)(i7.h,{children:r&&(0,l.jsxs)(I.y,{bg:"white",shadow:"lg",border:"none",ref:c,children:[(0,l.jsx)(uW.Q,{bg:"white"}),(0,l.jsx)(uZ,{editor:a,user:s,commentFeedItems:d,doc:r})]})})]})},dD=()=>(0,l.jsx)(c.k,{children:(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,label:(0,l.jsx)(m.cC,{id:"EVnzPs"}),children:(0,l.jsx)(up.r,{"data-guider-highlight":"design-partner-button","aria-label":"Edit with AI",colorScheme:"trueblue",variant:"plain",onClick:()=>{n2.T.emit("toggle",{})},icon:(0,l.jsx)(f.G,{icon:p.JyM})})})}),d_=(0,ax.E)(d.xu),dE=()=>{let e=(0,U.CG)(B.WI),t=(0,U.CG)(B.yn);return(0,l.jsx)(ag.M,{initial:!1,children:e&&t&&(0,l.jsx)(d_,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},position:"absolute",pointerEvents:"none",borderTop:"solid ".concat(4,"px ").concat(e.color),top:0,left:0,bottom:0,right:0,height:"var(--100vh)"})})},dS=e=>{let{doc:t,editorWrapperEl:n,scrollingParentSelector:i}=e;return(0,l.jsxs)(nb.v,{placement:"bottom-end",modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["left"]}}],children:[(0,l.jsx)(ny.j,{as:up.r,borderRadius:"md",icon:(0,l.jsx)(f.G,{icon:p.cNd}),onMouseDown:cf.br,"data-testid":"doc-toolbar-menu-button"}),(0,l.jsx)(i7.h,{children:t&&(0,l.jsx)(aW,{doc:t,scrollingParentSelector:i,editorWrapperEl:n})})]})},dA=e=>{let{docId:t,enabled:n,enterSlideView:i}=e,r=(0,U.CG)(B.e0),o=(0,j.useRef)(null),s=(0,n8.p)();(0,j.useEffect)(()=>{!n&&o.current&&o.current.close()},[n]),(0,j.useEffect)(()=>{let e=()=>{var e;null===(e=o.current)||void 0===e||e.close()};return window.addEventListener("beforeunload",e),()=>{var t;window.removeEventListener("beforeunload",e),null===(t=o.current)||void 0===t||t.close()}},[]);let a=(0,j.useCallback)(()=>{if(!t||!(null==r?void 0:r.sessionId))return;let e=(0,eC.C3)({docId:t,sessionId:r.sessionId}),n=window.open(e,"present-view","popup,left=0,top=0,width=720,height=580");n?o.current=n:(s({title:"Failed to open presenter view.",description:"Please allow popups for this site and try again.",status:"error",position:"top",duration:5e3}),console.error("[usePresenterViewToggle] Failed to open presenter view")),i({fullscreen:!1})},[t,i,null==r?void 0:r.sessionId,s]);return{handlePresentViewClick:a}};var dT=n(73235),dI=n(21979);function dO(){let e=(0,dT._)(["\n    0% { transform: scale(1.0); filter: brightness(1.0);  }\n    3% { transform: scale(1.0); filter: brightness(1.0);  }\n    8% {  transform: scale(0.90); filter: brightness(1.30);  }\n    18% { transform: scale(1.05); filter: brightness(1.0); }\n    30% { transform: scale(1.0); filter: brightness(1.0); }\n  "]);return dO=function(){return e},e}let dM=e=>({followOnStart:!0,followingId:e}),dF=e=>{switch(e){case"edit":return x.ag._({id:"UZN1cZ"});case"comment":return x.ag._({id:"jFTs0A"});case"view":return x.ag._({id:"Ya6CJ0"});default:return x.ag._({id:"Txd1qM"})}},dR=e=>{var t,n;let{isOpen:i,onClose:r,accessLinkUrl:o,onPlayClick:s}=e,{user:a}=(0,e$.SE)(),{replace:c}=(0,ej.useRouter)(),h=dM(null==a?void 0:a.id),[p,g]=(0,j.useState)(h),v=(0,eC.eo)(o,p),{user:b,color:y}=(0,e$.SE)(),C=(0,U.CG)(tG.yx),k=null==C?void 0:null===(n=C.accessLinks)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.permission,w=(0,am.F4)(dO());return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(rl.u_,{isOpen:i,onClose:r,size:"lg",children:[(0,l.jsx)(tV.Z,{}),(0,l.jsxs)(rc.h,{children:[(0,l.jsx)(ru.x,{children:(0,l.jsx)(m.cC,{id:"88XnIQ"})}),(0,l.jsx)(tZ.o,{}),(0,l.jsx)(rS.i,{}),(0,l.jsx)(tK.f,{pt:"6",children:(0,l.jsxs)(t_.K,{spacing:"4",children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"oYTLJe",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc,0:dF(k)},components:{0:(0,l.jsx)(u.x,{as:"span",fontWeight:"bold",borderBottom:"1px dashed",borderColor:"gray.400",display:"inline-block"}),1:(0,l.jsx)(ev.kH,{label:x.ag._({id:"8LnpqL"}),placement:"top"})}})}),(0,l.jsx)(d.xu,{mb:"2",children:(0,l.jsx)(dI.I,{url:v,variant:"solid"})}),(0,l.jsxs)(nG.b,{children:[(0,l.jsx)(rM.z,{}),(0,l.jsxs)(em.U,{flexBasis:"100%",alignItems:"top",children:[(0,l.jsx)(u.x,{fontSize:"sm",width:"100%",children:(0,l.jsx)(m.cC,{id:"EApNIe"})}),(0,l.jsxs)(d.xu,{position:"relative",textShadow:"sm",children:[(0,l.jsx)(oo.q,{animation:"".concat(w," 2s infinite ease-out"),name:null==b?void 0:b.displayName,src:null==b?void 0:b.profileImageUrl,size:"md",border:"solid 3px ".concat(y.value),shadow:"lg"}),(0,l.jsx)(d.xu,{position:"absolute",top:"1.75rem",left:"1.75rem",outline:"0 0 2px rgba(255,255,255,1.0)",sx:{path:{stroke:"white",strokeWidth:48}},color:"black",children:(0,l.jsx)(f.G,{icon:e2.qaO,fixedWidth:!0})})]})]})]})]})}),(0,l.jsx)(tY.m,{children:(0,l.jsxs)(eg.h,{children:[(0,l.jsx)(ex.z,{variant:"ghost",colorScheme:"gray",onClick:()=>{r()},children:(0,l.jsx)(m.cC,{id:"DPfwMq"})}),(0,l.jsx)(ex.z,{variant:"solid",onClick:()=>{r(),s(),c(v,v,{shallow:!0})},leftIcon:(0,l.jsx)(f.G,{icon:e2.zc}),children:(0,l.jsx)(m.cC,{id:"tbDuNX"})})]})})]})]})})},dN=e=>{var t,n,i,r;let{doc:o,docEditorType:s,isStaticEditor:a,enterSlideView:h,exitSlideView:g,setExitedFullscreenByClick:v,isFullscreen:b,enterFullscreen:y,exitFullscreen:C,shouldHide:k}=e,{onOpen:w,onClose:D,isOpen:_}=(0,nl.M)({id:"meetModal"}),{user:E}=(0,e$.SE)(),S=(0,U.CG)(B.gh),A=(0,j.useRef)(S);(0,j.useEffect)(()=>{A.current=S},[S]);let{shortcutLabel:T,shortcutIcon:I,shortcutKeys:O,buttonLabel:M}=rp()[S],F=null==o?void 0:null===(n=o.accessLinks)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.url,R=!!(null==o?void 0:null===(r=o.accessLinks)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.permission),N=(0,e$.py)("comment",o||void 0),P=(0,e$.py)("manage",o||void 0),L=!a&&E&&F&&P,z=(0,tr.ye)("cardNotes"),G=S===eZ.q.SLIDE_VIEW,H=S===eZ.q.DOC_VIEW,W=z&&N&&s!==tk.Z.PUBLIC_STATIC,{handlePresentViewClick:V}=dA({docId:null==o?void 0:o.id,enabled:z&&G,enterSlideView:h}),q=(0,tr.ye)("presentFullScreen"),Z=(0,U.CG)(B.e_),K="present"===Z.primaryAction?"solid":"plain";return(0,l.jsxs)(c.k,{display:k?"none":"flex",children:[(0,l.jsxs)(eg.h,{isAttached:!0,size:"sm","data-guider-highlight":"present-button-group","data-editor-mode":G?"slide":"doc",children:[(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,label:T,shortcut:O,children:(0,l.jsx)(up.h,{fontWeight:"normal",size:"sm",variant:K,onClick:()=>{G?g():h({fullscreen:q})},onMouseDown:cf.br,icon:(0,l.jsx)(f.G,{icon:I}),"data-present-button":!0,children:M})}),(0,l.jsxs)(nb.v,{children:[(0,l.jsx)(ny.j,{variant:K,as:up.r,icon:(0,l.jsx)(f.G,{icon:p.ptq})}),(0,l.jsx)(i7.h,{children:(0,l.jsxs)(nC.q,{zIndex:"popover",children:[H&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(rs.k,{title:x.ag._({id:"tbDuNX"}),children:[W&&(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.s0r,fixedWidth:!0}),onClick:V,children:(0,l.jsxs)(t_.K,{spacing:"0",children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"T+GUKl"})}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.600",children:(0,l.jsx)(m.cC,{id:"ACelDx"})})]})}),W&&(0,l.jsx)(ri.R,{}),(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.Rkb,fixedWidth:!0}),command:(0,ev.cE)("Mod+Enter"),onClick:()=>h({fullscreen:!1}),children:(0,l.jsx)(m.cC,{id:"LRFe2O"})}),(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.tc$,fixedWidth:!0}),command:(0,ev.cE)("Mod+Shift+Enter"),onClick:()=>h({fullscreen:!0}),children:(0,l.jsx)(m.cC,{id:"OwIqiD"})})]}),L&&(0,l.jsx)(ri.R,{})]}),G&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:e2.Bg$,fixedWidth:!0}),command:(0,ev.cE)("Esc"),onClick:g,children:(0,l.jsx)(m.cC,{id:"5Rfo7J"})}),(W||L)&&(0,l.jsx)(ri.R,{}),W&&(0,l.jsx)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.s0r,fixedWidth:!0}),onClick:V,children:(0,l.jsxs)(t_.K,{spacing:"0",children:[(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"T+GUKl"})}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.600",children:(0,l.jsx)(m.cC,{id:"ACelDx"})})]})})]}),L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ev.kH,{isDisabled:R,label:(0,l.jsx)(m.cC,{id:"zk6wKo"}),children:(0,l.jsx)(d.xu,{children:(0,l.jsx)(rr.s,{onClick:()=>{var e;(null==o?void 0:null===(e=o.accessLinks)||void 0===e?void 0:e[0].permission)&&w()},isDisabled:!R,icon:(0,l.jsx)(f.G,{icon:p.ASo,fixedWidth:!0}),children:(0,l.jsx)(t_.K,{spacing:"0",children:(0,l.jsx)(m.cC,{id:"z7gRub",components:{0:(0,l.jsx)(u.x,{}),1:(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.600"})}})})})})}),(0,l.jsx)(dR,{isOpen:_,onClose:D,accessLinkUrl:F,onPlayClick:()=>{h({fullscreen:!1})}})]})]})})]})]}),G&&(0,l.jsx)(c.k,{ml:G?2:0,children:(0,l.jsx)(ev.kH,{label:b?"Exit full screen":"Enter full screen",children:(0,l.jsx)(up.r,{"aria-label":b?"Exit full screen":"Enter full screen",borderRadius:"md",icon:(0,l.jsx)(f.G,{icon:b?p.Qj4:p.TL5}),onClick:b?()=>{v(!0),C()}:y})})})]})},dP=e=>{let{doc:t}=e,{replace:n}=(0,ej.useRouter)(),i=(0,U.CG)(eA.lH),r=null==t?void 0:t.id,o=(0,eO.D5)({site:i,docId:r}),{publishDoc:s,publishSite:a,isPublishing:h}=is({doc:t,site:i,path:o}),{statusText:g,detailText:v,lastPublishedTime:b,needsPublish:y,publishEnabled:C}=rt(h),k=i&&(0,eO.jl)(t,i),w=(0,j.useCallback)(()=>{if(!r)return;let e=(0,eC.yQ)({docId:r,preview:!0});n(e,void 0,{shallow:!0})},[r,n]);return i?(0,l.jsx)(c.k,{children:(0,l.jsxs)(eg.h,{isAttached:!0,size:"sm",children:[(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,isDisabled:!C,label:y&&!h?(0,l.jsxs)(t_.K,{children:[g,(0,l.jsx)(u.x,{color:"gray.400",children:(0,l.jsx)(m.cC,{id:"FmP7uY"})})]}):(0,l.jsx)(m.cC,{id:"o+bOqE"}),children:(0,l.jsx)(up.h,{fontWeight:"normal",size:"sm",variant:"solid",onClick:a,onMouseDown:cf.br,isDisabled:!C,isLoading:h,icon:y?(0,l.jsx)(f.G,{icon:p.A$k}):(0,l.jsx)(f.G,{icon:p.LEp}),"data-publish-button":!0,children:y?(0,l.jsx)(m.cC,{id:"EEYbdt"}):(0,l.jsx)(m.cC,{id:"u3wRF+"})})}),(0,l.jsxs)(nb.v,{children:[(0,l.jsx)(ny.j,{variant:"solid",as:up.r,isDisabled:!C,icon:(0,l.jsx)(f.G,{icon:p.ptq})}),(0,l.jsx)(i7.h,{children:(0,l.jsxs)(nC.q,{zIndex:"popover",maxW:"360px",children:[(0,l.jsxs)(t_.K,{w:"100%",p:2,direction:"column",spacing:.5,children:[(0,l.jsx)(u.x,{fontSize:"sm",children:g}),v&&(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",children:v}),b&&(null==t?void 0:t.site)&&(0,l.jsxs)(em.U,{mx:2,mt:2,children:[(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",children:k?b:(0,l.jsx)(m.cC,{id:"0bSVwO"})}),k&&(0,l.jsx)(sc,{site:t.site,path:(0,eO.fJ)(o)})]})]}),(0,l.jsx)(ri.R,{}),(0,l.jsxs)(rs.k,{title:x.ag._({id:"EEYbdt"}),children:[(0,l.jsxs)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.A$k,fixedWidth:!0}),onClick:a,alignItems:"baseline",children:[(0,l.jsx)(m.cC,{id:"1EeNDU"}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"TG5c7I"})})]}),(0,l.jsxs)(rr.s,{icon:(0,l.jsx)(f.G,{icon:p.PQh,fixedWidth:!0}),onClick:s,alignItems:"baseline",children:[(0,l.jsx)(m.cC,{id:"jNnwuI"}),(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"+s7ng3"})})]})]}),(0,l.jsx)(ri.R,{}),(0,l.jsx)(rs.k,{title:x.ag._({id:"rdUucN"}),children:(0,l.jsx)(ev.kH,{label:(0,l.jsx)(m.cC,{id:"aChIoL"}),children:(0,l.jsx)(d.xu,{children:(0,l.jsx)(rr.s,{onClick:w,icon:(0,l.jsx)(f.G,{icon:e2.sl_,fixedWidth:!0}),alignItems:"baseline",children:(0,l.jsx)(t_.K,{spacing:"0",children:(0,l.jsx)(m.cC,{id:"Y5Jq49",components:{0:(0,l.jsx)(u.x,{}),1:(0,l.jsx)(u.x,{fontSize:"xs",color:"gray.500"})}})})})})})})]})})]})]})}):null};var dL=n(34613),dz=n(60740),dG=n(16710),dU=n(62549);let dB=e=>{var t,n;let{doc:i,showAnalytics:r=!0,showSharePublic:o=!0,showEmbed:s=!0,showButton:a=!0}=e,{isOpen:c,onClose:h,onOpen:p}=(0,nl.M)({id:"analyticsModalDisclosure"}),{isSharePanelOpen:f,onSharePanelOpen:x,onSharePanelClose:g,view:v,setView:b}=(0,dz.y)(),{user:y,currentWorkspace:C}=(0,e$.SE)(),{editor:k}=(0,tw._i)(),w=(0,e$.py)("view",i),D=(0,e$.py)("edit",i),_=(0,e$.py)("manage",i),E=(0,ez.z$)();(0,j.useEffect)(()=>sa.T.on("openSharePanel",e=>{let{view:t}=e;x(),b(t)}),[x,b]);let S=(0,j.useCallback)(()=>{null==E||E.track(ez.AA.DOC_ANALYTICS_VIEWED,{docId:null==i?void 0:i.id,source:"share_panel",type:_?"full":"personal"}),p()},[E,_,null==i?void 0:i.id,p]);if(!w||!y||!i)return null;let A=i.collaborators||[],T=i.channels||[],I=(0,dU.Hs)([...A].sort((e,t)=>e.user.id===y.id?-1:t.user.id===y.id?1:0).map(e=>e.user.id===y.id?"You":e.user.displayName||"").concat(i.orgAccess?T.map(e=>{let{name:t}=e;return t||""}):[])),O=(0,dG.h_)(i,y),M=O?(0,dG.Xp)()[O]:null,F=(0,dG.Gi)(i,C);return null===M?(console.error("[SharePanel] Unknown VisibilityValue for doc",i),null):(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(ev.kH,{label:(0,l.jsxs)(l.Fragment,{children:[F&&(0,l.jsx)(u.x,{fontWeight:"bold",children:(0,l.jsx)(m.cC,{id:"OS9x6e",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}})}),M.title(null==i?void 0:null===(t=i.organization)||void 0===t?void 0:t.name)?(0,l.jsx)(u.x,{children:M.title(null==i?void 0:null===(n=i.organization)||void 0===n?void 0:n.name)}):null,(0,l.jsx)(u.x,{fontSize:"xs",children:M.subtitle?M.subtitle(I||""):""})]}),children:(0,l.jsx)("span",{children:(0,l.jsx)(up.h,{"data-guider-highlight":"share-button",onMouseDown:cf.br,icon:(0,l.jsx)(d.xu,{children:(0,l.jsx)(dL.aA,{visibility:M,isFromOtherOrg:F})}),isDisabled:!D,onClick:x,children:(0,l.jsx)(m.cC,{id:"Z8lGw6"})})})}),(0,l.jsx)(dL.WQ,{doc:i,editor:k,isSharePanelOpen:f,onSharePanelOpen:x,onSharePanelClose:g,onAnalyticsPanelOpen:S,view:v,setView:b,showAnalytics:r,showSharePublic:o,showEmbed:s}),c&&(0,l.jsx)(o2,{doc:i,onSharePanelOpen:x,onAnalyticsPanelClose:h,isAnalyticsPanelOpen:c,mode:_?"full":"personal"})]})},dH=(0,ax.E)(c.k),dW=e=>(0,l.jsx)(dH,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},children:(0,l.jsx)(ag.M,{initial:!1,children:(0,l.jsx)(dq,{...e})})}),dV=["home","siteTitle","pageSwitcher"],dq=(0,j.memo)(e=>{let{doc:t,isPagesPanelOpen:n,togglePagesPanel:i,pagesPanelEnabled:r=!1}=e,[o]=(0,uk.X)(W.H.lastHomeUrl,"/"),s=(0,tr.ye)("offline"),a=(0,U.CG)(eA.lH),{user:h}=(0,e$.SE)(),{isConnected:g}=(0,C.$gs)(),{confirmNavigation:v}=(0,tw._i)(),{push:j}=(0,ej.useRouter)(),b=(0,es.i)({base:"xs",sm:"sm"}),y=(0,ef.ff)("gray.700","gray.300"),k=(0,ef.ff)("gray.500","gray.400"),w=(0,ef.ff)("gray.700","gray.100"),D={base:"140px",sm:"220px",xl:"300px"};return(0,l.jsxs)(em.U,{spacing:0,as:ex.z,bg:"transparent",boxShadow:"none",border:"none",textAlign:"left",px:0,h:8,_hover:{color:w},_active:{boxShadow:"none"},children:[(0,l.jsx)(uj.a,{display:"flex",alignItems:"center",whiteSpace:"nowrap",size:b,spacing:["4px","8px"],variant:"plainButton",separator:(0,l.jsx)(d.xu,{color:"gray.300",mt:["0.2rem","0.125rem"],children:(0,l.jsx)(f.G,{icon:p._tD})}),children:dV.map((e,s)=>{if(!e)return null;if("siteTitle"===e){if(!t||!t.site||!r)return null;let e=null==a?void 0:a.routes.length;if(e&&1===e)return null}let c=s===dV.length-1,d="home"===e,m="siteTitle"===e;if(d&&!h)return null;let g={as:nR(),href:o||"/",colorScheme:"gray",fontWeight:"normal","data-testid":"toolbar-home-link"};return(0,l.jsx)(ub.g,{isCurrentPage:!1,children:(0,l.jsx)(dH,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:(0,l.jsx)(uy.A,{_hover:{cursor:m?"default":"pointer"},color:c?k:y,...d?{...g}:{},children:d?(0,l.jsx)(iJ.r,{as:up.h,ml:-2,mr:-1,href:g.href,onClick:e=>{let t=!e.shiftKey&&(e.metaKey||e.ctrlKey);t||(e.preventDefault(),v().then(()=>{j(g.href)}))},children:(0,l.jsx)(f.G,{size:"1x",icon:p.J9Y})}):m?(0,l.jsx)(u.x,{noOfLines:1,maxW:D,fontWeight:"normal",display:"block",children:null==a?void 0:a.name}):(0,l.jsxs)(em.U,{spacing:0,children:[(0,l.jsx)(u_,{doc:t}),r&&(0,l.jsx)(up.r,{size:"sm",variant:"ghost",onClick:()=>{null==i||i()},"aria-label":x.ag._({id:"TRfYMF"}),icon:(0,l.jsx)(f.G,{size:"1x",icon:n?p.onQ:p.gc2}),minW:0,px:2})]})})},e)},e)})}),!g&&(0,l.jsx)(ev.kH,{label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.x,{mr:2,children:(0,l.jsx)(m.cC,{id:"ysdDIA"})}),s&&(0,l.jsx)(u.x,{color:"gray.300",children:(0,l.jsx)(m.cC,{id:"+QNhGE"})})]}),"aria-label":x.ag._({id:"IcHxhR"}),children:(0,l.jsx)(c.k,{color:"gray.300",alignItems:"center",pr:3,children:(0,l.jsx)(f.G,{icon:p.bKP})})})]})});dq.displayName="PageBreadcrumbGroup";let dZ=e=>{let{spotlightingByBlock:t}=e,{editor:n}=(0,tw._i)(),i=(0,j.useCallback)(()=>{t?null==n||n.commands.turnOffSpotlight():null==n||n.commands.spotlightNextBlock()},[n,t]);return(0,l.jsx)(c.k,{children:(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,label:(0,l.jsxs)(u.x,{whiteSpace:"nowrap",children:[t?"Turn off spotlight":"Turn on spotlight",(0,l.jsx)(u.x,{as:"span",display:"inline",color:"gray.400",ml:2,children:"S"})]}),children:(0,l.jsx)(up.h,{colorScheme:"trueblue",variant:t?"solid":"plain",onClick:e=>{i(),e.target.blur()},icon:(0,l.jsx)(f.G,{icon:p.QMW}),children:"Spotlight"})})})};var dK=n(76713),dY=n(86963),dX=n(52394),d$=n(75586);let dJ=(0,j.memo)(e=>{let{isOpen:t,onClose:n,openThemeEditor:i,openThemeEditorWithDefaultTheme:r,setDocTheme:o}=e,s=(0,U.CG)(B.Pu),a=(0,j.useCallback)(()=>{nd.pw.emit(nd.TI.OPEN_PAGE_SETUP,"background"),null==n||n()},[n]);return(0,l.jsx)(ev.Wk,{isDark:!1,children:(0,l.jsxs)(tW.d,{returnFocusOnClose:!1,isOpen:t,placement:"right",onClose:n,size:"md",children:[(0,l.jsx)(tV.Z,{background:"none"}),(0,l.jsxs)(tq.s,{"data-testid":"doc-theme-drawer","data-doc-theme-drawer":!0,motionProps:{variants:{enter:{x:"0%",transition:{duration:.2}},exit:{x:"100%",transition:{duration:.1}}}},children:[(0,l.jsx)(ru.x,{pb:4,children:(0,l.jsx)(d$.v,{title:(0,l.jsx)(m.cC,{id:"FEr96N"}),openThemeEditorWithDefaultTheme:r,showDrawerCloseButton:!0,currentTheme:s})}),(0,l.jsx)(tK.f,{overflowX:"hidden","data-theme-picker-scroll-container":!0,children:(0,l.jsx)(dX.t,{currentTheme:s,openBackgroundPanel:a,setTheme:o,openThemeEditor:i,openThemeEditorWithDefaultTheme:r})})]})]})})});dJ.displayName="DocThemeDrawer";let dQ=(0,j.memo)(()=>{var e;let t=(0,n8.p)(),[n]=(0,C.Iyu)(),i=(0,U.CG)(eA.$U),{docId:r,getCollaborativeEditorInstance:o}=(0,tw._i)(),{isOpen:s,onOpen:a,onClose:u}=(0,nl.M)({id:"themeEditor"}),{isOpen:d,onOpen:h,onClose:p}=(0,nl.M)({id:"themeStyleDrawer"}),f=null===(e=o())||void 0===e?void 0:e.state.doc.toJSON(),x=(0,U.CG)(B.Pu),[g,v]=(0,dY.g)(),b=o(),{openThemeEditor:y,openThemeEditorWithDefaultTheme:k}=(0,eM.LW)(b,a,v),w=(0,ez.z$)(),{updateDocThemeWithAccentImages:D}=(0,eM.vi)({docId:r,editor:b}),_=(0,j.useCallback)(e=>{i&&e.id!==x.id&&n({variables:{input:{siteId:i,themeId:e.id}},update:(t,n)=>{let{data:r}=n,o=t.readFragment({id:"Theme:".concat(e.id),fragment:C.ASj,fragmentName:"DefaultThemeFields"});t.updateQuery({query:C.BYL,variables:{id:i}},e=>e&&e.site&&o?{...e,site:{...e.site,...null==r?void 0:r.updateSite,theme:o}}:e)}}).then(()=>{})},[i,x.id,n]),E=(0,j.useCallback)(e=>{e.id!==x.id&&D(e.id).then(()=>{null==w||w.track(ez.AA.DOC_THEME_UPDATED,{doc_id:r,theme_id:e.id})}).catch(e=>{console.error(e),t({title:(0,l.jsx)(m.cC,{id:"Fulf8b",values:{0:e.message}}),position:"top",status:"error"})})},[w,x.id,r,t,D]),S=(0,j.useCallback)(e=>i?_(e):E(e),[i,E,_]);return(0,j.useEffect)(()=>{let e=sa.T.on("toggleThemeBlock",h),t=nd.pw.on(nd.TI.OPEN_THEME_DRAWER,h);return()=>{e(),t()}},[h]),(0,l.jsxs)(c.k,{children:[(0,l.jsx)(dJ,{isOpen:d&&!s,onClose:p,openThemeEditor:y,openThemeEditorWithDefaultTheme:k,setDocTheme:S}),(0,l.jsx)(dK.z,{isOpen:s,onClose:u,state:g,dispatch:v,docContent:f,onThemeCreated:E,disableDrawerTransition:!0})]})}),d0=(0,j.memo)(()=>{let{isConnected:e}=(0,C.$gs)();return(0,l.jsx)(ev.kH,{label:e?(0,l.jsx)(m.cC,{id:"JkEyR8"}):(0,l.jsx)(m.cC,{id:"GvC+mL",components:{0:(0,l.jsx)(u.x,{}),1:(0,l.jsx)(u.x,{color:"gray.300"})}}),"aria-label":x.ag._({id:"JkEyR8"}),children:(0,l.jsx)(d.xu,{children:(0,l.jsx)(up.h,{"data-guider-highlight":"toolbar-theme-button",onClick:()=>{sa.T.emit("toggleThemeBlock",!0)},isDisabled:!e,icon:(0,l.jsx)(f.G,{icon:p.q2v}),"data-testid":"toolbar-theme-button",children:(0,l.jsx)(m.cC,{id:"FEr96N"})})})})});d0.displayName="ThemeToolbarButton";let d1=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(dQ,{}),(0,l.jsx)(d0,{})]});dQ.displayName="ThemeDrawers";let d2=[.5,.8,.9,1,1.1,1.2,1.5,2],d3=e=>"".concat((100*e).toFixed(0),"%"),d5=()=>{let e=(0,tr.ye)("presentZoom"),{editor:t}=(0,tw._i)(),n=(0,ez.z$)(),i=(0,b.I0)(),r=(0,U.CG)(B.SU),o=(0,j.useCallback)(e=>{i((0,B.Ic)({zoomLevel:e})),i((0,B.fT)({enabled:!1})),null==n||n.track(ez.AA.DOC_ZOOMED,{direction:"set",level:e})},[i,n]),s=(0,j.useCallback)(()=>{i((0,B.fT)({enabled:!0}))},[i]),a=(0,j.useCallback)(()=>{let e=Math.min(l_.v4,r+.1);i((0,B.Ic)({zoomLevel:e})),i((0,B.fT)({enabled:!1})),null==n||n.track(ez.AA.DOC_ZOOMED,{direction:"in",level:e})},[i,n,r]),c=(0,j.useCallback)(()=>{let e=Math.max(l_.Ou,r-.1);i((0,B.Ic)({zoomLevel:e})),i((0,B.fT)({enabled:!1})),null==n||n.track(ez.AA.DOC_ZOOMED,{direction:"in",level:e})},[i,n,r]),d=(0,j.useCallback)(()=>{let e=l_.aX;i((0,B.Ic)({zoomLevel:e})),i((0,B.fT)({enabled:!1})),null==n||n.track(ez.AA.DOC_ZOOMED,{direction:"reset",level:e})},[i,n]),h=(0,U.CG)(rm.C),g=(0,lx.rJ)();return((0,j.useEffect)(()=>{if(e)return eb.F7.on("keydown","PRESENT_BLOCK",e=>{let n=e.target instanceof HTMLElement&&(0,eq.Hx)(e.target);return!(h||!t||(0,lo.KB)(t))&&!n&&((0,nM.ZP)("=")(e)?(a(),e.preventDefault(),!0):(0,nM.ZP)("-")(e)?(c(),e.preventDefault(),!0):(0,nM.ZP)("0")(e)?(d(),e.preventDefault(),!0):!!(0,nM.ZP)("9")(e)&&(s(),e.preventDefault(),!0))})},[h,e,t,a,c,d,s]),e)?(0,l.jsxs)(eg.h,{spacing:"0",size:"sm",variant:"ghost",isAttached:!0,borderWidth:"1px",borderRadius:"md",children:[(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,shortcut:"-",label:x.ag._({id:"FjkaiT"}),children:(0,l.jsx)(T.h,{"aria-label":x.ag._({id:"FjkaiT"}),fontWeight:"normal",onClick:c,icon:(0,l.jsx)(f.G,{icon:p.Kl4})})}),(0,l.jsxs)(nb.v,{closeOnSelect:!0,children:[(0,l.jsx)(ev.kH,{label:x.ag._({id:"VZ3UQG"}),children:(0,l.jsx)(ny.j,{minW:20,as:ex.z,variant:"ghost",fontWeight:"400",size:"sm",rightIcon:(0,l.jsx)(f.G,{icon:p.ptq}),children:g?(0,l.jsx)(m.cC,{id:"R9Khdg"}):d3(r)})}),(0,l.jsxs)(nC.q,{maxW:"220px",children:[(0,l.jsx)(nk._,{value:g?"auto":r.toString(),type:"radio",children:(0,l.jsx)(nw.i,{value:"auto",onClick:s,children:(0,l.jsxs)(em.U,{children:[(0,l.jsxs)(u.x,{children:[(0,l.jsx)(m.cC,{id:"R9Khdg"})," ",(0,l.jsx)(u.x,{as:"span",color:"gray.500",children:(0,l.jsx)(m.cC,{id:"P9Cyl9"})})]}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(u.x,{as:"span",opacity:"0.6",children:"9"})]})})}),(0,l.jsx)(ri.R,{}),(0,l.jsx)(nk._,{value:g?"auto":r.toString(),type:"radio",children:d2.map(e=>(0,l.jsx)(nw.i,{value:(e/100).toString(),onClick:()=>{o(e)},children:(0,l.jsxs)(em.U,{children:[(0,l.jsx)(u.x,{children:d3(e)}),(0,l.jsx)(e1.L,{}),e===l_.aX&&(0,l.jsx)(u.x,{as:"span",opacity:"0.6",children:"0"})]})},e))})]})]}),(0,l.jsx)(ev.kH,{closeOnMouseDown:!1,closeOnClick:!1,shortcut:"+",label:x.ag._({id:"AWOSPo"}),children:(0,l.jsx)(T.h,{fontWeight:"normal","aria-label":x.ag._({id:"AWOSPo"}),onClick:a,icon:(0,l.jsx)(f.G,{icon:p.r8p})})})]}):null},d4=(0,j.memo)(function(e){let{scrollingParentSelector:t,toggleCommentsPanel:i,isCommentsPanelOpen:r,isPagesPanelOpen:o,togglePagesPanel:s,editorWrapperEl:a,docEditorType:u,isDark:d}=e,[h]=(0,ud.a)(["(max-width: 840px)","(min-width: 841px)"]),p=(0,es.i)({base:!0,lg:!1}),f=(0,U.CG)(B.gh),m=(0,U.CG)(tG.yx),x=(0,U.CG)(eA.lH),{editor:g}=(0,tw._i)(),v=(0,e$.py)("comment",m),b=(0,e_.O1)(),y=(0,e_.lP)(),{enabled:C}=(0,uh.g)(g),k=(0,eO.Vr)(x),w="SLIDE_VIEW"!==f,D=(0,U.CG)(B.hN),_=u!==tk.Z.COLLABORATIVE,E=(0,U.CG)(B.Tf),S=(0,U.CG)((0,Q.SL)("left")),A=(0,U.CG)((0,Q.SL)("right")),T=(0,tr.ye)("aiChat"),{enterSlideView:I,exitSlideView:O,setExitedFullscreenByClick:M,isFullscreen:F,enterFullscreen:R,exitFullscreen:N}=r_({editorWrapperEl:a,scrollingParentSelector:t});window.exportToPptx=async e=>{if(!g)return;let{exportToPptx:t}=await Promise.all([n.e(9775),n.e(5743),n.e(2966)]).then(n.bind(n,42648));return t(g,e)};let P=G((0,j.useCallback)(e=>{let t=L.current;if(!t)return!1;let n=t.querySelector("[data-active]")||t.querySelector('[aria-expanded="true"]')||S||A;return!!n||e.clientY<100},[S,A]),!E),L=(0,j.useRef)(null),z=!E||E&&P,H=!(0,ey.s2)();return g?(0,l.jsx)(ev.Wk,{isDark:d,children:(0,l.jsxs)(c.k,{"data-editor-toolbar":!0,ref:L,bg:d?"gray.900":"white",borderBottomWidth:"1px",borderBottomColor:d?"whiteAlpha.100":"blackAlpha.100",zIndex:tU.S.toolbar,left:0,right:0,py:1.5,alignItems:"center",p:2,pr:6,transform:z?void 0:"translateY(-100%)",pointerEvents:"none",sx:{"&:focus-within":{marginTop:0},"> *":{pointerEvents:"auto"},"> #toolbar-spacer":{pointerEvents:"none"}},transitionProperty:"transform",transitionDuration:"normal",transitionTimingFunction:"ease-in-out","data-print-hidden":!0,children:[(0,l.jsx)(dE,{}),(0,l.jsx)(em.U,{children:x?(0,l.jsx)(dW,{doc:m,pagesPanelEnabled:b,isPagesPanelOpen:o,togglePagesPanel:s}):(0,l.jsx)(uD,{doc:m})}),(0,l.jsx)(e1.L,{pointerEvents:"none",id:"toolbar-spacer"}),(0,l.jsxs)(em.U,{children:[!h&&(0,l.jsx)(uU,{}),!h&&!w&&(0,l.jsx)(d5,{}),!h&&!w&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(dZ,{spotlightingByBlock:C})}),!h&&!_&&D&&y&&(0,l.jsx)(d1,{}),!_&&(0,l.jsx)(dB,{doc:m,showButton:!h}),H&&!k&&(0,l.jsx)(dN,{doc:m,isStaticEditor:_,editorWrapperEl:a,scrollingParentSelector:t,enterSlideView:I,exitSlideView:O,setExitedFullscreenByClick:M,isFullscreen:F,enterFullscreen:R,exitFullscreen:N,shouldHide:h,docEditorType:u}),H&&k&&b&&(0,l.jsx)(dP,{doc:m}),!_&&v&&(0,l.jsx)(dw,{doc:m,mode:f,isCommentsPanelOpen:r,toggleCommentsPanel:i}),!h&&p&&!_&&D&&T&&(0,l.jsx)(dD,{}),!h&&!_&&!k&&(0,l.jsx)(um,{doc:m}),!h&&!_&&(0,l.jsx)(dS,{doc:m,editorWrapperEl:a,scrollingParentSelector:t}),(0,l.jsx)(c.k,{children:(0,l.jsx)(tJ.DY,{showRing:!0})})]})]})}):null});var d6=n(35503),d8=n(59322);let d7=(0,nM.ZP)("mod+S"),d9=(0,nM.ZP)("mod+shift+O"),he=()=>{let e=(0,n8.p)();(0,j.useEffect)(()=>{let t=t=>{d7(t)&&(t.preventDefault(),e.isActive("save_toast")||e({id:"save_toast",title:(0,l.jsx)(m.cC,{id:"4ebE67"}),status:"success",duration:5e3,isClosable:!0}))},n=(0,eq.B$)({requiredCookie:"cardCollapseDebug=true"});return window.addEventListener("keydown",t),()=>{null==n||n(),window.removeEventListener("keydown",t)}},[e])},ht=()=>{let e=(0,U.qr)(),t=(0,U.TL)(),{editor:n}=(0,tw._i)();(0,j.useEffect)(()=>{if(!n)return;let i=i=>{if(!d9(i))return;i.preventDefault();let r=e.getState(),{cardIdMap:o,cardIds:s,memoState:{expandedCards:a}}=r.TipTap,l=(0,B.i2)(r),{total:c,expanded:u,cardIds:d}=s.reduce((e,t)=>{let n=!0===a[t],i=o.parents[t]||[],r=i.length>0,s=!l||i.includes(l);return r&&s&&(e.cardIds.push(t),e.total++,e.expanded+=n?1:0),e},{total:0,expanded:0,cardIds:[]});t((0,B.bj)({disable:!0})),setTimeout(()=>{t((0,B.bj)({disable:!1}))},100);let h=c===u;hn(n,100,!h),(0,rg.Nn)(d,h)};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e,n])},hn=(e,t,n)=>{let i;let r=(0,eW.cC)("editor");for(let t=200;t>0;t-=25){var o;let n;let s=(0,lo.Je)(e,r.scrollSelector,t);(null===(o=s.pos)||void 0===o?void 0:o.pos)&&(e.state.doc.nodeAt(s.pos.pos)?n=s.pos.pos:e.state.doc.nodeAt(s.pos.inside)&&(n=s.pos.inside),n&&(!i||n>i)&&(i=n))}if(!i){console.warn("[pinPageDuringAnimation] No result for getTopCenterIshNode");return}let s=hi(e,i,n);if(!s){console.warn("[pinPageDuringAnimation] No element for getElementToPin");return}(0,eq.wO)({element:s,requiredCookie:"cardCollapseDebug=true"});let a=+new Date,l=r.scroller.scrollTop,c=(0,eq.LY)(s,r.scrollSelector),u=l-c,d=u<0?0:Math.max(u+200,0),h=()=>{if(!s)return;let e=(0,eq.LY)(s,r.scrollSelector);r.scroller.scroll({top:l+(e-c-d)});let n=+new Date-a;n<t&&requestAnimationFrame(h)};h()},hi=(e,t,n)=>{let i=e.state.doc.resolve(t),r=e.state.doc.nodeAt(t),o=(0,lo.Sh)(e,t);if(!r){console.warn("[getElementToPin] nodeAt null for $pos",i);return}let s=(0,lo.nv)(i,()=>!0).reverse();for(s.push({start:i.start(i.depth+1),pos:t,depth:i.depth,node:r});s.length;){let t=s.shift();if(!t)continue;let i=(0,eV.KH)(t.node),r=(0,d6.SA)(t.node),a=(0,d8.CU)(t.node),l=i||t.node.isAtom?t.pos:t.start;o=(0,lo.Sh)(e,l);let c=!n&&i&&t.depth>2;if(c||r||a)break}for(;(null==o?void 0:o.offsetParent)===null&&o.parentElement;)o=o.parentElement;return o};var hr=n(95993),ho=n(39486),hs=n(9449),ha=n(22537),hl=n(1010),hc=n(52906),hu=n(42505),hd=n(6501),hh=n(13793);class hp extends hr.GJ{constructor(e){super({transform:async(t,n)=>{var i;if("data"!==t.event){n.enqueue(t);return}let{content:r}=t.data,o=r.attrs.id,s=r.content.find(e=>"cardAccentLayoutItem"===e.type);s&&(!s.attrs.background||(null===(i=s.attrs.background)||void 0===i?void 0:i.type)===hh.E.NONE)&&(s.attrs.background=(0,hd.Bv)(e,o),(0,hd.Tm)(r)),n.enqueue(t)}})}}var hf=n(50775),hm=n(97253),hx=n(90775);class hg extends hr.GJ{async loadImage(e){let{editor:t,loadImageId:n,loadImageParams:i,cardIndex:r,cardId:o,node:s,theme:a,interactionId:l}=e,c=await (0,hf.B)({loadImageId:n,loadImageParams:i,context:{docId:t.gammaDocId,workspaceId:t.gammaOrgId,interactionId:l}});if(this.streamingCardIndex===r){this.loadedImageAttrs[n]=(0,hm.j6)(s,c),"cardAccentLayoutItem"===s.type.name&&"error"===c.loadImageStatus&&(this.loadedImageAttrs[n]={...s.attrs,background:(0,hd.Bv)(a,o)});return}requestAnimationFrame(()=>{(0,hu.tf)({editor:t,loadImageId:n,newAttrs:c,node:s,theme:a,cardId:o})})}constructor({editor:e,theme:t,interactionId:n}){let i=async(i,r)=>{if("data"!==i.event){r.enqueue(i);return}let{index:o,id:s}=i.data;this.streamingCardIndex=o,(0,hx.N)(i.data.content,i=>{var r;if("text"===i.type)return;let a=t$.NB.fromJSON(e.schema,{type:i.type,attrs:i.attrs}),l=(0,hm.XU)(a);if(!l||"queued"!==l.loadImageStatus||!l.loadImageId||!l.loadImageParams)return;let{loadImageId:c,loadImageParams:u}=l;this.imageAttrs[c]||(this.imageAttrs[c]=a.attrs),this.loadImagePromises[c]||(this.loadImagePromises[c]=this.loadImage({editor:e,loadImageId:c,loadImageParams:u,cardIndex:o,cardId:s,theme:t,node:a,interactionId:n})),i.attrs=null!==(r=this.loadedImageAttrs[c])&&void 0!==r?r:this.imageAttrs[c]}),i.data.cardComplete&&this.streamingCardIndex++,r.enqueue(i)};super({transform:i}),this.streamingCardIndex=0,this.imageAttrs={},this.loadedImageAttrs={},this.loadImagePromises={}}}var hv=n(91760);let hj=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===t.length)throw Error("Cannot have empty path");let r=[...t],o={...e},s=o,a=0;for(;t.length>0;){if(!s.content)throw Error("Can't surround a node with children");let e=r.shift();if(0===r.length){let t=s.content.slice(0,e);t.push(n),s.content=t;break}if(a<i){let t=s.content.slice(0);t.splice(e,1,{...t[e]}),s.content=t,s=s.content[e]}else{let t=s.content.slice(0,e+1);t.splice(e,1,{...t[e]}),s.content=t,s=s.content[e]}a++}return o};class hb extends hr.GJ{constructor(e){let t=async(t,n)=>{if("done"===t.event||"cancel"===t.event){n.enqueue(t);return}let i=(0,U.bh)(),r=null;for(let o of function* e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if("text"===t.type){let e=t.text.split(" ");for(let t=0;t<e.length;t++){let o={type:"text",text:e.slice(0,t+1).join(" ")};yield hj(i,r,o,n)}return}if(!t.content){yield hj(i,r,t,n);return}let o=0;for(let s of t.content){let t=[...r,o];for(let r of e(s,n,i,t))yield r;o++}}(t.data.content,1)){if(!o)continue;r&&n.enqueue(r),r={id:t.id,event:"data",data:{...t.data,content:o,cardComplete:!1}};let s=(0,it.qn)(e)(i.getState());await hy(s)}r&&n.enqueue({...r,data:{...r.data,cardComplete:!0}})};super({transform:t}),this.index=0,this.startTime=performance.now()}}let hy=e=>new Promise(t=>hv.iK(t,e));var hC=n(98991);let hk=e=>{let{enabled:t,type:n}=e,i=(0,hC.As)(n),r=(0,j.useRef)(!0);(0,j.useEffect)(()=>{if(!t)return;let e=i.scroller;if(!e)return;let n=()=>{i.isAtBottom(40)?r.current=!0:r.current=!1},o=()=>{r.current=!1};return e.addEventListener("wheel",n,{passive:!0}),e.addEventListener("touchend",n,{passive:!0}),e.addEventListener("touchstart",o,{passive:!0}),e.addEventListener("touchmove",o,{passive:!0}),()=>{e.removeEventListener("wheel",n),e.removeEventListener("touchend",n),e.removeEventListener("touchstart",o),e.removeEventListener("touchmove",o)}},[i,t]);let o=(0,j.useCallback)(()=>{if(r.current){var e;null===(e=i.scroller)||void 0===e||e.scrollTo({top:i.scroller.scrollHeight,behavior:"auto"})}},[i]),s=(0,cJ.Z_)(o,100);return s};var hw=n(87148),hD=n(16268);let h_="[CONTENT_FILTER]",hE=()=>(0,l.jsxs)(nG.b,{status:"error",variant:"solid",children:[(0,l.jsx)(rM.z,{}),(0,l.jsx)(nB.X,{children:(0,l.jsxs)(t_.K,{children:[(0,l.jsx)("strong",{children:(0,l.jsx)(m.cC,{id:"7g5s/N"})}),(0,l.jsx)(u.x,{children:(0,l.jsx)(m.cC,{id:"Xp43Ei"})})]})})]}),hS=()=>(0,l.jsxs)(nG.b,{variant:"light",children:[(0,l.jsx)(tE.$,{size:"sm",mr:2}),(0,l.jsxs)(nB.X,{children:[(0,l.jsx)("strong",{children:(0,l.jsx)(m.cC,{id:"n2cF1o"})})," ",(0,l.jsx)(m.cC,{id:"BFGwQA"})]})]}),hA=e=>{let{editor:t,content:n,cardId:i,cardIndex:r,cardComplete:o}=e,s=(0,eU.N2)(t.state.doc,e=>(0,cY.KH)(e))[0],a=(0,eU.N2)(t.state.doc,e=>(0,cY.KH)(e)&&e.attrs.id===i)[0];if(!s)throw Error("Doc does not have a first card");let l=a?{from:a.pos,to:a.pos+a.node.nodeSize}:0===r?{from:s.pos,to:s.pos+s.node.nodeSize}:t.state.doc.nodeSize-3;try{if(t.commands.insertContentAt(l,n,{updateSelection:0===r}),o&&0===r){let e=(0,cT.t)(t.state.doc.resolve(s.pos));e&&t.commands.command(t=>{let{tr:n}=t;return n.setSelection(e),!0})}}catch(e){console.warn("[useCreateFromStream] ERROR updating card"),console.warn(e)}},hT=e=>{let{docId:t,aiOptions:n,store:i,generateInfo:r,editor:o,lazyImages:s}=e;if(!r.lastEventId||!r.streamId||!r.interactionId){console.error("Trying to resume stream for doc (id=".concat(t,") without lastEventId or streamId or interactionId"),{lastEventId:r.lastEventId,streamId:r.streamId,interactionId:r.interactionId});return}ha.a.trackRequestSent(i,{interface:"wizard",streaming:!0,interactionId:r.interactionId,isResuming:!0});let{stream:a}=(0,hs.pM)({interactionId:r.interactionId,lastEventId:r.lastEventId,streamId:r.streamId,retries:3}),l={preserveLayouts:!!n.preserveLayouts,imageOptions:n.imageOptions||{},docFormatKey:(0,hw.hx)((0,hw.VA)(o)).key,lazyImages:s,theme:(0,B.Pu)(i.getState())};return(0,ho.Nl)({stream:a,docId:t,interactionId:r.interactionId,lastCompletedCardId:r.lastCompletedCardId,lastCompletedCardIndex:r.lastCompletedCardIndex,options:l,store:i})},hI=(e,t)=>{let n=(0,U.CG)(B.Pu),i=(0,U.qr)(),r=(0,U.TL)(),o=(0,U.CG)(B.KV),s=(0,tr.ye)("streamResumingEnabled"),a=(0,tr.ye)("generatorLazyImages"),l=(0,j.useRef)(!1),c=(0,tr.ye)("generatorLazyImages"),{isStreaming:u,onStreamData:d,onStreamDone:h,onStreamError:p,onStreamStart:f,onAbortStream:m}=hO({docId:e}),x=hk({enabled:u,type:"editor"}),g=(0,j.useCallback)(async r=>{let o,s;if(!t)return;f({editor:t});let a=hM({streamResponse:r,editor:t,store:i,theme:n,docId:e}),c=a.getReader();try{for(;!(o=await c.read()).done;)if(o.value){if(l.current){console.log("[AIStream] has aborted -- no longer reading stream");break}s=o.value,"data"===s.event&&(d({value:s.data,editor:t,streamResponse:r}),x())}}catch(e){p({err:e,streamResponse:r,editor:t});return}l.current||(s&&"done"!==s.event&&console.error('[AIStream] incomplete stream: last message received is not `event="done"`',{lastMessage:s}),h({editor:t,streamResponse:r}))},[e,t,d,h,p,f,x,i,n]);(0,$.v)(()=>{if(!t||!o||u||!e)return;let n=(0,it.oH)(e)(i.getState()),r=(0,it.nl)(i.getState());if(n){"running"===n.status&&g(n);return}if(!s||r)return;let{generateInfo:a,generateStatus:l,aiOptions:d}=(0,hw.VA)(t);if("streaming"!==l){let n=new URLSearchParams(window.location.search);if(n.get("restream")){let n={interactionId:a.interactionId,streamId:a.streamId},r=hT({docId:e,aiOptions:d,generateInfo:{...n,lastEventId:"0",lastCompletedCardId:null,lastCompletedCardIndex:null},editor:t,store:i,lazyImages:c});r&&g(r)}return}let h=(0,B.yx)(i.getState()),p=(null==h?void 0:h.createdTime)&&Date.now()-new Date(h.createdTime).getTime()>36e5;if(p){t.commands.updateAttributesAtPos(0,{generateStatus:"done"});return}let f=hT({docId:e,generateInfo:a,editor:t,store:i,aiOptions:d,lazyImages:c});f&&g(f)},[e,t,i,o,f,p,d,h,s,g,u,a,c],[t,o]),(0,j.useEffect)(()=>()=>{let n=(0,it.oH)(e)(i.getState());t&&n&&"running"===n.status&&(l.current=!0,m({editor:t,streamResponse:n}))},[r,e,m,t,i])},hO=e=>{let{docId:t}=e,n=(0,n8.p)(),i=(0,U.TL)(),r=(0,U.qr)(),o=(0,tr.ye)("aiWizardUploadImages"),[s,a]=(0,j.useState)(!1),c=(0,tr.ye)("debugLogging"),u=(0,j.useRef)(null);(0,j.useEffect)(()=>()=>{u.current&&(n.close(u.current),u.current=null)},[n]);let d=(0,j.useCallback)(()=>{u.current||(u.current=n({id:"ai-generating-toast",isClosable:!1,render:()=>hS(),position:"top",duration:null}))},[n]),h=(0,j.useCallback)(e=>{let{editor:t}=e;t&&(a(!0),t.commands.setAIGenerationRunning(!0),d())},[d]),p=(0,j.useCallback)(e=>{let{editor:t,value:n,streamResponse:i}=e;if(!i||!t)return;let{id:r,cardComplete:s,index:a,content:l}=n;hA({editor:t,content:l,cardId:r,cardIndex:a,cardComplete:s}),s&&o&&(0,hu.g1)({editor:t,cardId:r})},[o]),f=(0,j.useCallback)(e=>{var t,o,s;let{editor:d,streamResponse:h}=e;if(!d||!h)return;let p=h.id,f=(0,hw.hx)((0,hw.VA)(d)),{aiOptions:x,generateInfo:g}=(0,hw.VA)(d);a(!1),d.commands.setAIGenerationRunning(!1),d.commands.updateAttributesAtPos(0,{generateStatus:"done"});let v=(0,hc.NV)(),j=v.debugInfo();c&&console.log("[AIStream] ImageStore DEBUG",{imageStore:v,debug:j}),(0,hc.Uu)(),i((0,it.G0)({id:p,status:"complete"}));let b=(0,hD.R)(d),y=new TextEncoder().encode(JSON.stringify(d.state.doc.toJSON())),C=b?b/y.byteLength:void 0;ha.a.trackStreamComplete(r,p,{imageProvider:null===(t=x.imageOptions)||void 0===t?void 0:t.provider,numImageSearches:j.requests.length,imageSearches:j.requests,ydocToJsonRatio:C});let k=(0,B.yx)(r.getState());k&&(null===(o=k.docGenerateInput)||void 0===o?void 0:o.id)?(0,td.d)((null===(s=x.imageOptions)||void 0===s?void 0:s.provider)==="aiGenerated"?"generateV2WithImages":"generateV2",k.organization,p):(0,td.d)("wizardCreation",null==k?void 0:k.organization,p),u.current&&n.update(u.current,{title:(0,l.jsx)(m.cC,{id:"2/LpWt",values:{0:f.generationLabel||f.label}}),status:"success",position:"top",duration:3e3,isClosable:!0})},[i,c,r,n]),x=(0,j.useCallback)(e=>{let{err:o,editor:s,streamResponse:d}=e,h=d.id,{errorMessage:p,errorCode:f}=(0,hl.uS)(o);console.error("StreamError: ",{interactionId:h,errorMessage:p,errorCode:f,stack:o.stack}),c&&console.log("StreamError: (".concat(f,") - ").concat(p),o.stack),a(!1),s.commands.setAIGenerationRunning(!1),s.commands.updateAttributesAtPos(0,{generateStatus:"done"}),(0,hc.Uu)(),i((0,it.G0)({id:h,status:"error"}));let x=(0,it.Sn)(h)(r.getState());if(x){let{latency:e,...n}=x;(0,tc.pQ)({...n,errorName:"StreamError",errorMessage:p,errorCode:f,outputMessage:"",latency:e||performance.now()-n.startTime,isResuming:d.isResuming,docId:t})}u.current&&(p===h_?n.update(u.current,{render:hE,position:"top",duration:null,isClosable:!0}):n.update(u.current,{title:(0,l.jsx)(m.cC,{id:"sbsGk/"}),status:"error",position:"top",duration:null,isClosable:!0}))},[i,t,c,r,n]),g=(0,j.useCallback)(e=>{let{editor:t,streamResponse:n}=e,o=n.id;a(!1),t.commands.setAIGenerationRunning(!1),ha.a.trackStreamAbort(r,{interactionId:o,abortReason:"leave-editor"}),i((0,it.Of)({id:o}))},[i,r]);return{isStreaming:s,onStreamStart:h,onStreamData:p,onStreamError:x,onStreamDone:f,onAbortStream:g}},hM=e=>{let{streamResponse:t,editor:n,store:i,docId:r,theme:o}=e,{id:s,stream:a}=t,l=!0;return a.pipeThrough(new hp(o)).pipeThrough(new hb(t.id)).pipeThrough(new hg({editor:n,theme:o,interactionId:s})).pipeThrough(new hr.GJ({transform(e,t){if("done"===e.event&&"content_filter"===e.finishReason){t.error(Error(h_));return}t.enqueue(e)}})).pipeThrough((0,ho.c1)(e=>{l&&"data"===e.event&&(ha.a.trackStreamStart(i,{interactionId:s,docId:r}),t.isResuming&&(n.commands.deleteCardsAfter(t.lastCompletedCardId||null),t.lastCompletedCardId&&(console.log("[AIStream] refetchLazyImages",t.lastCompletedCardId),(0,hu.JZ)({editor:n,lastCompletedCardId:t.lastCompletedCardId,theme:o}))),l=!1),"data"===e.event&&e.data.cardComplete&&n.commands.updateNestedAttributesAtPos(0,{generateInfo:{lastEventId:e.id,lastCompletedCardId:e.data.id,lastCompletedCardIndex:e.data.index}})}))},hF="doc_archived_warning",hR=(e,t)=>{let n=(0,n8.p)(),[i]=(0,C.iX9)(),[r]=(0,C.sJX)(),o=null==e?void 0:e.site;(0,j.useEffect)(()=>()=>{n.close(hF)},[]),(0,j.useEffect)(()=>{if(o&&!o.archived){n.close(hF);return}!e||e.site||e.archived||n.close(hF)});let s=(0,j.useCallback)(async()=>{if((null==o?void 0:o.id)&&await r({variables:{id:o.id},optimisticResponse:{unarchiveSite:{id:o.id,__typename:"Site"}}}),!(null==e?void 0:e.id))return;let t={id:e.id};await i({variables:t,optimisticResponse:{unarchiveDoc:{...t,archived:!1,__typename:"Doc"}}}),n({title:(0,l.jsx)(m.cC,{id:"o8va6N"}),status:"success",position:"top",isClosable:!0,duration:5e3})},[null==e?void 0:e.id,n,null==o?void 0:o.id,i,r]);(0,j.useEffect)(()=>{e&&t===tk.Z.COLLABORATIVE&&((null==o?void 0:o.archived)||(null==e?void 0:e.archived))&&!n.isActive(hF)&&n({id:hF,title:(0,l.jsxs)(u.x,{"data-testid":"trash-confirmation-toast",children:[(0,l.jsx)(m.cC,{id:"fkHPZu"})," ",(0,l.jsx)(iJ.r,{textDecoration:"underline",onClick:s,children:(0,l.jsx)(m.cC,{id:"7wfwc0"})})]}),status:"warning",position:"top",isClosable:!1,duration:null})},[e,t,s,o,n,i])},hN=()=>{let e=(0,tr.ye)("filmstrip"),t=(0,U.CG)(tG.fh),n=(0,nY.Br)("comment"),i=(0,U.CG)(B.gh),r=(0,U.CG)((0,Q.SL)("left")),o=(0,U.CG)(ek.Lw);return e&&t===tk.Z.COLLABORATIVE&&n&&i===eZ.q.DOC_VIEW&&!(0,ey.s2)()&&!r&&!o};var hP=n(85e3),hL=n(60265);let hz=()=>{let e=ee(),t=et(),n=hG(),i=(0,es.i)({base:!1,lg:!0,[n?"3xl":"2xl"]:!1}),r=(0,U.CG)(B.Hl),o=(0,U.CG)(cu.GX),s=hN(),a=(0,hP.k)(),l=(0,sh.S)({base:"0px",[hL.K0]:nS.bk})||"0px",{width:c}=cV(),u=(0,j.useMemo)(()=>({"--doc-padding-left":o&&s&&i?"".concat(c,"px"):"0px","--doc-padding-right":r?l:a?"60px":"0px","--present-padding-left":"".concat(e,"px"),"--present-padding-right":"".concat(t,"px"),"--comment-slide-margin":l}),[c,o,e,r,t,a,i,l,s]);return u},hG=()=>{let{editor:e}=(0,tw._i)(),{defaultContentWidth:t}=(0,U.CG)(B.US);if("lg"===t)return!0;if(!e)return!1;let{doc:n}=e.state;return(0,lo.Jn)(n.firstChild.content).some(e=>(0,cY.KH)(e)&&"lg"===e.attrs.container.width)};var hU=n(85679),hB=n(82655),hH=n(44663),hW=n(27902);let hV=e=>{let{launchIntercomUI:t}=e;return function(e){let{onClose:n}=e;return(0,l.jsxs)(c.k,{p:4,color:"white",bg:"yellow.500",borderRadius:"md",alignItems:"center",position:"relative",children:[(0,l.jsx)(eJ.P,{size:"sm",onClick:n,position:"absolute",insetEnd:1,top:1}),(0,l.jsx)(f.G,{icon:hB.xHz,size:"2x"}),(0,l.jsxs)(c.k,{direction:"column",ml:3,children:[(0,l.jsx)(d.xu,{children:(0,l.jsx)(u.x,{lineHeight:6,fontSize:"sm",children:(0,l.jsx)(m.cC,{id:"4YARE9",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc},components:{0:(0,l.jsx)("b",{})}})})}),(0,l.jsx)(u.x,{lineHeight:6,fontSize:"sm",pt:2,children:(0,l.jsx)(m.cC,{id:"Enj8Kw",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc},components:{0:(0,l.jsx)(ex.z,{as:iJ.r,variant:"link",textDecoration:"underline",fontSize:"sm",onClick:()=>{t()},colorScheme:"white"})}})})]})]})}},hq="no-snapshot-warning",hZ=(e,t)=>{let n=(0,hH.G)(),i=(0,n8.p)(),r=(0,hW.z$)(),o=null==e?void 0:e.id,s=t===tk.Z.COLLABORATIVE&&(null==e?void 0:e.currentSnapshotId)===null;(0,j.useEffect)(()=>{!s||i.isActive(hq)||(i({id:hq,render:hV({launchIntercomUI:n}),duration:null,position:"top",isClosable:!0}),null==r||r.track(ez.xW.NO_CURRENT_SNAPSHOT,{docId:o}))},[r,o,n,s,i])},hK=e=>{let t=(0,U.TL)(),n=(0,U.CG)(cu.GX),i=(0,j.useRef)(!1);(0,j.useEffect)(()=>{!e||i.current||n||(i.current=!0,t((0,cu.dQ)({isOpen:!0})))},[t,n,e])},hY=e=>{let{togglePagesPanel:t,isPagesPanelOpen:n}=e,i=(0,U.TL)(),r=(0,U.qr)(),{asPath:o}=(0,ej.useRouter)(),s=(0,U.CG)(ek.tv),a=(0,j.useRef)(n),l=(0,eO.BZ)(o),c=(0,j.useRef)(t);c.current=t,(0,rf.r)(()=>{let e=(0,Q.SL)("left")(r.getState()),t=c.current;l&&e?(t({override:"closed",disableTransition:!1}),a.current=!0):l||t({override:a.current?"open":"closed",disableTransition:!1})},[l]),(0,j.useEffect)(()=>{let e=l?(0,ey.s2)()?"mobile":s||"desktop":null;i((0,ek.Tj)({previewSize:e}))},[i,l,s])};var hX=n(56675);let h$=e=>{let t=(0,hX.x)(),n=(0,U.CG)((0,sI.cn)(e));(0,j.useEffect)(()=>{n&&t.cache.updateQuery({query:io.yE1,variables:{id:e}},e=>{if(!(null==e?void 0:e.doc))return e;let t=e.doc;return t.titleEdited?e:{doc:{...t,title:n}}})},[n,t,e])};var hJ=n(56400);let hQ=(e,t)=>{let{isUnauthorized:n}=(0,nh._)();(0,ez.If)(i=>{!0!==n&&void 0!==n&&(i.track(ez.AA.DOC_VIEWED,{doc_id:e}),t===tk.Z.EXAMPLE_STATIC&&i.track(ez.AA.EXAMPLE_VIEWED,{doc_id:e}))},[e,t,n]),(0,hJ.d)();let i=(0,tr.ye)("realUserMetrics"),r=t===tk.Z.COLLABORATIVE&&i,o=(0,tr.ye)("rumKeystrokeSampleRate");(0,rx.lh)(r,o)},h0=e=>{let t=(0,b.I0)(),n=(0,ez.z$)();(0,j.useEffect)(()=>{let i;let r=()=>{let r=(0,U.bh)().getState();i=(0,B.Q5)(r),(0,rg.I7)(e),t((0,B.lx)({isEditingDisabled:!0})),null==n||n.trackDocEvent(ez.AA.DOC_PRINTED)},o=()=>{t((0,B.lx)({isEditingDisabled:!1})),t((0,B.xn)({expandedCardsMap:i}))};return window.addEventListener("beforeprint",r),window.addEventListener("afterprint",o),()=>{window.removeEventListener("beforeprint",r),window.removeEventListener("afterprint",o)}},[t,e,n])},h1="doc-root",h2=e=>{let{isConnected:t}=e;return(0,l.jsx)(c.k,{flex:1,alignItems:"center",justifyContent:"center",color:"gray.500",fontSize:"2xl",children:t?(0,l.jsx)(m.cC,{id:"svObPT",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}):(0,l.jsxs)(c.k,{m:8,alignItems:"center",direction:"row",children:[(0,l.jsx)(f.G,{icon:p.bKP,size:"4x"}),(0,l.jsx)(u.x,{ml:8,children:(0,l.jsx)(m.cC,{id:"qercPA",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc},components:{0:(0,l.jsx)("strong",{})}})})]})})},h3=e=>{let{doc:t,user:n,docEditorType:i}=e,r=(0,k.$m)(t,n),o=(0,b.v9)(B.gh),s=i===tk.Z.COLLABORATIVE&&!r,a=s&&o===eZ.q.SLIDE_VIEW,c=i===tk.Z.COLLABORATIVE&&!n;return c?(0,l.jsx)(i5.m,{docWorkspace:null==t?void 0:t.organization}):a?(0,l.jsx)(K,{}):s?(0,l.jsx)(_.C,{showTourReplay:!0}):null},h5=(0,tw.eT)(e=>{let{docEditorType:t}=e,n=(0,U.TL)(),{docId:i,isUnauthorized:r,passwordRequired:o,setCollaborativeEditorInstance:s,editor:a}=(0,tw._i)(),u=(0,U.CG)(tG.yx),p=(0,U.CG)(eA.lH),f=(0,U.CG)(eA.$U),m=(0,e_.O1)(),{isConnected:g}=(0,C.$gs)(),_=(0,tH.mb)(null==u?void 0:u.id,f),[E,S]=(0,j.useState)(null),A=(0,U.CG)(ek.tv),T=null!==A,I=(0,b.v9)(B.gh),{user:O}=(0,e$.SE)();(0,w.F3)(),hR(u,t),hZ(u,t),hI(i,E===i?a:void 0),h$(i),hQ(i,t),eI(a,t===tk.Z.COLLABORATIVE),(0,hU.j)(),he();let{editorAnimationsClass:M,editorAnimationsCSSVars:F}=(0,eR.k)({editor:a,scrollingParentSelector:".".concat(h1),disabledOverride:T});ht(),ls(a,".".concat(h1)),lp(a),tC(),h0(a),(0,k.DD)(u,t===tk.Z.COLLABORATIVE);let R=(0,j.useRef)(null),N=(0,eM.Yy)(),P=(0,j.useMemo)(()=>(0,eN.vu)(N),[N]),L=hN();hK(L),console.debug("%c[DocEditorComponent] RENDER - ".concat(i),"background-color: gold");let{togglePanel:z,isPanelOpen:G}=en(a7,m),{togglePanel:H,isPanelOpen:W}=en(nO),{togglePanel:V,isPanelOpen:q}=en(n6);n4({toggleDesignPartnerPanel:V,isDesignPartnerPanelOpen:q,editor:a});let{togglePanel:Z,isPanelOpen:K}=en(tv);tb({toggleCardNotesPanel:Z,isCardNotesPanelOpen:K,editor:a}),(0,j.useEffect)(()=>()=>{n((0,Q.qo)()),n((0,eA.mc)())},[n]),hY({togglePagesPanel:z,isPagesPanelOpen:G});let Y=(0,eO.Vr)(p)&&(null==p?void 0:p.navEnabled)&&!T&&I!==eZ.q.SLIDE_VIEW,$=!!(p&&!T&&p.routes.length>1&&a);(0,tx.vm)(()=>{$&&z({override:"open",disableTransition:!1})},[z,$],[$]),(0,j.useEffect)(()=>{I===eZ.q.SLIDE_VIEW&&z({override:"closed",disableTransition:!0})},[I,z]);let ee=(0,j.useCallback)(()=>!!(a&&a.state.selection.empty),[a]),{leftPanelLifecycle:et,rightPanelLifecycle:er,globalPanelLifecycle:eo}=ei(),es=(0,X.dU)(null==u?void 0:u.organization),ea=(0,D.U)(null==u?void 0:u.title,es),el=x.ag._({id:"X6YCwz"}),ec=x.ag._({id:"abr3hR"}),eu=hz(),ed=(0,j.useMemo)(()=>{let e=Y?{"--doc-padding-top":eP.ik}:void 0;return{...P,...eu,...e}},[P,eu,Y]),ef=(null==u?void 0:u.archived)||(null==p?void 0:p.archived)||T,em=!(0,eC.LQ)(window.location.href),ex=T&&f?(0,l.jsx)(ew,{docId:i}):em?(0,l.jsx)(d4,{isDark:N,scrollingParentSelector:".".concat(h1),editorWrapperEl:R.current,docEditorType:t,isPagesPanelOpen:G,togglePagesPanel:z,isCommentsPanelOpen:W,toggleCommentsPanel:H}):null,eg=ex?49:0;return(0,l.jsx)(tH.DN.Provider,{value:_,children:(0,l.jsx)(y.Sy,{children:(0,l.jsxs)(c.k,{direction:"column",h:"100%",children:[(0,l.jsx)("style",{id:"editorStyleOverride",children:"body {overflow: hidden;}"}),(0,l.jsx)(v(),{children:(0,l.jsx)("title",{children:ea})}),(0,l.jsx)(nc,{doc:u,editor:a}),(0,l.jsx)(eD.H9,{isEnabledFn:ee}),ex,o?(0,l.jsx)(lr,{docId:i}):r?(0,l.jsx)(h2,{isConnected:g}):(0,l.jsxs)(c.k,{id:"doc-main",direction:"row",w:"100%",h:"calc(100% - ".concat(eg,"px)"),sx:{"--editor-padding-top":"".concat(eg,"px")},"data-testid":"doc-editor-root",ref:R,children:[(0,l.jsx)(ep,{panelLifecycle:et}),(0,l.jsx)(c.k,{flex:"1",direction:"column",position:"relative",minWidth:"0",h:"100%",children:(0,l.jsxs)(d.xu,{flex:"1",overflowY:"auto",overflowX:"hidden",pos:"relative",minWidth:"0",h:"100%",className:(0,h.cx)(h1,M,q&&"design-partner-panel-open"),style:{"--ai-editing-label":"'".concat(el,"'"),"--ai-generating-label":"'".concat(ec,"'"),...F},sx:ed,children:[T&&(0,l.jsx)(tL,{loading:i!==E,docId:i,editor:a,previewSize:A},"".concat(i,"__preview-editor")),t===tk.Z.PUBLIC_STATIC?(0,l.jsx)(ld,{docId:i,snapshotId:null==u?void 0:u.currentSnapshotId,scrollingParentSelector:".".concat(h1),onCreate:s}):t===tk.Z.EXAMPLE_STATIC?(0,l.jsx)(i8,{docId:i,snapshotId:null==u?void 0:u.currentSnapshotId,scrollingParentSelector:".".concat(h1),onCreate:s}):(0,l.jsxs)(J.Mn.Provider,{value:eo,children:[(0,l.jsx)(eF.Ge,{doc:u,docId:i,readOnly:ef,hideForPreview:T,onCreate:e=>{s(e),S(e.gammaDocId),e.on("destroy",()=>{S(null)})},scrollingParentSelector:".".concat(h1),animationsExtensionEnabled:!0},"".concat(i,"__collaborative-editor")),a&&(0,l.jsx)(eX,{editor:a})]}),Y&&(0,l.jsx)(tB,{}),!T&&(0,l.jsx)(iY,{editor:a},i),(0,l.jsx)(lG,{editor:a})]})}),(0,l.jsx)(eh,{panelLifecycle:er}),(0,l.jsx)(eL.a,{editorId:"main",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h3,{doc:u,user:O,docEditorType:t}),L&&(0,l.jsx)(uu,{})]})})]})]})})})});var h4=n(69251),h6=n(11881),h8=n(53596);let h7=e=>{let{theme:t,onClick:n,isChecked:i,index:r,startIndex:o}=e;return(0,l.jsxs)(d.xu,{gridColumnStart:r+1-o,display:o>r?"none":"block",gridRow:1,as:h6.f,p:2,transition:"all 0.2s ease-in-out",bgColor:i?"trueblue.100":"linen.50",textAlign:"left",tabIndex:0,borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:i?void 0:"outline"},outline:"none",onClick:n,_hover:{bgColor:i?"trueblue.100":"gray.100"},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&n()},"data-theme-id":t.id,"data-testid":i?"current-theme-preview":void 0,cursor:"pointer",children:[(0,l.jsx)(h8.n,{theme:t}),(0,l.jsxs)(t_.K,{direction:"row",spacing:1,pt:1,children:[i&&(0,l.jsx)(nt.n,{w:3,h:"auto",mr:1,color:"trueblue.700"}),(0,l.jsx)(u.x,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:i?"trueblue.700":void 0,children:t.name})]})]})};h7.displayName="DemoDocThemePreview";let h9="linen.50",pe=e=>{let{templateTheme:t,setTheme:i,currentThemeId:r}=e,o=(0,b.v9)(B.gh),s=o===eZ.q.SLIDE_VIEW,[a,u]=(0,j.useState)([]),[d,h]=(0,j.useState)(!1),[x,g]=(0,j.useState)(0),v=(0,es.i)({base:3,md:4,lg:5})||3;(0,j.useEffect)(()=>{n.e(4392).then(n.bind(n,44392)).then(e=>{u(e.GLOBAL_THEMES)})},[]);let y=[...t?[t]:[],...a.filter(e=>e.id!==(null==t?void 0:t.id))],C=(0,j.useCallback)(e=>{1===e?g(e=>e+1):g(e=>e-1)},[]);return s?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(i7.h,{children:(0,l.jsxs)(c.k,{w:"100%",position:"absolute",bottom:0,left:0,bgColor:h9,zIndex:"sticky",direction:"column",borderTop:"3px solid var(--chakra-colors-trueblue-500)",minH:12,p:2,justifyContent:"center",children:[(0,l.jsx)(c.k,{alignItems:"flex-end",justify:"flex-end",children:(0,l.jsx)(ex.z,{variant:"ghost",size:"sm",rightIcon:(0,l.jsx)(f.G,{icon:d?p.gc2:p.onQ}),onClick:()=>h(e=>!e),children:d?(0,l.jsx)(m.cC,{id:"yz7wBu"}):(0,l.jsx)(m.cC,{id:"x6tIe+"})})}),(0,l.jsx)(c.k,{justify:"flex-start",align:"flex-start",bgColor:h9,w:"100%",children:d&&(0,l.jsxs)(t_.K,{direction:"row",align:"center",justify:"center",w:"100%",children:[(0,l.jsx)(T.h,{"aria-label":"Left",onClick:()=>C(-1),variant:"ghost",isDisabled:0===x,icon:(0,l.jsx)(f.G,{icon:p.EyR})}),(0,l.jsx)(h4.r,{w:"100%",flex:1,overflow:"hidden",padding:2,transition:"all 0.2s ease-in-out",templateColumns:["repeat(".concat(v,", calc(100% / ").concat(v," - 1em))")],gap:"0 1em",bgColor:h9,children:y.map((e,t)=>(0,l.jsx)(h7,{index:t,startIndex:x,isChecked:e.id===r,theme:e,onClick:()=>{i(e)}},e.id))}),(0,l.jsx)(T.h,{"aria-label":"Right",variant:"ghost",isDisabled:x+v>y.length,onClick:()=>C(1),icon:(0,l.jsx)(f.G,{icon:p.yOZ})})]})})]})})};var pt=n(89833),pn=n(34303);let pi=[{description:(0,l.jsx)(m.cC,{id:"gtWy3j"}),shortcut:["",""]},{description:(0,l.jsx)(m.cC,{id:"UCxK2S"}),shortcut:["",""]},{description:(0,l.jsx)(m.cC,{id:"IkakN2"}),shortcut:"Esc"},{description:(0,l.jsx)(m.cC,{id:"CgmvBu"}),shortcut:"S"},{description:(0,l.jsx)(m.cC,{id:"rEj/lx"}),shortcut:"Enter"},{description:(0,l.jsx)(m.cC,{id:"dQU33K"}),shortcut:"Mod+Shift+O"},{description:(0,l.jsx)(m.cC,{id:"K0Oq/D"}),shortcut:"R"}],pr=e=>{let{editorWrapperEl:t,scrollingParentSelector:n}=e,{enterSlideView:i,exitSlideView:r,setExitedFullscreenByClick:o,isFullscreen:s,enterFullscreen:a,exitFullscreen:c}=r_({editorWrapperEl:t,scrollingParentSelector:n}),u=(0,U.CG)(B.gh),d=(0,j.useRef)(u);return(0,j.useEffect)(()=>{d.current=u},[u]),(0,l.jsxs)(em.U,{children:[(0,l.jsxs)(eg.h,{isAttached:!0,size:"sm",children:[(0,l.jsx)(ev.kH,{label:u===eZ.q.DOC_VIEW?(0,l.jsx)(m.cC,{id:"ek5OwP",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}):(0,l.jsx)(m.cC,{id:"43JI0J",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}),children:(0,l.jsx)(ex.z,{variant:u===eZ.q.DOC_VIEW?"solid":"plain",cursor:u===eZ.q.SLIDE_VIEW?"pointer":"auto",onClick:()=>{u===eZ.q.SLIDE_VIEW&&r()},leftIcon:(0,l.jsx)(f.G,{icon:p.cwv}),children:(0,l.jsx)(m.cC,{id:"7Zdnlq"})})}),(0,l.jsx)(ev.kH,{label:u===eZ.q.SLIDE_VIEW?(0,l.jsx)(m.cC,{id:"Zfr5aa",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}):(0,l.jsx)(m.cC,{id:"rK6Cev",values:{GAMMA_ARTIFACT_PROPER_NOUN:Y.Yc}}),children:(0,l.jsx)(ex.z,{variant:u===eZ.q.SLIDE_VIEW?"solid":"plain",cursor:u===eZ.q.DOC_VIEW?"pointer":"auto",onClick:()=>{u===eZ.q.DOC_VIEW&&i({fullscreen:!1})},leftIcon:(0,l.jsx)(f.G,{icon:p.bgy}),children:(0,l.jsx)(m.cC,{id:"FOoDGS"})})})]}),u===eZ.q.SLIDE_VIEW&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(rS.i,{orientation:"vertical"}),(0,l.jsx)(ev.kH,{label:s?(0,l.jsx)(m.cC,{id:"IkOhTI"}):(0,l.jsx)(m.cC,{id:"q8ARHN"}),children:(0,l.jsx)(T.h,{size:"sm","aria-label":s?x.ag._({id:"IkOhTI"}):x.ag._({id:"q8ARHN"}),borderRadius:"md",icon:(0,l.jsx)(f.G,{icon:s?p.Qj4:p.TL5}),onClick:s?()=>{o(!0),c()}:a})}),(0,l.jsxs)(S.J,{children:[(0,l.jsx)(A.x,{children:(0,l.jsx)(ex.z,{size:"sm",variant:"plain",fontWeight:"normal",children:(0,l.jsx)(m.cC,{id:"77Emn0"})})}),(0,l.jsxs)(I.y,{border:"1px solid #eee !important",children:[(0,l.jsx)(uW.Q,{}),(0,l.jsx)(pt.u,{}),(0,l.jsx)(O.b,{children:(0,l.jsx)(pn.A,{list:pi})})]})]})]})]})},po=(0,j.memo)(function(e){let{scrollingParentSelector:t,editorWrapperEl:n}=e;(0,U.CG)(tG.yx);let i=(0,j.useRef)(null);return(0,l.jsx)(c.k,{ref:i,bg:"white",borderBottom:"3px solid var(--chakra-colors-trueblue-600)",position:"absolute",zIndex:"overlay",top:0,left:0,right:0,p:2,alignItems:"flex-start",justifyContent:"flex-start",pr:6,children:(0,l.jsx)(c.k,{direction:"column",w:"100%",children:(0,l.jsx)(pr,{editorWrapperEl:n,scrollingParentSelector:t})})})});var ps=n(5689),pa=n(91148);let pl=e=>{let{toggleToCPanel:t,initializeToCPanel:n,isToCPanelOpen:i}=e,{breakpoints:{xl:r}}=(0,pa.F)(),o=(0,U.CG)(B.gh),[s,a]=(0,j.useState)(o!==eZ.q.SLIDE_VIEW),[l,c]=(0,j.useState)(!1),u=(0,b.I0)();(0,tx.vm)(()=>{n()},[r,t,n,u],[]),(0,tx.vm)(()=>{o===eZ.q.SLIDE_VIEW?(a(i),t({disableTransition:!1,override:"closed"})):l&&o===eZ.q.DOC_VIEW&&t({disableTransition:!1,override:s?"open":"closed"})},[t,i,s,o,l],[o])},pc="doc-root",pu=(0,tw.eT)(e=>{var t;let{docEditorType:n=tk.Z.COLLABORATIVE}=e,{docId:i,setCollaborativeEditorInstance:r,editor:o}=(0,tw._i)(),s=(0,U.CG)(tG.yx);hQ(i,n),(0,hU.j)(),he(),ht(),ls(o,".".concat(pc)),lp(o),tC(),h0(o),(0,k.DD)(s,n===tk.Z.COLLABORATIVE);let a=(0,j.useRef)(null),u=null==s?void 0:s.theme,[h,p]=(0,j.useState)(()=>u),f=(0,U.TL)(),m=(0,j.useRef)(!1),{data:x}=(0,C.EDv)({variables:{docId:i,snapshotId:null==s?void 0:s.currentSnapshotId},skip:!(null==s?void 0:s.currentSnapshotId)}),g=null==x?void 0:null===(t=x.snapshot)||void 0===t?void 0:t.content.default;console.debug("%c[DemoDocEditorComponent] RENDER - ".concat(i),"background-color: gold"),(0,j.useEffect)(()=>{u&&!m.current&&(p(u),m.current=!0)},[u]),(0,j.useEffect)(()=>{if(!o)return;let e=null==h?void 0:h.config.accentBackgrounds;if(!e||0===e.length){g&&o.commands.setContent(g);return}o.commands.updateThemeAccentImages(e)},[o,h,g]);let{togglePanel:b,isPanelOpen:y,initPanel:w}=en(ps.Q);pl({toggleToCPanel:b,isToCPanelOpen:y,initializeToCPanel:w}),(0,j.useEffect)(()=>()=>{f((0,Q.qo)())},[f]);let{leftPanelLifecycle:D,globalPanelLifecycle:_}=ei();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{id:"editorStyleOverride",children:"body {overflow: hidden;}"}),(0,l.jsx)(v(),{children:(0,l.jsxs)("title",{children:["".concat(s?(0,sr.$)(s.title)+" | ":""),"Gamma"]})}),(0,l.jsxs)(c.k,{id:"doc-main",direction:"row",w:"100%",h:"100%","data-testid":"doc-editor-root",ref:a,children:[(0,l.jsx)(ep,{panelLifecycle:D}),(0,l.jsxs)(c.k,{flex:"1",direction:"column",position:"relative",minWidth:"0",h:"100%",children:[o&&(0,l.jsx)(po,{scrollingParentSelector:".".concat(pc),editorWrapperEl:a.current,setTheme:p,currentThemeId:(null==h?void 0:h.id)||(null==u?void 0:u.id),templateTheme:u}),(0,l.jsxs)(d.xu,{flex:"1",overflowY:"auto",overflowX:"hidden",minWidth:"0",h:"100%",className:pc,children:[(0,l.jsx)(ld,{docId:i,snapshotId:null==s?void 0:s.currentSnapshotId,scrollingParentSelector:".".concat(pc),onCreate:r,theme:h,hideMadeWithGammaBadge:!0}),(0,l.jsx)(lG,{editor:o,showNavigationControls:!0})]})]}),(0,l.jsx)(pe,{setTheme:p,currentThemeId:(null==h?void 0:h.id)||(null==u?void 0:u.id),templateTheme:u})]})]})});var pd=n(73077);let ph="body",pp=e=>{let t=(0,hC.As)(e),[n,i]=(0,j.useState)("up");return(0,j.useEffect)(()=>{let e=document.querySelector(t.scrollSelector);if(!e)return;let n=(null==e?void 0:e.scrollTop)||0,r=e=>Math.abs(e-n)>0,o=e=>{let t=e>n&&!(n>0&&0===e)&&!(e>0&&0===n);return t},s=()=>{let t=(null==e?void 0:e.scrollTop)||0;if(r(t)){let e=o(t)?"down":"up";i(e),n=t>0?t:0}},a=N()(()=>window.requestAnimationFrame(s),500,{leading:!0});return null==e||e.addEventListener("scroll",a),()=>null==e?void 0:e.removeEventListener("scroll",a)},[t.scrollSelector]),n};var pf=n(62685),pm=n(1887);let px=e=>{let t=(0,U.CG)(B.e_),n=(0,U.TL)(),i=(0,j.useCallback)(e=>{n((0,B.Qt)({docAttrs:{format:e}}))},[n]);return(0,l.jsx)(eg.h,{size:"sm",isAttached:!0,my:2,children:pm.n.map(e=>(0,l.jsx)(ex.z,{isActive:e.key===t.key,onClick:()=>i(e.key),children:n_()(e.label)},e.key))})},pg=(0,j.memo)(()=>(0,l.jsx)(d.xu,{w:"100%",h:"1px",bg:"gray.200",my:2,mx:-2,_first:{display:"none"},_last:{display:"none"}}));pg.displayName="MenuDivider";let pv=(0,j.memo)(e=>{let{icon:t,children:n,...i}=e;return(0,l.jsx)(d.xu,{as:"button",w:"100%",textAlign:"left",px:2,py:2,fontWeight:"500",color:"gray.700",transition:"all 0.2s",_hover:{bg:"gray.100"},_focus:{outline:"none"},_active:{bg:"gray.200"},borderRadius:"md",...i,children:(0,l.jsxs)(em.U,{children:[t&&(0,l.jsx)(d.xu,{children:t}),(0,l.jsx)(d.xu,{children:n})]})})});pv.displayName="MenuItem";let pj=e=>{var t,n;let{isOpen:i,onClose:r,doc:o,editingEnabled:s}=e,{user:a}=(0,e$.SE)(),{isConnected:d}=(0,C.$gs)(),h=(0,iQ.e)(),{editor:x}=(0,tw._i)(),g=(0,sr.$)(null==o?void 0:o.title),v=(null==o?void 0:o.createdTime)&&(0,sn.Z)((0,si.Z)(o.createdTime),"PPP"),b=null==o?void 0:o.id,{isOpen:y,onClose:k,onOpen:w}=(0,nl.M)({id:"analyticsPanelDisclosure"}),[D]=(0,C.LT4)(),[_]=(0,C.iX9)(),E=(0,ez.z$)(),S=(0,e$.py)("manage",o)&&!!a,A=(0,e$.py)("manage",o)&&!!a,T=!!(a&&0!==a.workspaceMemberships.length),I=(0,tr.ye)("docFormats"),O=(0,j.useCallback)(async()=>{if(!x)return;let e=x.getJSON();await h({docId:b,initialContent:e,source:"editor_toolbar_doc_menu_duplicate",newWindow:!1}),r()},[b,h,x,r]),M=(0,j.useCallback)(()=>{null==E||E.track(ez.AA.DOC_ANALYTICS_VIEWED,{docId:b,source:"toolbar_doc_menu",type:"personal"}),w()},[E,b,w]),F=(0,j.useCallback)(e=>()=>{if(!b)return;let t={id:b};e?D({variables:t,optimisticResponse:{archiveDoc:{...t,archived:e,__typename:"Doc"}}}):_({variables:t,optimisticResponse:{unarchiveDoc:{...t,archived:e,__typename:"Doc"}}})},[D,b,_]);return(0,l.jsxs)(l.Fragment,{children:[o&&(0,l.jsx)(ev.Aj,{isOpen:i,onClose:r,children:(0,l.jsxs)(c.k,{w:"100%",h:i?"100%":void 0,direction:"column",children:[(0,l.jsxs)(em.U,{align:"flex-start",p:6,children:[(0,l.jsxs)(t_.K,{spacing:0,children:[(0,l.jsx)(u.x,{fontSize:"2xl",fontWeight:"bold",letterSpacing:"tight",noOfLines:6,children:g}),(0,l.jsx)(u.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(m.cC,{id:"jlWdji",values:{createdTime:v}})}),(0,l.jsx)(ev.kH,{label:null==o?void 0:null===(t=o.createdBy)||void 0===t?void 0:t.email,children:(0,l.jsx)(u.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(m.cC,{id:"t490IT",values:{0:null==o?void 0:null===(n=o.createdBy)||void 0===n?void 0:n.displayName}})})})]}),(0,l.jsx)(e1.L,{}),(0,l.jsx)(eJ.P,{mt:-2,onClick:e=>{e.stopPropagation(),r()}})]}),(0,l.jsxs)(t_.K,{p:3,pt:0,children:[I&&(0,l.jsx)(px,{}),(0,l.jsx)(pg,{}),A&&(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.nNP,fixedWidth:!0}),onClick:()=>{r(),sa.T.emit("openSharePanel",{view:"invite"})},children:(0,l.jsx)(m.cC,{id:"iyga2M"})}),s&&(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.q2v,fixedWidth:!0}),onClick:()=>{r(),sa.T.emit("toggleThemeBlock",!0)},"data-testid":"mobile-theme-button",children:(0,l.jsx)(m.cC,{id:"W15e8B"})}),(0,l.jsx)(pg,{}),d&&(0,l.jsxs)(l.Fragment,{children:[!!a&&A&&(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.Ma4,fixedWidth:!0}),onClick:()=>{r(),M()},children:(0,l.jsx)(m.cC,{id:"qcxxQS"})}),T&&(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.kZ_,fixedWidth:!0}),onClick:O,children:(0,l.jsx)(m.cC,{id:"euc6Ns"})}),S&&(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.kwI,fixedWidth:!0}),onClick:()=>{r(),sa.T.emit("openSharePanel",{view:"export"})},children:(0,l.jsx)(m.cC,{id:"U8WPSi"})}),(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.gr5,fixedWidth:!0}),onClick:()=>{r(),sa.T.emit("openPageSetup","cards")},children:(0,l.jsx)(m.cC,{id:"Kx2GmY"})}),A&&(0,l.jsx)(pg,{}),A?o.archived?(0,l.jsx)(pv,{icon:(0,l.jsx)(f.G,{icon:p.ZeM,fixedWidth:!0}),onClick:F(!1),children:(0,l.jsx)(m.cC,{id:"yKu/3Y"})}):(0,l.jsx)(pv,{"data-testid":"doc-menu-trash-button",color:"red.500",icon:(0,l.jsx)(f.G,{icon:p.XAH,fixedWidth:!0}),onClick:F(!0),children:(0,l.jsx)(m.cC,{id:"1C/Yjq"})}):null]})]})]})}),o&&y&&(0,l.jsx)(o2,{doc:o,isAnalyticsPanelOpen:y,onAnalyticsPanelClose:k,mode:"full"}),s&&(0,l.jsx)(sW,{editor:x}),s&&(0,l.jsx)(dQ,{})]})},pb=e=>{var t,n,i;let{doc:r,editor:o,commentsEnabled:s,editingEnabled:a,onCommentFeedOpen:c,onTocOpen:d}=e,[h]=(0,uk.X)(W.H.lastHomeUrl,"/"),{user:m}=(0,e$.SE)(),x=(0,e$.py)("manage",r),g=(null==r?void 0:null===(t=r.comments)||void 0===t?void 0:t.filter(e=>e.status===C.Ux9.Open).length)||0,v=pp("editor"),y=(0,b.v9)(B.Pu),k=(0,pf.Jh)(y),w=null!==(n=y.config.bodyColor)&&void 0!==n?n:(0,t0.wj)(y)?"white":"gray.800",D=null!==(i=y.accentColor)&&void 0!==i?i:(0,t0.wj)(y)?"trueblue.300":"trueblue.700",_=(0,j.useCallback)(()=>{o&&o.commands.undo()},[o]),{isOpen:S,onOpen:A,onClose:I}=(0,E.q)();return r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(pj,{doc:r,isOpen:S,onClose:I,editingEnabled:a}),(0,l.jsxs)(em.U,{p:1,px:2,bg:"gray.50",shadow:"lg",position:"sticky",top:0,transitionProperty:"common",transitionDuration:"normal",transform:"up"==v?"translate(0px,0px)":"translate(0px,-100%)",opacity:"up"==v?1:0,zIndex:"sticky",sx:{...(0,pf.Oj)(k,y,!0),border:"none",filter:"none",borderRadius:0},color:w,children:[m&&(0,l.jsx)(nR(),{href:h,passHref:!0,legacyBehavior:!0,children:(0,l.jsx)(T.h,{as:iJ.r,"aria-label":"Home",color:w,_hover:{bg:"transparent",color:D},icon:(0,l.jsx)(f.G,{icon:p.J9Y,size:"1x"}),variant:"ghost"})}),(0,l.jsx)(u.x,{flex:1,fontSize:"sm",noOfLines:1,ml:2,color:w,children:null==r?void 0:r.title}),(0,l.jsxs)(eg.h,{variant:"ghost",children:[s&&(0,l.jsx)(ex.z,{color:w,_hover:{bg:"transparent",color:D},fontSize:"sm",onClick:c,leftIcon:(0,l.jsx)(f.G,{icon:p.Mzg}),children:g}),a&&(0,l.jsx)(T.h,{color:w,"aria-label":"Undo",onClick:_,_hover:{bg:"transparent",color:D},icon:(0,l.jsx)(f.G,{icon:p.X7o})}),!a&&(0,l.jsx)(T.h,{color:w,"aria-label":"Open table of contents",_hover:{bg:"transparent",color:D},onClick:d,icon:(0,l.jsx)(f.G,{icon:p.xiG})}),(x||a)&&(0,l.jsx)(T.h,{color:w,"aria-label":"Open toolbar",_hover:{bg:"transparent",color:D},onClick:A,icon:(0,l.jsx)(f.G,{icon:p.S6C})})]})]})]}):null},py=e=>{let{doc:t,docEditorType:n,commentsEnabled:i=!0}=e,{docId:r,setCollaborativeEditorInstance:o,editor:s}=(0,tw._i)(),{isOpen:a,onOpen:u,onClose:d}=(0,E.q)({id:"mobile-comment-feed-panel-drawer"}),{isOpen:h,onOpen:p,onClose:f}=(0,E.q)({id:"mobile-toc-drawer"}),[m,x]=(0,j.useState)(null);console.debug("%c[MobileEditorWrapper] RENDER - ".concat(r),"background-color: gold");let g=(0,tr.ye)("mobileEditing"),v=(0,e$.py)("edit",t),b=g&&v;return(0,l.jsx)(y.Sy,{children:(0,l.jsxs)(c.k,{ref:(0,j.useCallback)(e=>x(e),[]),direction:"column",flex:1,children:[(0,l.jsx)(pb,{doc:t,editor:s,onCommentFeedOpen:u,commentsEnabled:!b&&i,editingEnabled:b,onTocOpen:p}),n===tk.Z.PUBLIC_STATIC?(0,l.jsx)(ld,{docId:r,snapshotId:null==t?void 0:t.currentSnapshotId,scrollingParentSelector:ph,onCreate:o}):n===tk.Z.EXAMPLE_STATIC?(0,l.jsx)(i8,{docId:r,snapshotId:null==t?void 0:t.currentSnapshotId,scrollingParentSelector:ph,onCreate:o}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eF.Ge,{doc:t,docId:r,readOnly:!b,onCreate:o,scrollingParentSelector:ph}),s&&(0,l.jsx)(eX,{editor:s})]}),i&&a&&(0,l.jsx)(ev.Aj,{isOpen:a,onClose:d,drawerProps:{autoFocus:!1},children:(0,l.jsx)(nI,{onClose:d,editor:s})}),h&&(0,l.jsx)(ev.Aj,{isOpen:h,onClose:f,children:(0,l.jsx)(pd.o,{rootElement:m,handleClose:f})}),(0,l.jsx)(dB,{doc:t,showButton:!1}),(0,l.jsx)(eL.a,{children:(0,l.jsx)(iY,{editor:s})})]})})},pC=(0,tw.eT)(e=>{let{docEditorType:t}=e,{docId:n,isUnauthorized:i,editor:r}=(0,tw._i)();hQ(n,t),hI(n,r),(0,hU.j)();let o=(0,j.useRef)(null),s=(0,U.CG)(tG.yx);console.debug("%c[MobileDocViewerComponent] RENDER - ".concat(n),"background-color: gold");let a=t===tk.Z.COLLABORATIVE;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v(),{children:[(0,l.jsxs)("title",{children:["".concat(s?(0,sr.$)(s.title)+" | ":""),"Gamma"]}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, user-scalable=no"})]}),(0,l.jsx)(am.xB,{styles:{html:{overflowX:"hidden"},body:{overflow:"hidden scroll",WebkitOverflowScrolling:"touch"}}}),i?(0,l.jsxs)(c.k,{flex:1,alignItems:"center",justifyContent:"center",color:"gray.500",fontSize:"2xl",p:6,textAlign:"center",children:["It looks like you don't have access to this"," ",Y.Yc,"."]}):(0,l.jsx)(c.k,{id:"doc-main",direction:"column",w:"100%",h:"100%","data-testid":"doc-editor-root",ref:o,flex:"1",children:(0,l.jsx)(py,{doc:s,docEditorType:t,commentsEnabled:a})})]})})},55274:function(e,t,n){"use strict";n.d(t,{AA:function(){return d},DN:function(){return c},mb:function(){return u}});var i=n(5632),r=n(2784),o=n(91994),s=n(47968),a=n(78462),l=n(18412);let c=(0,r.createContext)({openPageSetup:(e,t)=>{},openSiteSettings:e=>{},openSharePanel:(e,t)=>{}}),u=(e,t)=>{let{push:n}=(0,i.useRouter)(),c=(0,o.qr)();return(0,r.useMemo)(()=>({openPageSetup:async(i,r)=>{if(!t)return;let o=()=>l.T.emit("openPageSetup",r);if(i!==e){let e=(0,a.yQ)({docId:i});await n(e);let t=c.subscribe(()=>{(0,s.ke)(c.getState())===i&&(o(),t())})}else o()},openSiteSettings:e=>{l.T.emit("openSiteSettings",e)},openSharePanel:async(t,i)=>{let r=()=>l.T.emit("openSharePanel",i);if(t!==e){let e=(0,a.yQ)({docId:t});await n(e);let i=c.subscribe(()=>{(0,s.ke)(c.getState())===t&&(r(),i())})}else r()}}),[e,n,t,c])},d=()=>(0,r.useContext)(c)},7e4:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var i=n(2784),r=n(18733);function o(e,t){let[n,o]=(0,i.useState)(()=>{try{let n=r.Q.getItem(e);if(null===n)return t;return JSON.parse(n)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),t}}),s=(0,i.useCallback)(t=>{try{r.Q.setItem(e,JSON.stringify(t)),o(t)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e]);return[n,s]}},89902:function(){},62376:function(){},6991:function(){},76298:function(){},4466:function(){},43839:function(){},23222:function(e,t,n){"use strict";n.d(t,{IW:function(){return h},V0:function(){return a},aD:function(){return o},i$:function(){return s},tB:function(){return r}});var i=n(90824);function r(e){return e.length<3?0:Math.abs((0,i.Sm)(e.map(function(t,n){var i=e[n+1]||e[0];return t[0]*i[1]-i[0]*t[1]})))/2}function o(e,t){var n=t.width,i=t.height,r=t.left,o=t.top,a=s(e),l=a.minX,c=a.minY,u=a.maxX,d=a.maxY,h=n/(u-l),p=i/(d-c);return e.map(function(e){return[r+(e[0]-l)*h,o+(e[1]-c)*p]})}function s(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return e[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,n)}}function a(e,t,n){var r=e[0],o=e[1],a=s(t),h=a.minX,p=a.minY,f=a.maxX,m=a.maxY,x=[[h,o],[f,o]],g=[[r,p],[r,m]],v=l(x[0],x[1]),j=l(g[0],g[1]),b=d(t),y=[],C=[];return b.forEach(function(e){var t=l(e[0],e[1]),n=u(c(v,t),[x,e]),i=u(c(j,t),[g,e]);(1!==n.length||e[0][1]!==o)&&y.push.apply(y,n),(1!==i.length||e[0][0]!==r)&&C.push.apply(C,i),t[0]||y.push.apply(y,n),t[1]||C.push.apply(C,i)}),!!(!n&&((0,i.cx)(y,function(e){return e[0]===r})>-1||(0,i.cx)(C,function(e){return e[1]===o})>-1))||!!(y.filter(function(e){return e[0]>r}).length%2)&&!!(C.filter(function(e){return e[1]>o}).length%2)}function l(e,t){var n=e[0],i=e[1],r=t[0],o=t[1];if(n===r&&i===o)return[0,0,0];if(n===r)return[1,0,-n];if(i===o)return[0,1,-i];var s=(r-n)/(i-o);return[1,s,-n-s*i]}function c(e,t){var n=e[0],i=e[1],r=e[2],o=t[0],s=t[1],a=t[2],l=0===n&&0===o,c=0===i&&0===s;if(l&&c)return[];if(l){var u=-r/i;return u!==-a/s?[]:[[-1/0,u],[1/0,u]]}if(c){var d=-r/n;return d!==-a/o?[]:[[d,-1/0],[d,1/0]]}if(0===n){var h=-r/i,p=-(s*h+a)/o;return[[p,h]]}if(0===o){var h=-a/s,p=-(i*h+r)/n;return[[p,h]]}if(0===i){var p=-r/n,h=-(o*p+a)/s;return[[p,h]]}if(0===s){var p=-a/o,h=-(n*p+r)/i;return[[p,h]]}else{var p=(i*a-s*r)/(s*n-i*o),h=-(n*p+r)/i;return[[p,h]]}}function u(e,t){var n=t.map(function(e){return[0,1].map(function(t){return[Math.min(e[0][t],e[1][t]),Math.max(e[0][t],e[1][t])]})});if(2===e.length){var i=e[0],r=i[0],o=i[1];if(r===e[1][0]){var s=Math.max.apply(Math,n.map(function(e){return e[1][0]})),a=Math.min.apply(Math,n.map(function(e){return e[1][1]}));return s>a?[]:[[r,s],[r,a]]}if(o===e[1][1]){var l=Math.max.apply(Math,n.map(function(e){return e[0][0]})),c=Math.min.apply(Math,n.map(function(e){return e[0][1]}));return l>c?[]:[[l,o],[c,o]]}}return e.filter(function(e){return n.every(function(t){return t[0][0]<=e[0]&&e[0]<=t[0][1]&&t[1][0]<=e[1]&&e[1]<=t[1][1]})})}function d(e){return(/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i})(e.slice(1),[e[0]]).map(function(t,n){return[e[n],t]}))}function h(e,t){var n,o,s,h,p,f,m,x,g;return r((n=e.slice(),o=t.slice(),-1===(0,i.c4)(n)&&n.reverse(),-1===(0,i.c4)(o)&&o.reverse(),s=d(n),h=d(o),p=s.map(function(e){return l(e[0],e[1])}),f=h.map(function(e){return l(e[0],e[1])}),m=[],p.forEach(function(e,t){var n=s[t],r=[];f.forEach(function(i,o){var s=u(c(e,i),[n,h[o]]);r.push.apply(r,s.map(function(e){return{index1:t,index2:o,pos:e}}))}),r.sort(function(e,t){return(0,i.zt)(n[0],e.pos)-(0,i.zt)(n[0],t.pos)}),m.push.apply(m,r),a(n[1],o)&&m.push({index1:t,index2:-1,pos:n[1]})}),h.forEach(function(e,t){if(a(e[1],n)){var r=!1,o=(0,i.cx)(m,function(e){return e.index2===t?(r=!0,!1):!!r});-1===o&&(r=!1,o=(0,i.cx)(m,function(e){var n=e.index1,i=e.index2;return -1===n&&i+1===t?(r=!0,!1):!!r})),-1===o?m.push({index1:-1,index2:t,pos:e[1]}):m.splice(o,0,{index1:-1,index2:t,pos:e[1]})}}),x=m.map(function(e){return e.pos}),g={},x.filter(function(e){var t=e[0]+"x"+e[1];return!g[t]&&(g[t]=!0,!0)})))}},31003:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){(function(t){e.exports=t.Phoenix=n(2)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||o(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}n.r(t),n.d(t,"Channel",function(){return E}),n.d(t,"Serializer",function(){return S}),n.d(t,"Socket",function(){return A}),n.d(t,"LongPoll",function(){return T}),n.d(t,"Ajax",function(){return I}),n.d(t,"Presence",function(){return O});var u="undefined"!=typeof self?self:null,d="undefined"!=typeof window?window:null,h=u||d||void 0,p="closed",f="errored",m="joined",x="joining",g="leaving",v="phx_close",j="phx_error",b="phx_join",y="phx_reply",C="phx_leave",k=[v,j,b,y,C],w="websocket",D=function(e){return"function"==typeof e?e:function(){return e}},_=function(){function e(t,n,i,r){a(this,e),this.channel=t,this.event=n,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return c(e,[{key:"resend",value:function(e){this.timeout=e,this.reset(),this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:"receive",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:"reset",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:"matchReceive",value:function(e){var t=e.status,n=e.response;e.ref,this.recHooks.filter(function(e){return e.status===t}).forEach(function(e){return e.callback(n)})}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var e=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)}),this.timeoutTimer=setTimeout(function(){e.trigger("timeout",{})},this.timeout)}},{key:"hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:"trigger",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),E=function(){function e(t,n,i){var r=this;a(this,e),this.state=p,this.topic=t,this.params=D(n||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new _(this,b,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new M(function(){r.socket.isConnected()&&r.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(function(){return r.rejoinTimer.reset()})),this.stateChangeRefs.push(this.socket.onOpen(function(){r.rejoinTimer.reset(),r.isErrored()&&r.rejoin()})),this.joinPush.receive("ok",function(){r.state=m,r.rejoinTimer.reset(),r.pushBuffer.forEach(function(e){return e.send()}),r.pushBuffer=[]}),this.joinPush.receive("error",function(){r.state=f,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()}),this.onClose(function(){r.rejoinTimer.reset(),r.socket.hasLogger()&&r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=p,r.socket.remove(r)}),this.onError(function(e){r.socket.hasLogger()&&r.socket.log("channel","error ".concat(r.topic),e),r.isJoining()&&r.joinPush.reset(),r.state=f,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",function(){r.socket.hasLogger()&&r.socket.log("channel","timeout ".concat(r.topic," (").concat(r.joinRef(),")"),r.joinPush.timeout),new _(r,C,D({}),r.timeout).send(),r.state=f,r.joinPush.reset(),r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()}),this.on(y,function(e,t){r.trigger(r.replyEventName(t),e)})}return c(e,[{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:"onClose",value:function(e){this.on(v,e)}},{key:"onError",value:function(e){return this.on(j,function(t){return e(t)})}},{key:"on",value:function(e,t){var n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}},{key:"off",value:function(e,t){this.bindings=this.bindings.filter(function(n){return!(n.event===e&&(void 0===t||t===n.ref))})}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(t=t||{},!this.joinedOnce)throw Error("tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.join() before pushing events"));var i=new _(this,e,function(){return t},n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:"leave",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=g;var n=function(){e.socket.hasLogger()&&e.socket.log("channel","leave ".concat(e.topic)),e.trigger(v,"leave")},i=new _(this,C,D({}),t);return i.receive("ok",function(){return n()}).receive("timeout",function(){return n()}),i.send(),this.canPush()||i.trigger("ok",{}),i}},{key:"onMessage",value:function(e,t,n){return t}},{key:"isLifecycleEvent",value:function(e){return k.indexOf(e)>=0}},{key:"isMember",value:function(e,t,n,i){return this.topic===e&&(!i||i===this.joinRef()||!this.isLifecycleEvent(t)||(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:i}),!1))}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=x,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,n,i){var r=this.onMessage(e,t,n,i);if(t&&!r)throw Error("channel onMessage callbacks must return the payload, modified or unmodified");for(var o=this.bindings.filter(function(t){return t.event===e}),s=0;s<o.length;s++)o[s].callback(r,n,i||this.joinRef())}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===p}},{key:"isErrored",value:function(){return this.state===f}},{key:"isJoined",value:function(){return this.state===m}},{key:"isJoining",value:function(){return this.state===x}},{key:"isLeaving",value:function(){return this.state===g}}]),e}(),S={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode:function(e,t){return t(e.payload.constructor===ArrayBuffer?this.binaryEncode(e):JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload]))},decode:function(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));var n=r(JSON.parse(e),5);return t({join_ref:n[0],ref:n[1],topic:n[2],event:n[3],payload:n[4]})},binaryEncode:function(e){var t=e.join_ref,n=e.ref,i=e.event,r=e.topic,o=e.payload,s=this.META_LENGTH+t.length+n.length+r.length+i.length,a=new ArrayBuffer(this.HEADER_LENGTH+s),l=new DataView(a),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,n.length),l.setUint8(c++,r.length),l.setUint8(c++,i.length),Array.from(t,function(e){return l.setUint8(c++,e.charCodeAt(0))}),Array.from(n,function(e){return l.setUint8(c++,e.charCodeAt(0))}),Array.from(r,function(e){return l.setUint8(c++,e.charCodeAt(0))}),Array.from(i,function(e){return l.setUint8(c++,e.charCodeAt(0))});var u=new Uint8Array(a.byteLength+o.byteLength);return u.set(new Uint8Array(a),0),u.set(new Uint8Array(o),a.byteLength),u.buffer},binaryDecode:function(e){var t=new DataView(e),n=t.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,i);case this.KINDS.reply:return this.decodeReply(e,t,i);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,i)}},decodePush:function(e,t,n){var i=t.getUint8(1),r=t.getUint8(2),o=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(s,s+i));s+=i;var l=n.decode(e.slice(s,s+r));s+=r;var c=n.decode(e.slice(s,s+o));return s+=o,{join_ref:a,ref:null,topic:l,event:c,payload:e.slice(s,e.byteLength)}},decodeReply:function(e,t,n){var i=t.getUint8(1),r=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(a,a+i));a+=i;var c=n.decode(e.slice(a,a+r));a+=r;var u=n.decode(e.slice(a,a+o));a+=o;var d=n.decode(e.slice(a,a+s));return a+=s,{join_ref:l,ref:c,topic:u,event:y,payload:{status:d,response:e.slice(a,e.byteLength)}}},decodeBroadcast:function(e,t,n){var i=t.getUint8(1),r=t.getUint8(2),o=this.HEADER_LENGTH+2,s=n.decode(e.slice(o,o+i));o+=i;var a=n.decode(e.slice(o,o+r));return o+=r,{join_ref:null,ref:null,topic:s,event:a,payload:e.slice(o,e.byteLength)}}},A=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||1e4,this.transport=i.transport||h.WebSocket||T,this.defaultEncoder=S.encode.bind(S),this.defaultDecoder=S.decode.bind(S),this.closeWasClean=!1,this.unloaded=!1,this.binaryType=i.binaryType||"arraybuffer",this.transport!==T?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),d&&d.addEventListener&&d.addEventListener("unload",function(e){n.conn&&(n.unloaded=!0,n.abnormalClose("unloaded"))}),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(e){return i.rejoinAfterMs?i.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4},this.reconnectAfterMs=function(e){return n.unloaded?100:i.reconnectAfterMs?i.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=D(i.params||{}),this.endPoint="".concat(t,"/").concat(w),this.vsn=i.vsn||"2.0.0",this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new M(function(){n.teardown(function(){return n.connect()})},this.reconnectAfterMs)}return c(e,[{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var e=I.appendParams(I.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?"".concat(this.protocol(),":").concat(e):"".concat(this.protocol(),"://").concat(location.host).concat(e)}},{key:"disconnect",value:function(e,t,n){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}},{key:"connect",value:function(e){var t=this;e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=D(e)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"hasLogger",value:function(){return null!==this.logger}},{key:"onOpen",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}},{key:"onClose",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}},{key:"onError",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}},{key:"onMessage",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}},{key:"onConnOpen",value:function(){this.hasLogger()&&this.log("transport","connected to ".concat(this.endPointURL())),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(function(e){return(0,r(e,2)[1])()})}},{key:"resetHeartbeat",value:function(){var e=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(function(){return e.sendHeartbeat()},this.heartbeatIntervalMs))}},{key:"teardown",value:function(e,t,n){var i=this;if(!this.conn)return e&&e();this.waitForBufferDone(function(){i.conn&&(t?i.conn.close(t,n||""):i.conn.close()),i.waitForSocketClosed(function(){i.conn&&(i.conn.onclose=function(){},i.conn=null),e&&e()})})}},{key:"waitForBufferDone",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.bufferedAmount?setTimeout(function(){t.waitForBufferDone(e,n+1)},150*n):e()}},{key:"waitForSocketClosed",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&3!==this.conn.readyState?setTimeout(function(){t.waitForSocketClosed(e,n+1)},150*n):e()}},{key:"onConnClose",value:function(e){this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(function(t){return(0,r(t,2)[1])(e)})}},{key:"onConnError",value:function(e){this.hasLogger()&&this.log("transport",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach(function(t){return(0,r(t,2)[1])(e)})}},{key:"triggerChanError",value:function(){this.channels.forEach(function(e){e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(j)})}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case 0:return"connecting";case 1:return"open";case 2:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(function(t){return t.joinRef()!==e.joinRef()})}},{key:"off",value:function(e){for(var t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(function(t){var n=r(t,1)[0];return -1===e.indexOf(n)})}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new E(e,t,this);return this.channels.push(n),n}},{key:"push",value:function(e){var t=this;if(this.hasLogger()){var n=e.topic,i=e.event,r=e.payload,o=e.ref,s=e.join_ref;this.log("push","".concat(n," ").concat(i," (").concat(s,", ").concat(o,")"),r)}this.isConnected()?this.encode(e,function(e){return t.conn.send(e)}):this.sendBuffer.push(function(){return t.encode(e,function(e){return t.conn.send(e)})})}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"sendHeartbeat",value:function(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void this.abnormalClose("heartbeat timeout");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}},{key:"abnormalClose",value:function(e){this.closeWasClean=!1,1===this.conn.readyState&&this.conn.close(1e3,e)}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(function(e){return e()}),this.sendBuffer=[])}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,function(e){var n=e.topic,i=e.event,o=e.payload,s=e.ref,a=e.join_ref;s&&s===t.pendingHeartbeatRef&&(t.pendingHeartbeatRef=null),t.hasLogger()&&t.log("receive","".concat(o.status||""," ").concat(n," ").concat(i," ").concat(s&&"("+s+")"||""),o);for(var l=0;l<t.channels.length;l++){var c=t.channels[l];c.isMember(n,i,o,a)&&c.trigger(i,o,s,a)}for(var u=0;u<t.stateChangeCallbacks.message.length;u++)(0,r(t.stateChangeCallbacks.message[u],2)[1])(e)})}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find(function(t){return t.topic===e&&(t.isJoined()||t.isJoining())});t&&(this.hasLogger()&&this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.leave())}}]),e}(),T=function(){function e(t){a(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=0,this.poll()}return c(e,[{key:"normalizeEndpoint",value:function(e){return e.replace("ws://","http://").replace("wss://","https://").replace(RegExp("(.*)/"+w),"$1/longpoll")}},{key:"endpointURL",value:function(){return I.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(){this.close(),this.readyState=0}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry()}},{key:"poll",value:function(){var e=this;1!==this.readyState&&0!==this.readyState||I.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),function(t){if(t){var n=t.status,i=t.token,r=t.messages;e.token=i}else n=0;switch(n){case 200:r.forEach(function(t){return e.onmessage({data:t})}),e.poll();break;case 204:e.poll();break;case 410:e.readyState=1,e.onopen(),e.poll();break;case 403:e.onerror(),e.close();break;case 0:case 500:e.onerror(),e.closeAndRetry();break;default:throw Error("unhandled poll status ".concat(n))}})}},{key:"send",value:function(e){var t=this;I.request("POST",this.endpointURL(),"application/json",e,this.timeout,this.onerror.bind(this,"timeout"),function(e){e&&200===e.status||(t.onerror(e&&e.status),t.closeAndRetry())})}},{key:"close",value:function(e,t){this.readyState=3,this.onclose()}}]),e}(),I=function(){function e(){a(this,e)}return c(e,null,[{key:"request",value:function(e,t,n,i,r,o,s){if(h.XDomainRequest){var a=new XDomainRequest;this.xdomainRequest(a,e,t,i,r,o,s)}else{var l=new h.XMLHttpRequest;this.xhrRequest(l,e,t,n,i,r,o,s)}}},{key:"xdomainRequest",value:function(e,t,n,i,r,o,s){var a=this;e.timeout=r,e.open(t,n),e.onload=function(){var t=a.parseJSON(e.responseText);s&&s(t)},o&&(e.ontimeout=o),e.onprogress=function(){},e.send(i)}},{key:"xhrRequest",value:function(e,t,n,i,r,o,s,a){var l=this;e.open(t,n,!0),e.timeout=o,e.setRequestHeader("Content-Type",i),e.onerror=function(){a&&a(null)},e.onreadystatechange=function(){e.readyState===l.states.complete&&a&&a(l.parseJSON(e.responseText))},s&&(e.ontimeout=s),e.send(r)}},{key:"parseJSON",value:function(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}},{key:"serialize",value:function(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=t?"".concat(t,"[").concat(r,"]"):r,s=e[r];"object"===i(s)?n.push(this.serialize(s,o)):n.push(encodeURIComponent(o)+"="+encodeURIComponent(s))}return n.join("&")}},{key:"appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?";return"".concat(e).concat(n).concat(this.serialize(t))}}]),e}();I.states={complete:4};var O=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e);var r=i.events||{state:"presence_state",diff:"presence_diff"};this.state={},this.pendingDiffs=[],this.channel=t,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(r.state,function(t){var i=n.caller,r=i.onJoin,o=i.onLeave,s=i.onSync;n.joinRef=n.channel.joinRef(),n.state=e.syncState(n.state,t,r,o),n.pendingDiffs.forEach(function(t){n.state=e.syncDiff(n.state,t,r,o)}),n.pendingDiffs=[],s()}),this.channel.on(r.diff,function(t){var i=n.caller,r=i.onJoin,o=i.onLeave,s=i.onSync;n.inPendingSyncState()?n.pendingDiffs.push(t):(n.state=e.syncDiff(n.state,t,r,o),s())})}return c(e,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"list",value:function(t){return e.list(this.state,t)}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:"syncState",value:function(e,t,n,i){var r=this,o=this.clone(e),s={},a={};return this.map(o,function(e,n){t[e]||(a[e]=n)}),this.map(t,function(e,t){var n=o[e];if(n){var i=t.metas.map(function(e){return e.phx_ref}),l=n.metas.map(function(e){return e.phx_ref}),c=t.metas.filter(function(e){return 0>l.indexOf(e.phx_ref)}),u=n.metas.filter(function(e){return 0>i.indexOf(e.phx_ref)});c.length>0&&(s[e]=t,s[e].metas=c),u.length>0&&(a[e]=r.clone(n),a[e].metas=u)}else s[e]=t}),this.syncDiff(o,{joins:s,leaves:a},n,i)}},{key:"syncDiff",value:function(e,t,n,i){var r=t.joins,a=t.leaves,l=this.clone(e);return n||(n=function(){}),i||(i=function(){}),this.map(r,function(e,t){var i=l[e];if(l[e]=t,i){var r,a=l[e].metas.map(function(e){return e.phx_ref}),c=i.metas.filter(function(e){return 0>a.indexOf(e.phx_ref)});(r=l[e].metas).unshift.apply(r,function(e){if(Array.isArray(e))return s(e)}(c)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(c)||o(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}n(e,i,t)}),this.map(a,function(e,t){var n=l[e];if(n){var r=t.metas.map(function(e){return e.phx_ref});n.metas=n.metas.filter(function(e){return 0>r.indexOf(e.phx_ref)}),i(e,n,t),0===n.metas.length&&delete l[e]}}),l}},{key:"list",value:function(e,t){return t||(t=function(e,t){return t}),this.map(e,function(e,n){return t(e,n)})}},{key:"map",value:function(e,t){return Object.getOwnPropertyNames(e).map(function(n){return t(n,e[n])})}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}(),M=function(){function e(t,n){a(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return c(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.tries=e.tries+1,e.callback()},this.timerCalc(this.tries+1))}}]),e}()}])},77728:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(90824),r=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},o=function(e){var t,n="rCS"+r(e).toString(36),o=0;return{className:n,inject:function(r,s){void 0===s&&(s={});var a,l,c,u=function(e){if(e&&e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(r),d=0===o;return(u||d)&&(a=s,(l=document.createElement("style")).setAttribute("type","text/css"),l.setAttribute("data-styled-id",n),a.nonce&&l.setAttribute("nonce",a.nonce),l.innerHTML=a.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(e,t){var r=t.trim();return(r?(0,i.W6)(r):[""]).map(function(e){var t=e.trim();return 0===t.indexOf("@")?t:t.indexOf(":global")>-1?t.replace(/\:global/g,""):t.indexOf(":host")>-1?""+t.replace(/\:host/g,"."+n):t?"."+n+" "+t:"."+n}).join(", ")+" {"}),(u||document.head||document.body).appendChild(l),c=l),d&&(t=c),!u&&++o,{destroy:function(){u?(r.removeChild(c),c=null):(o>0&&--o,0===o&&t&&(t.parentNode.removeChild(t),t=null))}}}}},s=n(2784),a=n(22989),l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.injectResult=null,t.tag="div",t}c(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=(e.cspNonce,e.portalContainer),i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["className","cspNonce","portalContainer"]),r=this.injector.className,o=this.tag,l={};return(s.version||"").indexOf("simple")>-1&&n&&(l={portalContainer:n}),(0,s.createElement)(o,u({ref:(0,a.iH)(this,"element"),"data-styled-id":r,className:(void 0===t?"":t)+" "+r},l,i))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},t}(s.Component),h=function(e,t){var n=o(t);return function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.injector=n,i.tag=e,i}return c(i,t),i}(d)}},68281:function(e,t,n){"use strict";n.d(t,{w_:function(){return l}});var i=n(2784),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=i.createContext&&i.createContext(r),s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function l(e){return function(t){return i.createElement(c,s({attr:s({},e.attr)},t),function e(t){return t&&t.map(function(t,n){return i.createElement(t.tag,s({key:n},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var n,r=e.attr,o=e.size,l=e.title,c=a(e,["attr","size","title"]),u=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&i.createElement("title",null,l),e.children)};return void 0!==o?i.createElement(o.Consumer,null,function(e){return t(e)}):t(r)}},94804:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var i,r=n(2784),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},s=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],a={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},u=function(e,t,n){if(n||2==arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function d(e,t){if(void 0===t&&(t={}),!e||!(e instanceof Node))return null;var n,i,h,p,f,m=t.actions,x=void 0===m?[]:m,g=t.index,v=t.level,j=void 0===v?0:v,b=t.randomKey,y=e,C="".concat(j,"-").concat(void 0===g?0:g),k=[];if(b&&0===j&&(C="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",i=e;i>0;--i)n+=t[Math.round(Math.random()*(t.length-1))];return n}(),"-").concat(C)),Array.isArray(x)&&x.forEach(function(t){t.condition(y,C,j)&&("function"!=typeof t.pre||(y=t.pre(y,C,j))instanceof Node||(y=e),"function"==typeof t.post&&k.push(t.post(y,C,j)))}),k.length)return k;switch(y.nodeType){case 1:return r.createElement((n=y.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(n)?n:n.toLowerCase()),function(e,t){var n={key:t};if(e instanceof Element){var i=e.getAttribute("class");i&&(n.className=i),u([],c(e.attributes),!1).forEach(function(e){switch(e.name){case"class":break;case"style":n[e.name]=e.value.split(/ ?; ?/).reduce(function(e,t){var n=o(t.split(/ ?: ?/),2),i=n[0],r=n[1];return i&&r&&(e[i.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})]=Number.isNaN(Number(r))?r:Number(r)),e},{});break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[a[e.name]||e.name]=!0;break;default:n[a[e.name]||e.name]=e.value}})}return n}(y,C),(i=y.childNodes,h=t,(p=u([],c(i),!1).map(function(e,t){return d(e,l(l({},h),{index:t,level:j+1}))}).filter(Boolean)).length?p:null));case 3:var w=(null===(f=y.nodeValue)||void 0===f?void 0:f.toString())||"";if(/^\s+$/.test(w)&&!/[\u00A0\u202F]/.test(w))return null;if(!y.parentNode)return w;var D=y.parentNode.nodeName.toLowerCase();if(s.includes(D))return/\S/.test(w)&&console.warn("A textNode is not allowed inside '".concat(D,"'. Your text \"").concat(w,'" will be ignored')),null;return w;default:return null}}function h(e,t){return(void 0===t&&(t={}),"string"==typeof e)?function(e,t){if(void 0===t&&(t={}),!e||"string"!=typeof e)return null;var n=t.nodeOnly,i=t.selector,r=t.type;try{var o=new DOMParser().parseFromString(e,void 0===r?"text/html":r).querySelector(void 0===i?"body > *":i);if(!(o instanceof Node))throw TypeError("Error parsing input");if(void 0!==n&&n)return o;return d(o,t)}catch(e){}return null}(e,t):e instanceof Node?d(e,t):null}var p=n(85978),f={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function m(){return p.canUseDOM}var x=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){return(g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},v=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},j=function(e,t,n){if(n||2==arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},b=Object.create(null),y=function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"handleLoad",{enumerable:!0,configurable:!0,writable:!0,value:function(e){n.isActive&&n.setState({content:e,status:f.LOADED},n.getElement)}}),Object.defineProperty(n,"handleError",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=n.props.onError,i="Browser does not support SVG"===e.message?f.UNSUPPORTED:f.FAILED;n.isActive&&n.setState({status:i},function(){"function"==typeof t&&t(e)})}}),Object.defineProperty(n,"request",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.props,t=e.cacheRequests,i=e.fetchOptions,r=e.src;try{return t&&(b[r]={content:"",status:f.LOADING}),fetch(r,i).then(function(e){var t=e.headers.get("content-type"),n=v((t||"").split(/ ?; ?/),1)[0];if(e.status>299)throw Error("Not found");if(!["image/svg+xml","text/plain"].some(function(e){return n.includes(e)}))throw Error("Content type isn't valid: ".concat(n));return e.text()}).then(function(e){var i=n.props.src;if(r!==i){b[r].status===f.LOADING&&delete b[r];return}if(n.handleLoad(e),t){var o=b[r];o&&(o.content=e,o.status=f.LOADED)}}).catch(function(e){n.handleError(e),t&&b[r]&&delete b[r]})}catch(e){return n.handleError(Error(e.message))}}}),n.state={content:"",element:null,hasCache:!!t.cacheRequests&&!!b[t.src],status:f.PENDING},n.hash=t.uniqueHash||function(e){for(var t="abcdefghijklmnopqrstuvwxyz",n="".concat(t).concat(t.toUpperCase()).concat("1234567890"),i="",r=0;r<8;r++)i+=n[Math.floor(Math.random()*n.length)];return i}(0),n}return x(t,e),Object.defineProperty(t.prototype,"componentDidMount",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive=!0,m()&&!this.isInitialized){var e=this.state.status,t=this.props.src;try{if(e===f.PENDING){if(!(function(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!=typeof window&&null!==window))throw Error("Browser does not support SVG");if(!t)throw Error("Missing src");this.load()}}catch(e){this.handleError(e)}this.isInitialized=!0}}}),Object.defineProperty(t.prototype,"componentDidUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(m()){var n=this.state,i=n.hasCache,r=n.status,o=this.props,s=o.onLoad,a=o.src;if(t.status!==f.READY&&r===f.READY&&s&&s(a,i),e.src!==a){if(!a){this.handleError(Error("Missing src"));return}this.load()}}}}),Object.defineProperty(t.prototype,"componentWillUnmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isActive=!1}}),Object.defineProperty(t.prototype,"getNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.description,n=e.title;try{var i=this.processSVG(),r=h(i,{nodeOnly:!0});if(!r||!(r instanceof SVGSVGElement))throw Error("Could not convert the src to a DOM Node");var o=this.updateSVGAttributes(r);if(t){var s=o.querySelector("desc");s&&s.parentNode&&s.parentNode.removeChild(s);var a=document.createElement("desc");a.innerHTML=t,o.prepend(a)}if(n){var l=o.querySelector("title");l&&l.parentNode&&l.parentNode.removeChild(l);var c=document.createElement("title");c.innerHTML=n,o.prepend(c)}return o}catch(e){return this.handleError(e)}}}),Object.defineProperty(t.prototype,"getElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var e=this.getNode(),t=h(e);if(!t||!r.isValidElement(t))throw Error("Could not convert the src to a React element");this.setState({element:t,status:f.READY})}catch(e){this.handleError(Error(e.message))}}}),Object.defineProperty(t.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.isActive&&this.setState({content:"",element:null,status:f.LOADING},function(){var t,n=e.props,i=n.cacheRequests,r=n.src,o=i&&b[r];if(o&&o.status===f.LOADED){e.handleLoad(o.content);return}var s=r.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);if(s?t=s[1]?window.atob(s[2]):decodeURIComponent(s[2]):r.includes("<svg")&&(t=r),t){e.handleLoad(t);return}e.request()})}}),Object.defineProperty(t.prototype,"updateSVGAttributes",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this.props,i=n.baseURL,r=void 0===i?"":i,o=n.uniquifyIDs,s=["id","href","xlink:href","xlink:role","xlink:arcrole"],a=["href","xlink:href"];return o&&j([],v(e.children),!1).map(function(e){if(e.attributes&&e.attributes.length){var n=Object.values(e.attributes).map(function(e){var n=e.value.match(/url\((.*?)\)/);return n&&n[1]&&(e.value=e.value.replace(n[0],"url(".concat(r).concat(n[1],"__").concat(t.hash,")"))),e});s.forEach(function(e){var i,r=n.find(function(t){return t.name===e});r&&(i=r.value,!a.includes(e)||!i||i.includes("#"))&&(r.value="".concat(r.value,"__").concat(t.hash))})}return e.children.length?t.updateSVGAttributes(e):e}),e}}),Object.defineProperty(t.prototype,"processSVG",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.state.content,t=this.props.preProcessor;return t?t(e):e}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.state,t=e.element,n=e.status,i=this.props,o=i.children,s=i.innerRef,a=i.loader,l=void 0===a?null:a,c=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i={};for(var r in e)({}).hasOwnProperty.call(e,r)&&!t.includes(r)&&(i[r]=e[r]);return i}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return m()?t?r.cloneElement(t,g({ref:s},c)):[f.UNSUPPORTED,f.FAILED].includes(n)?void 0===o?null:o:l:l}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{cacheRequests:!0,uniquifyIDs:!1}}),t}(r.PureComponent)},32718:function(e,t,n){var i,r=n(58085),o=n(41964),s=n(53207),a=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;e.exports=function(e,t){return i=0,t=Math.pow(10,void 0===t?5:t),o(e=e.replace(/\n+/g," "),/((?:\-[a-z]+\-)?calc)\(/,function e(n,o,l){if(i++>100)throw i=0,Error("Call stack overflow for "+l);if(""===n)throw Error(o+"(): '"+l+"' must contain a non-whitespace string");var c,u=function(e){for(var t=[],n=[],i=/[\.0-9]([%a-z]+)/gi,r=i.exec(e);r;)r&&r[1]&&(-1===n.indexOf(r[1].toLowerCase())&&(t.push(r[1]),n.push(r[1].toLowerCase())),r=i.exec(e));return t}(n=function(t,n){t=t.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var i,o="",s=t;i=a.exec(s);){i[0].index>0&&(o+=s.substring(0,i[0].index));var l=r("(",")",s.substring([0].index));if(""===l.body)throw Error("'"+t+"' must contain a non-whitespace string");var c=e(l.body,"",n);o+=l.pre+c,s=l.post}return o+s}(n,l));if(u.length>1||n.indexOf("var(")>-1)return o+"("+n+")";var d=u[0]||"";"%"===d&&(n=n.replace(/\b[0-9\.]+%/g,function(e){return .01*parseFloat(e.slice(0,-1))}));var h=n.replace(RegExp(d,"gi"),"");try{c=s.eval(h)}catch(e){return o+"("+n+")"}return"%"===d&&(c*=100),(o.length||"%"===d)&&(c=Math.round(c*t)/t),c+=d})}},58085:function(e){function t(e,t,r){e instanceof RegExp&&(e=n(e,r)),t instanceof RegExp&&(t=n(t,r));var o=i(e,t,r);return o&&{start:o[0],end:o[1],pre:r.slice(0,o[0]),body:r.slice(o[0]+e.length,o[1]),post:r.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var i,r,o,s,a,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(l>=0&&c>0){for(i=[],o=n.length;u>=0&&!a;)u==l?(i.push(u),l=n.indexOf(e,u+1)):1==i.length?a=[i.pop(),c]:((r=i.pop())<o&&(o=r,s=c),c=n.indexOf(t,u+1)),u=l<c&&l>=0?l:c;i.length&&(a=[o,s])}return a}e.exports=t,t.range=i},41964:function(e,t,n){var i=n(82294);e.exports=function e(t,n,r){return(function(e,t){var n=[],r="string"==typeof t?RegExp("\\b("+t+")\\("):t;do{var o=r.exec(e);if(!o)break;if(void 0===o[1])throw Error("Missing the first couple of parenthesis to get the function identifier in "+t);var s=o[1],a=o.index,l=i("(",")",e.substring(a));if(!l||l.start!==o[0].length-1)throw SyntaxError(s+"(): missing closing ')' in the value '"+e+"'");n.push({matches:l,functionIdentifier:s}),e=l.post}while(r.test(e));return n})(t,n).reduce(function(i,o){var s,a;return i.replace(o.functionIdentifier+"("+o.matches.body+")",(s=o.matches.body,a=o.functionIdentifier,r(e(s,n,r),a,t)))},t)}},1313:function(e,t,n){var i=n(88421),r=n(12824),o=n(244),s=n(10330),a=n(45028),l=n(33929),c=n(53154);c.alea=i,c.xor128=r,c.xorwow=o,c.xorshift7=s,c.xor4096=a,c.tychei=l,e.exports=c},88421:function(e,t,n){var i;!function(e,r,o){function s(e){var t,n=this,i=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var i=.02519603282416938*(t+=e.charCodeAt(n));t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=4294967296*i}return(t>>>0)*23283064365386963e-26});n.next=function(){var e=2091639*n.s0+23283064365386963e-26*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=i(" "),n.s1=i(" "),n.s2=i(" "),n.s0-=i(e),n.s0<0&&(n.s0+=1),n.s1-=i(e),n.s1<0&&(n.s1+=1),n.s2-=i(e),n.s2<0&&(n.s2+=1)}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),i=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+(2097152*r()|0)*11102230246251565e-32},r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.alea=l}(0,e=n.nmd(e),n.amdD)},33929:function(e,t,n){var i;!function(e,r,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,i=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-i|0,i=i<<24^i>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-i|0,t.d=i<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var i=0;i<n.length+20;i++)t.b^=0|n.charCodeAt(i),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.tychei=l}(0,e=n.nmd(e),n.amdD)},12824:function(e,t,n){var i;!function(e,r,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var i=0;i<n.length+64;i++)t.x^=0|n.charCodeAt(i),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xor128=l}(0,e=n.nmd(e),n.amdD)},45028:function(e,t,n){var i;!function(e,r,o){function s(e){var t=this;t.next=function(){var e,n,i=t.w,r=t.X,o=t.i;return t.w=i=i+1640531527|0,n=r[o+34&127],e=r[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[o]=n^e,t.i=o,n+(i^i>>>16)|0},function(e,t){var n,i,r,o,s,a=[],l=128;for(t===(0|t)?(i=t,t=null):(t+="\x00",i=0,l=Math.max(l,t.length)),r=0,o=-32;o<l;++o)t&&(i^=t.charCodeAt((o+32)%t.length)),0===o&&(s=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,o>=0&&(s=s+1640531527|0,r=0==(n=a[127&o]^=i+s)?r+1:0);for(r>=128&&(a[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)i=a[r+34&127],n=a[r=r+1&127],i^=i<<13,n^=n<<17,i^=i>>>15,n^=n>>>12,a[r]=i^n;e.w=s,e.X=a,e.i=r}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&(i.X&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},10330:function(e,t,n){var i;!function(e,r,o){function s(e){var t=this;t.next=function(){var e,n,i=t.x,r=t.i;return e=i[r],e^=e>>>7,n=e^e<<24^((e=i[r+1&7])^e>>>10)^((e=i[r+3&7])^e>>>3)^((e=i[r+4&7])^e<<7),e=i[r+7&7],e^=e<<13,n^=e^e<<9,i[r]=n,t.i=r+1&7,n},function(e,t){var n,i=[];if(t===(0|t))i[0]=t;else for(n=0,t=""+t;n<t.length;++n)i[7&n]=i[7&n]<<15^t.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(8==n?i[7]=-1:i[n],e.x=i,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&(i.x&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},244:function(e,t,n){var i;!function(e,r,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var i=0;i<n.length+64;i++)t.x^=0|n.charCodeAt(i),i==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),i=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/2097152;while(0===e);return e},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&a(i,n),r.state=function(){return a(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0!==(i=(function(){return l}).call(t,n,t,r))&&(r.exports=i):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},53154:function(e,t,n){var i;!function(r,o,s){var a,l=s.pow(256,6),c=s.pow(2,52),u=2*c;function d(e,t,n){var i=[],d=f(function e(t,n){var i,r=[],o=typeof t;if(n&&"object"==o)for(i in t)try{r.push(e(t[i],n-1))}catch(e){}return r.length?r:"string"==o?t:t+"\x00"}((t=!0==t?{entropy:!0}:t||{}).entropy?[e,m(o)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(256):(e=new Uint8Array(256),(r.crypto||r.msCrypto).getRandomValues(e)),m(e)}catch(e){var t=r.navigator,n=t&&t.plugins;return[+new Date,r,n,r.screen,m(o)]}}():e,3),i),x=new h(i),g=function(){for(var e=x.g(6),t=l,n=0;e<c;)e=(e+n)*256,t*=256,n=x.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return g.int32=function(){return 0|x.g(4)},g.quick=function(){return x.g(4)/4294967296},g.double=g,f(m(x.S),o),(t.pass||n||function(e,t,n,i){return(i&&(i.S&&p(i,x),e.state=function(){return p(x,{})}),n)?(s.random=e,t):e})(g,d,"global"in t?t.global:this==s,t.state)}function h(e){var t,n=e.length,i=this,r=0,o=i.i=i.j=0,s=i.S=[];for(n||(e=[n++]);r<256;)s[r]=r++;for(r=0;r<256;r++)s[r]=s[o=255&o+e[r%n]+(t=s[r])],s[o]=t;(i.g=function(e){for(var t,n=0,r=i.i,o=i.j,s=i.S;e--;)t=s[r=255&r+1],n=256*n+s[255&(s[r]=s[o=255&o+t])+(s[o]=t)];return i.i=r,i.j=o,n})(256)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function f(e,t){for(var n,i=e+"",r=0;r<i.length;)t[255&r]=255&(n^=19*t[255&r])+i.charCodeAt(r++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(f(s.random(),o),e.exports){e.exports=d;try{a=n(80660)}catch(e){}}else void 0!==(i=(function(){return d}).call(t,n,t,e))&&(e.exports=i)}("undefined"!=typeof self?self:this,[],Math)},55079:function(e,t,n){"use strict";var i=n(62465),r=n(51414),o="tippy-content",s="tippy-arrow",a="tippy-svg-arrow",l={passive:!0,capture:!0},c=function(){return document.body};function u(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function d(e,t){var n=({}).toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function h(e,t){return"function"==typeof e?e.apply(void 0,t):e}function p(e,t){var n;return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function f(e){return[].concat(e)}function m(e,t){-1===e.indexOf(t)&&e.push(t)}function x(e){return[].slice.call(e)}function g(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function v(){return document.createElement("div")}function j(e){return["Element","Fragment"].some(function(t){return d(e,t)})}function b(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function y(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function C(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[i](t,n)})}function k(e,t){for(var n,i=t;i;){if(e.contains(i))return!0;i=null==i.getRootNode?void 0:null==(n=i.getRootNode())?void 0:n.host}return!1}var w={isTouch:!1},D=0;function _(){!w.isTouch&&(w.isTouch=!0,window.performance&&document.addEventListener("mousemove",E))}function E(){var e=performance.now();e-D<20&&(w.isTouch=!1,document.removeEventListener("mousemove",E)),D=e}function S(){var e=document.activeElement;if(e&&e._tippy&&e._tippy.reference===e){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var A=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,T=Object.assign({appendTo:c,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),I=Object.keys(T);function O(e){var t=(e.plugins||[]).reduce(function(t,n){var i,r=n.name,o=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:null!=(i=T[r])?i:o),t},{});return Object.assign({},e,t)}function M(e,t){var n,i=Object.assign({},t,{content:h(t.content,[e])},t.ignoreAttributes?{}:((n=t.plugins)?Object.keys(O(Object.assign({},T,{plugins:n}))):I).reduce(function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{}));return i.aria=Object.assign({},T.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}function F(e,t){e.innerHTML=t}function R(e){var t=v();return!0===e?t.className=s:(t.className=a,j(e)?t.appendChild(e):F(t,e)),t}function N(e,t){j(t.content)?(F(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?F(e,t.content):e.textContent=t.content)}function P(e){var t=e.firstElementChild,n=x(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(o)}),arrow:n.find(function(e){return e.classList.contains(s)||e.classList.contains(a)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function L(e){var t=v(),n=v();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=v();function r(n,i){var r=P(t),o=r.box,s=r.content,a=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),(n.content!==i.content||n.allowHTML!==i.allowHTML)&&N(s,e.props),i.arrow?a?n.arrow!==i.arrow&&(o.removeChild(a),o.appendChild(R(i.arrow))):o.appendChild(R(i.arrow)):a&&o.removeChild(a)}return i.className=o,i.setAttribute("data-state","hidden"),N(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}L.$$tippy=!0;var z=1,G=[],U=[];function B(e,t){void 0===t&&(t={});var n=T.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",_,l),window.addEventListener("blur",S);var r=Object.assign({},t,{plugins:n}),o=(j(e)?[e]:d(e,"NodeList")?x(e):Array.isArray(e)?e:x(document.querySelectorAll(e))).reduce(function(e,t){var n=t&&function(e,t){var n,r,o,s,a,j,D,_,E=M(e,Object.assign({},T,O(g(t)))),S=!1,I=!1,F=!1,R=!1,N=[],L=p(ex,E.interactiveDebounce),B=z++,H=(n=E.plugins).filter(function(e,t){return n.indexOf(e)===t}),W={id:B,reference:e,popper:v(),popperInstance:null,props:E,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:H,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(s)},setProps:function(t){if(!W.state.isDestroyed){en("onBeforeUpdate",[W,t]),ef();var n=W.props,i=M(e,Object.assign({},n,g(t),{ignoreAttributes:!0}));W.props=i,ep(),n.interactiveDebounce!==i.interactiveDebounce&&(eo(),L=p(ex,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?f(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&e.removeAttribute("aria-expanded"),er(),et(),Z&&Z(n,i),W.popperInstance&&(eb(),eC().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})),en("onAfterUpdate",[W,t])}},setContent:function(e){W.setProps({content:e})},show:function(){var t,n,i,r=W.state.isVisible,o=W.state.isDestroyed,s=!W.state.isEnabled,a=w.isTouch&&!W.props.touch,l=u(W.props.duration,0,T.duration);if(!(r||o||s||a||(_||e).hasAttribute("disabled"))&&(en("onShow",[W],!1),!1!==W.props.onShow(W))){if(W.state.isVisible=!0,J()&&(q.style.visibility="visible"),et(),ec(),W.state.isMounted||(q.style.transition="none"),J()){var d=P(q);b([d.box,d.content],0)}D=function(){var e;if(W.state.isVisible&&!R){if(R=!0,q.offsetHeight,q.style.transition=W.props.moveTransition,J()&&W.props.animation){var t=P(q),n=t.box,i=t.content;b([n,i],l),y([n,i],"visible")}ei(),er(),m(U,W),null==(e=W.popperInstance)||e.forceUpdate(),en("onMount",[W]),W.props.animation&&J()&&ed(l,function(){W.state.isShown=!0,en("onShown",[W])})}},n=W.props.appendTo,i=_||e,(t=W.props.interactive&&n===c||"parent"===n?i.parentNode:h(n,[i])).contains(q)||t.appendChild(q),W.state.isMounted=!0,eb()}},hide:function(){var e,t=!W.state.isVisible,n=W.state.isDestroyed,i=!W.state.isEnabled,r=u(W.props.duration,1,T.duration);if(!t&&!n&&!i&&(en("onHide",[W],!1),!1!==W.props.onHide(W))){if(W.state.isVisible=!1,W.state.isShown=!1,R=!1,S=!1,J()&&(q.style.visibility="hidden"),eo(),eu(),et(!0),J()){var o=P(q),s=o.box,a=o.content;W.props.animation&&(b([s,a],r),y([s,a],"hidden"))}(ei(),er(),W.props.animation)?J()&&(e=W.unmount,ed(r,function(){!W.state.isVisible&&q.parentNode&&q.parentNode.contains(q)&&e()})):W.unmount()}},hideWithInteractivity:function(e){Q().addEventListener("mousemove",L),m(G,L),L(e)},enable:function(){W.state.isEnabled=!0},disable:function(){W.hide(),W.state.isEnabled=!1},unmount:function(){W.state.isVisible&&W.hide(),W.state.isMounted&&(ey(),eC().forEach(function(e){e._tippy.unmount()}),q.parentNode&&q.parentNode.removeChild(q),U=U.filter(function(e){return e!==W}),W.state.isMounted=!1,en("onHidden",[W]))},destroy:function(){W.state.isDestroyed||(W.clearDelayTimeouts(),W.unmount(),ef(),delete e._tippy,W.state.isDestroyed=!0,en("onDestroy",[W]))}};if(!E.render)return W;var V=E.render(W),q=V.popper,Z=V.onUpdate;q.setAttribute("data-tippy-root",""),q.id="tippy-"+W.id,W.popper=q,e._tippy=W,q._tippy=W;var K=H.map(function(e){return e.fn(W)}),Y=e.hasAttribute("aria-expanded");return ep(),er(),et(),en("onCreate",[W]),E.showOnCreate&&ek(),q.addEventListener("mouseenter",function(){W.props.interactive&&W.state.isVisible&&W.clearDelayTimeouts()}),q.addEventListener("mouseleave",function(){W.props.interactive&&W.props.trigger.indexOf("mouseenter")>=0&&Q().addEventListener("mousemove",L)}),W;function X(){var e=W.props.touch;return Array.isArray(e)?e:[e,0]}function $(){return"hold"===X()[0]}function J(){var e;return!!(null!=(e=W.props.render)&&e.$$tippy)}function Q(){var t,n,i=(_||e).parentNode;return i&&null!=(n=f(i)[0])&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function ee(e){return W.state.isMounted&&!W.state.isVisible||w.isTouch||a&&"focus"===a.type?0:u(W.props.delay,e?0:1,T.delay)}function et(e){void 0===e&&(e=!1),q.style.pointerEvents=W.props.interactive&&!e?"":"none",q.style.zIndex=""+W.props.zIndex}function en(e,t,n){if(void 0===n&&(n=!0),K.forEach(function(n){n[e]&&n[e].apply(n,t)}),n){var i;(i=W.props)[e].apply(i,t)}}function ei(){var t=W.props.aria;if(t.content){var n="aria-"+t.content,i=q.id;f(W.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(W.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}})}}function er(){!Y&&W.props.aria.expanded&&f(W.props.triggerTarget||e).forEach(function(t){W.props.interactive?t.setAttribute("aria-expanded",W.state.isVisible&&t===(_||e)?"true":"false"):t.removeAttribute("aria-expanded")})}function eo(){Q().removeEventListener("mousemove",L),G=G.filter(function(e){return e!==L})}function es(t){if(!w.isTouch||!F&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!(W.props.interactive&&k(q,n))){if(f(W.props.triggerTarget||e).some(function(e){return k(e,n)})){if(w.isTouch||W.state.isVisible&&W.props.trigger.indexOf("click")>=0)return}else en("onClickOutside",[W,t]);!0!==W.props.hideOnClick||(W.clearDelayTimeouts(),W.hide(),I=!0,setTimeout(function(){I=!1}),W.state.isMounted||eu())}}}function ea(){F=!0}function el(){F=!1}function ec(){var e=Q();e.addEventListener("mousedown",es,!0),e.addEventListener("touchend",es,l),e.addEventListener("touchstart",el,l),e.addEventListener("touchmove",ea,l)}function eu(){var e=Q();e.removeEventListener("mousedown",es,!0),e.removeEventListener("touchend",es,l),e.removeEventListener("touchstart",el,l),e.removeEventListener("touchmove",ea,l)}function ed(e,t){var n=P(q).box;function i(e){e.target===n&&(C(n,"remove",i),t())}if(0===e)return t();C(n,"remove",j),C(n,"add",i),j=i}function eh(t,n,i){void 0===i&&(i=!1),f(W.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,i),N.push({node:e,eventType:t,handler:n,options:i})})}function ep(){$()&&(eh("touchstart",em,{passive:!0}),eh("touchend",eg,{passive:!0})),W.props.trigger.split(/\s+/).filter(Boolean).forEach(function(e){if("manual"!==e)switch(eh(e,em),e){case"mouseenter":eh("mouseleave",eg);break;case"focus":eh(A?"focusout":"blur",ev);break;case"focusin":eh("focusout",ev)}})}function ef(){N.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)}),N=[]}function em(e){var t,n=!1;if(!(!W.state.isEnabled||ej(e))&&!I){var i=(null==(t=a)?void 0:t.type)==="focus";a=e,_=e.currentTarget,er(),!W.state.isVisible&&d(e,"MouseEvent")&&G.forEach(function(t){return t(e)}),"click"===e.type&&(0>W.props.trigger.indexOf("mouseenter")||S)&&!1!==W.props.hideOnClick&&W.state.isVisible?n=!0:ek(e),"click"===e.type&&(S=!n),n&&!i&&ew(e)}}function ex(t){var n,i,r,o=t.target,s=(_||e).contains(o)||q.contains(o);("mousemove"!==t.type||!s)&&(n=eC().concat(q).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:E}:null}).filter(Boolean),i=t.clientX,r=t.clientY,n.every(function(e){var t=e.popperRect,n=e.popperState,o=e.props.interactiveBorder,s=n.placement.split("-")[0],a=n.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,d="left"===s?a.right.x:0,h=t.top-r+l>o,p=r-t.bottom-c>o,f=t.left-i+u>o,m=i-t.right-d>o;return h||p||f||m})&&(eo(),ew(t)))}function eg(e){if(!(ej(e)||W.props.trigger.indexOf("click")>=0&&S)){if(W.props.interactive){W.hideWithInteractivity(e);return}ew(e)}}function ev(t){0>W.props.trigger.indexOf("focusin")&&t.target!==(_||e)||W.props.interactive&&t.relatedTarget&&q.contains(t.relatedTarget)||ew(t)}function ej(e){return!!w.isTouch&&$()!==e.type.indexOf("touch")>=0}function eb(){ey();var t=W.props,n=t.popperOptions,r=t.placement,o=t.offset,s=t.getReferenceClientRect,a=t.moveTransition,l=J()?P(q).arrow:null,c=s?{getBoundingClientRect:s,contextElement:s.contextElement||_||e}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(J()){var n=P(q).box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}}];J()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),W.popperInstance=(0,i.fi)(c,q,Object.assign({},n,{placement:r,onFirstUpdate:D,modifiers:u}))}function ey(){W.popperInstance&&(W.popperInstance.destroy(),W.popperInstance=null)}function eC(){return x(q.querySelectorAll("[data-tippy-root]"))}function ek(e){W.clearDelayTimeouts(),e&&en("onTrigger",[W,e]),ec();var t=ee(!0),n=X(),i=n[0],o=n[1];w.isTouch&&"hold"===i&&o&&(t=o),t?r=setTimeout(function(){W.show()},t):W.show()}function ew(e){if(W.clearDelayTimeouts(),en("onUntrigger",[W,e]),!W.state.isVisible){eu();return}if(!(W.props.trigger.indexOf("mouseenter")>=0&&W.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0)||!S){var t=ee(!1);t?o=setTimeout(function(){W.state.isVisible&&W.hide()},t):s=requestAnimationFrame(function(){W.hide()})}}}(t,r);return n&&e.push(n),e},[]);return j(e)?o[0]:o}B.defaultProps=T,B.setDefaultProps=function(e){Object.keys(e).forEach(function(t){T[t]=e[t]})},B.currentInput=w,Object.assign({},r.Z,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),B.setDefaultProps({render:L}),t.ZP=B},6382:function(e,t){"use strict";function n(e,t){return Array(t+1).join(e)}var i,r,o=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function s(e){return u(e,o)}var a=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function l(e){return u(e,a)}var c=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function u(e,t){return t.indexOf(e.nodeName)>=0}function d(e,t){return e.getElementsByTagName&&t.some(function(t){return e.getElementsByTagName(t).length})}var h={};function p(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function f(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function m(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];if(function(e,t,n){var i=e.filter;if("string"==typeof i){if(i===t.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if("function"==typeof i){if(i.call(e,t,n))return!0}else throw TypeError("`filter` needs to be a string, array, or function")}(r,t,n))return r}}function x(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function g(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}h.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},h.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},h.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,i){var r=Number(t.nodeName.charAt(1));if("setext"!==i.headingStyle||!(r<3))return"\n\n"+n("#",r)+" "+e+"\n\n";var o=n(1===r?"=":"-",e.length);return"\n\n"+e+"\n"+o+"\n\n"}},h.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},h.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},h.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var i=n.bulletListMarker+"   ",r=t.parentNode;if("OL"===r.nodeName){var o=r.getAttribute("start"),s=Array.prototype.indexOf.call(r.children,t);i=(o?Number(o)+s:s+1)+".  "}return i+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},h.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},h.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,i){for(var r,o=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,a=i.fence.charAt(0),l=3,c=RegExp("^"+a+"{3,}","gm");r=c.exec(s);)r[0].length>=l&&(l=r[0].length+1);var u=n(a,l);return"\n\n"+u+o+"\n"+s.replace(/\n$/,"")+"\n"+u+"\n\n"}},h.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},h.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),i=p(t.getAttribute("title"));return i&&(i=' "'+i+'"'),"["+e+"]("+n+i+")"}},h.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var i,r,o=t.getAttribute("href"),s=p(t.getAttribute("title"));switch(s&&(s=' "'+s+'"'),n.linkReferenceStyle){case"collapsed":i="["+e+"][]",r="["+e+"]: "+o+s;break;case"shortcut":i="["+e+"]",r="["+e+"]: "+o+s;break;default:var a=this.references.length+1;i="["+e+"]["+a+"]",r="["+a+"]: "+o+s}return this.references.push(r),i},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},h.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},h.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},h.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",i=e.match(/`+/gm)||[];-1!==i.indexOf(n);)n+="`";return n+t+e+t+n}},h.image={filter:"img",replacement:function(e,t){var n=p(t.getAttribute("alt")),i=t.getAttribute("src")||"",r=p(t.getAttribute("title"));return i?"!["+n+"]("+i+(r?' "'+r+'"':"")+")":""}},f.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){var t;return e.isBlank?this.blankRule:(t=m(this.array,e,this.options))||(t=m(this._keep,e,this.options))||(t=m(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var v="undefined"!=typeof window?window:{},j=!function(){var e=v.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?(i=function(){},!function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}()?i.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}:i.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t},i):v.DOMParser;function b(e,t){var n;return!function(e){var t=e.element,n=e.isBlock,i=e.isVoid,r=e.isPre||function(e){return"PRE"===e.nodeName};if(!(!t.firstChild||r(t))){for(var o=null,s=!1,a=null,l=g(null,t,r);l!==t;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!s&&" "===c[0]&&(c=c.substr(1)),!c){l=x(l);continue}l.data=c,o=l}else if(1===l.nodeType)n(l)||"BR"===l.nodeName?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):i(l)||r(l)?(o=null,s=!0):o&&(s=!1);else{l=x(l);continue}var u=g(a,l,r);a=l,l=u}o&&(o.data=o.data.replace(/ $/,""),o.data||x(o))}}({element:n="string"==typeof e?(r=r||new j).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:s,isVoid:l,isPre:t.preformattedCode?y:null}),n}function y(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function C(e,t){return e.isBlock=s(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=!l(e)&&!u(e,c)&&/^\s*$/i.test(e.textContent)&&!d(e,a)&&!d(e,c),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n,i={leading:(n=e.textContent.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:n[2],leadingNonAscii:n[3],trailing:n[4],trailingNonAscii:n[5],trailingAscii:n[6]};return i.leadingAscii&&k("left",e,t)&&(i.leading=i.leadingNonAscii),i.trailingAscii&&k("right",e,t)&&(i.trailing=i.trailingNonAscii),{leading:i.leading,trailing:i.trailing}}(e,t),e}function k(e,t,n){var i,r,o;return"left"===e?(i=t.previousSibling,r=/ $/):(i=t.nextSibling,r=/^ /),i&&(3===i.nodeType?o=r.test(i.nodeValue):n.preformattedCode&&"CODE"===i.nodeName?o=!1:1!==i.nodeType||s(i)||(o=r.test(i.textContent))),o}var w=Array.prototype.reduce,D=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function _(e){if(!(this instanceof _))return new _(e);this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}({},{rules:h,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}},e),this.rules=new f(this.options)}function E(e){var t=this;return w.call(e.childNodes,function(e,n){n=new C(n,t.options);var i="";return 3===n.nodeType?i=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(i=A.call(t,n)),T(e,i)},"")}function S(e){var t=this;return this.rules.forEach(function(n){"function"==typeof n.append&&(e=T(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function A(e){var t=this.rules.forNode(e),n=E.call(this,e),i=e.flankingWhitespace;return(i.leading||i.trailing)&&(n=n.trim()),i.leading+t.replacement(n,e,this.options)+i.trailing}function T(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),i=t.replace(/^\n*/,""),r=Math.max(e.length-n.length,t.length-i.length);return n+"\n\n".substring(0,r)+i}_.prototype={turndown:function(e){if(!(null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))))throw TypeError(e+" is not a string, or an element/document/fragment node.");return""===e?"":S.call(this,E.call(this,new b(e,this.options)))},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if("function"==typeof e)e(this);else throw TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return D.reduce(function(e,t){return e.replace(t[0],t[1])},e)}},t.Z=_},2517:function(){},75461:function(e,t,n){"use strict";n.d(t,{W:function(){return i},w:function(){return r}});var[i,r]=(0,n(9165).k)({name:"BreadcrumbStylesContext",errorMessage:"useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Breadcrumb />\" "})},25215:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var i=n(75461),r=n(31053),o=n(25578),s=n(68023),a=n(91982),l=n(84586),c=n(76801),u=n(2784),d=n(52322),h=(0,s.G)(function(e,t){let n=(0,a.jC)("Breadcrumb",e),s=(0,l.Lr)(e),{children:h,spacing:p="0.5rem",separator:f="/",className:m,listProps:x,...g}=s,v=(0,o.W)(h),j=v.length,b=v.map((e,t)=>(0,u.cloneElement)(e,{separator:f,spacing:p,isLastChild:j===t+1})),y=(0,r.cx)("chakra-breadcrumb",m);return(0,d.jsx)(c.m.nav,{ref:t,"aria-label":"breadcrumb",className:y,__css:n.container,...g,children:(0,d.jsx)(i.W,{value:n,children:(0,d.jsx)(c.m.ol,{className:"chakra-breadcrumb__list",...x,__css:{display:"flex",alignItems:"center",...n.list},children:b})})})});h.displayName="Breadcrumb"},58450:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var i=n(41421),r=n(75461),o=n(68023),s=n(76801),a=n(52322),l=(0,o.G)(function(e,t){let{spacing:n,...i}=e,o=(0,r.w)(),l={mx:n,...o.separator};return(0,a.jsx)(s.m.span,{ref:t,role:"presentation",...i,__css:l})});l.displayName="BreadcrumbSeparator";var c=n(25578),u=n(31053),d=n(2784),h=(0,o.G)(function(e,t){let{isCurrentPage:n,separator:o,isLastChild:h,spacing:p,children:f,className:m,...x}=e,g=(0,c.W)(f),v=g.map(e=>e.type===i.A?(0,d.cloneElement)(e,{isCurrentPage:n}):e.type===l?(0,d.cloneElement)(e,{spacing:p,children:e.props.children||o}):e),j=(0,r.w)(),b={display:"inline-flex",alignItems:"center",...j.item},y=(0,u.cx)("chakra-breadcrumb__list-item",m);return(0,a.jsxs)(s.m.li,{ref:t,className:y,...x,__css:b,children:[v,!h&&(0,a.jsx)(l,{spacing:p,children:o})]})});h.displayName="BreadcrumbItem"},41421:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var i=n(75461),r=n(68023),o=n(76801),s=n(31053),a=n(52322),l=(0,r.G)(function(e,t){let{isCurrentPage:n,as:r,className:l,href:c,...u}=e,d=(0,i.w)(),h={ref:t,as:r,className:(0,s.cx)("chakra-breadcrumb__link",l),...u};return n?(0,a.jsx)(o.m.span,{"aria-current":"page",__css:d.link,...h}):(0,a.jsx)(o.m.a,{__css:d.link,href:c,...h})});l.displayName="BreadcrumbLink"},75397:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var i=n(32388),r=n(31053),o=n(68023),s=n(76801),a=n(52322),l=(0,o.G)(function(e,t){let{className:n,...o}=e,l=(0,i.v)();return(0,a.jsx)(s.m.div,{ref:t,className:(0,r.cx)("chakra-card__body",n),__css:l.body,...o})})},32388:function(e,t,n){"use strict";n.d(t,{Y:function(){return i},v:function(){return r}});var[i,r]=(0,n(15706).eC)("Card")},56453:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(32388),r=n(31053),o=n(68023),s=n(84586),a=n(91982),l=n(76801),c=n(52322),u=(0,o.G)(function(e,t){let{className:n,children:o,direction:u="column",justify:d,align:h,...p}=(0,s.Lr)(e),f=(0,a.jC)("Card",e);return(0,c.jsx)(l.m.div,{ref:t,className:(0,r.cx)("chakra-card",n),__css:{display:"flex",flexDirection:u,justifyContent:d,alignItems:h,position:"relative",minWidth:0,wordWrap:"break-word",...f.container},...p,children:(0,c.jsx)(i.Y,{value:f,children:o})})})},37285:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var i={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"}},64951:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var i=n(37285),r=n(95083),o=n(68023),s=n(76801),a=n(31053),l=n(52322),c=(0,o.G)(function(e,t){let{getInputProps:n}=(0,r.V)(),o=(0,r.d4)(),c=n(e,t),u=(0,a.cx)("chakra-editable__input",e.className);return(0,l.jsx)(s.m.input,{...c,__css:{outline:0,...i.i,...o.input},className:u})});c.displayName="EditableInput"},58905:function(e,t,n){"use strict";n.d(t,{C:function(){return v}});var i=n(76294),r=n(36140),o=n(3171),s=n(59572),a=n(85244),l=n(90359),c=n(31053),u=n(2784);function d(e,t){return!!e&&(e===t||e.contains(t))}var h=n(95083),p=n(68023),f=n(91982),m=n(84586),x=n(76801),g=n(52322),v=(0,p.G)(function(e,t){let n=(0,f.jC)("Editable",e),p=(0,m.Lr)(e),{htmlProps:v,...j}=function(e={}){let{onChange:t,onCancel:n,onSubmit:h,onBlur:p,value:f,isDisabled:m,defaultValue:x,startWithEditView:g,isPreviewFocusable:v=!0,submitOnBlur:j=!0,selectAllOnFocus:b=!0,placeholder:y,onEdit:C,finalFocusRef:k,...w}=e,D=(0,l.W)(C),_=!!(g&&!m),[E,S]=(0,u.useState)(_),[A,T]=(0,s.T)({defaultValue:x||"",value:f,onChange:t}),[I,O]=(0,u.useState)(A),M=(0,u.useRef)(null),F=(0,u.useRef)(null),R=(0,u.useRef)(null),N=(0,u.useRef)(null),P=(0,u.useRef)(null);(0,i.s)({ref:M,enabled:E,elements:[N,P]});let L=!E&&!m;(0,r.G)(()=>{var e,t;E&&(null==(e=M.current)||e.focus(),b&&(null==(t=M.current)||t.select()))},[]),(0,o.r)(()=>{var e,t,n,i;if(!E){k?null==(e=k.current)||e.focus():null==(t=R.current)||t.focus();return}null==(n=M.current)||n.focus(),b&&(null==(i=M.current)||i.select()),null==D||D()},[E,D,b]);let z=(0,u.useCallback)(()=>{L&&S(!0)},[L]),G=(0,u.useCallback)(()=>{O(A)},[A]),U=(0,u.useCallback)(()=>{S(!1),T(I),null==n||n(I),null==p||p(I)},[n,p,T,I]),B=(0,u.useCallback)(()=>{S(!1),O(A),null==h||h(A),null==p||p(I)},[A,h,p,I]);(0,u.useEffect)(()=>{if(E)return;let e=M.current;(null==e?void 0:e.ownerDocument.activeElement)===e&&(null==e||e.blur())},[E]);let H=(0,u.useCallback)(e=>{T(e.currentTarget.value)},[T]),W=(0,u.useCallback)(e=>{let t=e.key,n={Escape:U,Enter:e=>{e.shiftKey||e.metaKey||B()}}[t];n&&(e.preventDefault(),n(e))},[U,B]),V=(0,u.useCallback)(e=>{let t=e.key,n={Escape:U}[t];n&&(e.preventDefault(),n(e))},[U]),q=0===A.length,Z=(0,u.useCallback)(e=>{var t;if(!E)return;let n=e.currentTarget.ownerDocument,i=null!=(t=e.relatedTarget)?t:n.activeElement,r=d(N.current,i),o=d(P.current,i);r||o||(j?B():U())},[j,B,U,E]),K=(0,u.useCallback)((e={},t=null)=>{let n=L&&v?0:void 0;return{...e,ref:(0,a.lq)(t,F),children:q?y:A,hidden:E,"aria-disabled":(0,c.Qm)(m),tabIndex:n,onFocus:(0,c.v0)(e.onFocus,z,G)}},[m,E,L,v,q,z,G,y,A]),Y=(0,u.useCallback)((e={},t=null)=>({...e,hidden:!E,placeholder:y,ref:(0,a.lq)(t,M),disabled:m,"aria-disabled":(0,c.Qm)(m),value:A,onBlur:(0,c.v0)(e.onBlur,Z),onChange:(0,c.v0)(e.onChange,H),onKeyDown:(0,c.v0)(e.onKeyDown,W),onFocus:(0,c.v0)(e.onFocus,G)}),[m,E,Z,H,W,G,y,A]),X=(0,u.useCallback)((e={},t=null)=>({...e,hidden:!E,placeholder:y,ref:(0,a.lq)(t,M),disabled:m,"aria-disabled":(0,c.Qm)(m),value:A,onBlur:(0,c.v0)(e.onBlur,Z),onChange:(0,c.v0)(e.onChange,H),onKeyDown:(0,c.v0)(e.onKeyDown,V),onFocus:(0,c.v0)(e.onFocus,G)}),[m,E,Z,H,V,G,y,A]),$=(0,u.useCallback)((e={},t=null)=>({"aria-label":"Edit",...e,type:"button",onClick:(0,c.v0)(e.onClick,z),ref:(0,a.lq)(t,R),disabled:m}),[z,m]),J=(0,u.useCallback)((e={},t=null)=>({...e,"aria-label":"Submit",ref:(0,a.lq)(P,t),type:"button",onClick:(0,c.v0)(e.onClick,B),disabled:m}),[B,m]),Q=(0,u.useCallback)((e={},t=null)=>({"aria-label":"Cancel",id:"cancel",...e,ref:(0,a.lq)(N,t),type:"button",onClick:(0,c.v0)(e.onClick,U),disabled:m}),[U,m]);return{isEditing:E,isDisabled:m,isValueEmpty:q,value:A,onEdit:z,onCancel:U,onSubmit:B,getPreviewProps:K,getInputProps:Y,getTextareaProps:X,getEditButtonProps:$,getSubmitButtonProps:J,getCancelButtonProps:Q,htmlProps:w}}(p),{isEditing:b,onSubmit:y,onCancel:C,onEdit:k}=j,w=(0,c.cx)("chakra-editable",e.className),D=(0,c.Pu)(e.children,{isEditing:b,onSubmit:y,onCancel:C,onEdit:k});return(0,g.jsx)(h.ZQ,{value:j,children:(0,g.jsx)(h.Me,{value:n,children:(0,g.jsx)(x.m.div,{ref:t,...v,className:w,children:D})})})});v.displayName="Editable"},75230:function(e,t,n){"use strict";n.d(t,{w:function(){return c}});var i=n(37285),r=n(95083),o=n(68023),s=n(76801),a=n(31053),l=n(52322),c=(0,o.G)(function(e,t){let{getPreviewProps:n}=(0,r.V)(),o=(0,r.d4)(),c=n(e,t),u=(0,a.cx)("chakra-editable__preview",e.className);return(0,l.jsx)(s.m.span,{...c,__css:{cursor:"text",display:"inline-block",...i.i,...o.preview},className:u})});c.displayName="EditablePreview"},95083:function(e,t,n){"use strict";n.d(t,{Me:function(){return r},V:function(){return a},ZQ:function(){return s},d4:function(){return o}});var i=n(9165),[r,o]=(0,i.k)({name:"EditableStylesContext",errorMessage:"useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Editable />\" "}),[s,a]=(0,i.k)({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"})},76643:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var i=n(33154),r=n(73200),o=n(2784);function s(e){let{ref:t,handler:n,enabled:s=!0}=e,l=(0,i.W)(n),c=(0,o.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=c.current;(0,o.useEffect)(()=>{if(!s)return;let e=e=>{a(e,t)&&(u.isPointerDown=!0)},i=e=>{if(u.ignoreEmulatedMouseEvents){u.ignoreEmulatedMouseEvents=!1;return}u.isPointerDown&&n&&a(e,t)&&(u.isPointerDown=!1,l(e))},o=e=>{u.ignoreEmulatedMouseEvents=!0,n&&u.isPointerDown&&a(e,t)&&(u.isPointerDown=!1,l(e))},c=(0,r.lZ)(t.current);return c.addEventListener("mousedown",e,!0),c.addEventListener("mouseup",i,!0),c.addEventListener("touchstart",e,!0),c.addEventListener("touchend",o,!0),()=>{c.removeEventListener("mousedown",e,!0),c.removeEventListener("mouseup",i,!0),c.removeEventListener("touchstart",e,!0),c.removeEventListener("touchend",o,!0)}},[n,t,l,u,s])}function a(e,t){var n;let i=e.target;if(i){let e=(0,r.lZ)(i);if(!e.contains(i))return!1}return!(null==(n=t.current)?void 0:n.contains(i))}},56581:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var i=n(67012),r=n(52322),o=(0,i.I)({viewBox:"0 0 14 14",path:(0,r.jsx)("g",{fill:"currentColor",children:(0,r.jsx)("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})})})},83906:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var i=(0,n(67012).I)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})},89364:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var i=(0,n(67012).I)({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"})},46949:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var i=(0,n(67012).I)({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"})},92768:function(e,t,n){"use strict";n.d(t,{Ui:function(){return d},xW:function(){return h}});var i=n(74105),r=n(76801),o=n(68023),s=n(31053),a=n(52322),l={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},c=(0,r.m)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),u=(0,o.G)(function(e,t){var n;let{placement:r="left",...o}=e,s=null!=(n=l[r])?n:{},u=(0,i.m)();return(0,a.jsx)(c,{ref:t,...o,__css:{...u.addon,...s}})});u.displayName="InputAddon";var d=(0,o.G)(function(e,t){return(0,a.jsx)(u,{ref:t,placement:"left",...e,className:(0,s.cx)("chakra-input__left-addon",e.className)})});d.displayName="InputLeftAddon",d.id="InputLeftAddon";var h=(0,o.G)(function(e,t){return(0,a.jsx)(u,{ref:t,placement:"right",...e,className:(0,s.cx)("chakra-input__right-addon",e.className)})});h.displayName="InputRightAddon",h.id="InputRightAddon"},11881:function(e,t,n){"use strict";n.d(t,{A:function(){return a},f:function(){return l}});var i=n(68023),r=n(76801),o=n(31053),s=n(52322),a=(0,i.G)(function(e,t){let{isExternal:n,target:i,rel:a,className:l,...c}=e;return(0,s.jsx)(r.m.a,{...c,ref:t,className:(0,o.cx)("chakra-linkbox__overlay",l),rel:n?"noopener noreferrer":a,target:n?"_blank":i,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})}),l=(0,i.G)(function(e,t){let{className:n,...i}=e;return(0,s.jsx)(r.m.div,{ref:t,position:"relative",...i,className:(0,o.cx)("chakra-linkbox",n),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})})},27599:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var i=n(10625),r=n(76801),o=n(31053),s=n(52322),a=e=>{let{className:t,...n}=e,a=(0,i.x)();return(0,s.jsx)(r.m.hr,{"aria-orientation":"horizontal",className:(0,o.cx)("chakra-menu__divider",t),...n,__css:a.divider})};a.displayName="MenuDivider"},47154:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var i=n(83118),r=n(68023),o=n(76801),s=n(31053),a=n(52322),l=(0,r.G)(function(e,t){let{getHeaderProps:n}=(0,i.lp)(),r=(0,i.SV)();return(0,a.jsx)(o.m.header,{...n(e,t),className:(0,s.cx)("chakra-popover__header",e.className),__css:r.header})});l.displayName="PopoverHeader"},11284:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var i=n(83118),r=n(2784);function o(e){let t=r.Children.only(e.children),{getAnchorProps:n}=(0,i.lp)();return(0,r.cloneElement)(t,n(t.props,t.ref))}o.displayName="PopoverAnchor"},89833:function(e,t,n){"use strict";n.d(t,{u:function(){return l}});var i=n(83118),r=n(81672),o=n(68023),s=n(31053),a=n(52322),l=(0,o.G)(function(e,t){let{onClose:n}=(0,i.lp)(),o=(0,i.SV)();return(0,a.jsx)(r.P,{size:"sm",onClick:n,className:(0,s.cx)("chakra-popover__close-btn",e.className),__css:o.closeButton,ref:t,...e})});l.displayName="PopoverCloseButton"},46164:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var i=n(83118),r=n(76801),o=n(31053),s=n(52322),a=(e,t)=>t?`${e}.${t}, ${t}`:void 0;function l(e){var t;let{bg:n,bgColor:l,backgroundColor:c,shadow:u,boxShadow:d,shadowColor:h}=e,{getArrowProps:p,getArrowInnerProps:f}=(0,i.lp)(),m=(0,i.SV)(),x=null!=(t=null!=n?n:l)?t:c,g=null!=u?u:d;return(0,s.jsx)(r.m.div,{...p(),className:"chakra-popover__arrow-positioner",children:(0,s.jsx)(r.m.div,{className:(0,o.cx)("chakra-popover__arrow",e.className),...f(e),__css:{"--popper-arrow-shadow-color":a("colors",h),"--popper-arrow-bg":a("colors",x),"--popper-arrow-shadow":a("shadows",g),...m.arrow}})})}l.displayName="PopoverArrow"},25195:function(e,t,n){"use strict";n.d(t,{E:function(){return p}});var i=n(14008),r=n(68023),o=n(76801),s=n(84586),a=n(91982),l=n(9165),c=n(52322),[u,d]=(0,l.k)({name:"ProgressStylesContext",errorMessage:"useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Progress />\" "}),h=(0,r.G)((e,t)=>{let{min:n,max:r,value:s,isIndeterminate:a,role:l,...u}=e,h=(0,i.Wt)({value:s,min:n,max:r,isIndeterminate:a,role:l}),p=d(),f={height:"100%",...p.filledTrack};return(0,c.jsx)(o.m.div,{ref:t,style:{width:`${h.percent}%`,...u.style},...h.bind,...u,__css:f})}),p=(0,r.G)((e,t)=>{var n;let{value:r,min:l=0,max:d=100,hasStripe:p,isAnimated:f,children:m,borderRadius:x,isIndeterminate:g,"aria-label":v,"aria-labelledby":j,"aria-valuetext":b,title:y,role:C,...k}=(0,s.Lr)(e),w=(0,a.jC)("Progress",e),D=null!=x?x:null==(n=w.track)?void 0:n.borderRadius,_={animation:`${i.Ag} 1s linear infinite`},E=!g&&p,S={...E&&f&&_,...g&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${i.YD} 1s ease infinite normal none running`}},A={overflow:"hidden",position:"relative",...w.track};return(0,c.jsx)(o.m.div,{ref:t,borderRadius:D,__css:A,...k,children:(0,c.jsxs)(u,{value:w,children:[(0,c.jsx)(h,{"aria-label":v,"aria-labelledby":j,"aria-valuetext":b,min:l,max:d,value:r,isIndeterminate:g,css:S,borderRadius:D,title:y,role:C}),m]})})});p.displayName="Progress"},14008:function(e,t,n){"use strict";n.d(t,{Ag:function(){return a},O2:function(){return r},U1:function(){return o},Wt:function(){return l},YD:function(){return s}});var i=n(28165),r=(0,i.F4)({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),o=(0,i.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),s=(0,i.F4)({"0%":{left:"-40%"},"100%":{left:"100%"}}),a=(0,i.F4)({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function l(e){let{value:t=0,min:n,max:i,valueText:r,getValueText:o,isIndeterminate:s,role:a="progressbar"}=e,l=(t-n)*100/(i-n);return{bind:{"data-indeterminate":s?"":void 0,"aria-valuemax":i,"aria-valuemin":n,"aria-valuenow":s?void 0:t,"aria-valuetext":(()=>{if(null!=t)return"function"==typeof o?o(t,l):r})(),role:a},percent:l,value:t}}},59905:function(e,t,n){"use strict";n.d(t,{Y:function(){return d}});var i=n(63367),r=n(7344),o=n(68023),s=n(91982),a=n(84586),l=n(76801),c=n(31053),u=n(52322),d=(0,o.G)((e,t)=>{var n;let o=(0,r.X)(),{onChange:d,value:h}=e,p=(0,s.jC)("Radio",{...o,...e}),f=(0,a.Lr)(e),{spacing:m="0.5rem",children:x,isDisabled:g=null==o?void 0:o.isDisabled,isFocusable:v=null==o?void 0:o.isFocusable,inputProps:j,...b}=f,y=e.isChecked;(null==o?void 0:o.value)!=null&&null!=h&&(y=o.value===h);let C=d;(null==o?void 0:o.onChange)&&null!=h&&(C=(0,c.PP)(o.onChange,d));let k=null!=(n=null==e?void 0:e.name)?n:null==o?void 0:o.name,{getInputProps:w,getCheckboxProps:D,getLabelProps:_,getRootProps:E,htmlProps:S}=(0,i.x)({...b,isChecked:y,isFocusable:v,isDisabled:g,onChange:C,name:k}),[A,T]=function(e,t){let n={},i={};for(let[r,o]of Object.entries(e))t.includes(r)?n[r]=o:i[r]=o;return[n,i]}(S,a.oE),I=D(T),O=w(j,t),M=_(),F=Object.assign({},A,E()),R={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...p.container},N={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...p.control},P={userSelect:"none",marginStart:m,...p.label};return(0,u.jsxs)(l.m.label,{className:"chakra-radio",...F,__css:R,children:[(0,u.jsx)("input",{className:"chakra-radio__input",...O}),(0,u.jsx)(l.m.span,{className:"chakra-radio__control",...I,__css:N}),x&&(0,u.jsx)(l.m.span,{className:"chakra-radio__label",...M,__css:P,children:x})]})});d.displayName="Radio"},70189:function(e,t,n){"use strict";n.d(t,{i:function(){return h},p:function(){return d}});var i=n(68023),r=n(91982),o=n(84586),s=n(76801),a=n(31053),l=n(9165),c=n(52322),[u,d]=(0,l.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),h=(0,i.G)((e,t)=>{let n=(0,r.jC)("Table",e),{className:i,layout:l,...d}=(0,o.Lr)(e);return(0,c.jsx)(u,{value:n,children:(0,c.jsx)(s.m.table,{ref:t,__css:{tableLayout:l,...n.table},className:(0,a.cx)("chakra-table",i),...d})})});h.displayName="Table"},80774:function(e,t,n){"use strict";n.d(t,{Tr:function(){return a}});var i=n(70189),r=n(68023),o=n(76801),s=n(52322),a=(0,r.G)((e,t)=>{let n=(0,i.p)();return(0,s.jsx)(o.m.tr,{...e,ref:t,__css:n.tr})})},66983:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var i=n(70189),r=n(68023),o=n(76801),s=n(52322),a=(0,r.G)((e,t)=>{let n=(0,i.p)();return(0,s.jsx)(o.m.tbody,{...e,ref:t,__css:n.tbody})})},14093:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var i=n(68023),r=n(76801),o=n(31053),s=n(52322),a=(0,i.G)((e,t)=>{var n;let{overflow:i,overflowX:a,className:l,...c}=e;return(0,s.jsx)(r.m.div,{ref:t,className:(0,o.cx)("chakra-table__container",l),...c,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=i?i:a)?n:"auto",overflowY:"hidden",maxWidth:"100%"}})})},79443:function(e,t,n){"use strict";n.d(t,{Td:function(){return a}});var i=n(70189),r=n(68023),o=n(76801),s=n(52322),a=(0,r.G)(({isNumeric:e,...t},n)=>{let r=(0,i.p)();return(0,s.jsx)(o.m.td,{...t,ref:n,__css:r.td,"data-is-numeric":e})})},85954:function(e,t,n){"use strict";n.d(t,{t5:function(){return o}});var i=n(4428),r=e=>e.offsetWidth>0&&e.offsetHeight>0;function o(e){let t=Array.from(e.querySelectorAll("input:not(:disabled):not([disabled]),select:not(:disabled):not([disabled]),textarea:not(:disabled):not([disabled]),embed,iframe,object,a[href],area[href],button:not(:disabled):not([disabled]),[tabindex],audio[controls],video[controls],*[tabindex]:not([aria-disabled]),*[contenteditable]"));return t.unshift(e),t.filter(e=>(0,i.EB)(e)&&r(e))}},4428:function(e,t,n){"use strict";n.d(t,{EB:function(){return a},H9:function(){return s},cK:function(){return o}});var i=n(73200),r=e=>e.hasAttribute("tabindex");function o(e){return(0,i.Re)(e)&&"input"===e.localName&&"select"in e}function s(e){let t=(0,i.Re)(e)?(0,i.lZ)(e):document;return t.activeElement===e}function a(e){var t;if(!(0,i.Re)(e)||function e(t){return!!(t.parentElement&&e(t.parentElement))||t.hidden}(e)||!0==!!(t=e).getAttribute("disabled")||!0==!!t.getAttribute("aria-disabled"))return!1;let{localName:n}=e;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;let o={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return n in o?o[n]():!!function(e){let t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||r(e)}},99903:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var i=n(4428),r=n(73200),o=n(79729);function s(e,t={}){let{isActive:n=i.H9,nextTick:s,preventScroll:l=!0,selectTextIfInput:c=!0}=t;if(!e||n(e))return -1;function u(){if(!e){(0,o.ZK)({condition:!0,message:"[chakra-ui]: can't call focus() on `null` or `undefined` element"});return}if(function(){if(null==a){a=!1;try{let e=document.createElement("div");e.focus({get preventScroll(){return a=!0,!0}})}catch(e){}}return a}())e.focus({preventScroll:l});else if(e.focus(),l){let t=function(e){var t;let n=(0,r.lZ)(e),i=null!=(t=n.defaultView)?t:window,o=e.parentNode,s=[],a=n.scrollingElement||n.documentElement;for(;o instanceof i.HTMLElement&&o!==a;)(o.offsetHeight<o.scrollHeight||o.offsetWidth<o.scrollWidth)&&s.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),o=o.parentNode;return a instanceof i.HTMLElement&&s.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),s}(e);!function(e){for(let{element:t,scrollTop:n,scrollLeft:i}of e)t.scrollTop=n,t.scrollLeft=i}(t)}c&&((0,i.cK)(e)?e.select():"setSelectionRange"in e&&e.setSelectionRange(e.value.length,e.value.length))}return s?requestAnimationFrame(u):(u(),-1)}var a=null},36069:function(e,t,n){"use strict";n.d(t,{JR:function(){return p},R3:function(){return g},SF:function(){return m},US:function(){return h},uH:function(){return x}});var i=n(75487),r=n(38564),o=n(69180),s=n(30764),a=n(55924),l=n(22395),c=n(59474);let u=null,d=()=>{let e=u;u=null,e.forEach((e,t)=>{let n=t.state.tr,i=r.Gt.getState(t.state);i&&i.binding&&!i.binding.isDestroyed&&(e.forEach((e,t)=>{n.setMeta(t,e)}),t.dispatch(n))})},h=(e,t,n)=>{u||(u=new Map,c.Vs(0,d)),l.Yu(u,e,l.Ue).set(t,n)},p=(e,t,n)=>{if(0===e)return o.w$(t,0);let i=null===t._first?null:t._first.content.type;for(;null!==i&&t!==i;){if(i instanceof o.eI){if(i._length>=e)return o.w$(i,e);if(e-=i._length,null!==i._item&&null!==i._item.next)i=i._item.next.content.type;else{do i=null===i._item?null:i._item.parent,e--;while(i!==t&&null!==i&&null!==i._item&&null===i._item.next);null!==i&&i!==t&&(i=null===i._item?null:i._item.next.content.type)}}else{let r=(n.get(i)||{nodeSize:0}).nodeSize;if(null!==i._first&&e<r)i=i._first.content.type,e--;else{if(1===e&&0===i._length&&r>1)return new o.Zi(null===i._item?null:i._item.id,null===i._item?o.BW(i):null,null);if(e-=r,null!==i._item&&null!==i._item.next)i=i._item.next.content.type;else{if(0===e)return i=null===i._item?i:i._item.parent,new o.Zi(null===i._item?null:i._item.id,null===i._item?o.BW(i):null,null);do i=i._item.parent,e--;while(i!==t&&null===i._item.next);i!==t&&(i=i._item.next.content.type)}}}if(null===i)throw a.zR();if(0===e&&i.constructor!==o.eI&&i!==t)return f(i._item.parent,i._item)}return o.w$(t,t._length)},f=(e,t)=>{let n=null,i=null;return null===e._item?i=o.BW(e):n=o.at(e._item.id.client,e._item.id.clock),new o.Zi(n,i,t.id)},m=(e,t,n,i)=>{let r=o.or(n,e);if(null===r||r.type!==t&&!o.$4(t,r.type._item))return null;let s=r.type,a=0;if(s.constructor===o.eI)a=r.index;else if(null===s._item||!s._item.deleted){let e=s._first,t=0;for(;t<s._length&&t<r.index&&null!==e;){if(!e.deleted){let n=e.content.type;t++,n instanceof o.eI?a+=n._length:a+=i.get(n).nodeSize}e=e.right}a+=1}for(;s!==t&&null!==s._item;){let e=s._item.parent;if(null===e._item||!e._item.deleted){a+=1;let t=e._first;for(;null!==t;){let e=t.content.type;if(e===s)break;t.deleted||(e instanceof o.eI?a+=e._length:a+=i.get(e).nodeSize),t=t.right}}s=e}return a-1};function x(e,t,n="prosemirror"){let r=s.NB.fromJSON(e,t);return function(e,t="prosemirror"){let n=new o.QW,r=n.get(t,o.sI);return r.doc?(function(e,t){let n=t||new o.sI,r=n.doc?n.doc:{transact:e=>e(void 0)};(0,i.Rb)(r,n,e,new Map)}(e,r),r.doc):n}(r,n)}function g(e,t="prosemirror"){return function(e){let t=e.toArray();return{type:"doc",content:t.map(function e(t){let n;if(t.nodeName){n={type:t.nodeName};let i=t.getAttributes();Object.keys(i).length&&(n.attrs=i);let r=t.toArray();r.length&&(n.content=r.map(e).flat())}else{let e=t.toDelta();n=e.map(e=>{let t={type:"text",text:e.insert};return e.attributes&&(t.marks=Object.keys(e.attributes).map(t=>{let n=e.attributes[t],i={type:t};return Object.keys(n)&&(i.attrs=n),i})),t})}return n})}}(e.getXmlFragment(t))}},38564:function(e,t,n){"use strict";n.d(t,{Gk:function(){return o},Gt:function(){return r},uJ:function(){return s}});var i=n(27191);let r=new i.H$("y-sync"),o=new i.H$("y-undo"),s=new i.H$("yjs-cursor")},75487:function(e,t,n){"use strict";n.d(t,{K8:function(){return w},Rb:function(){return B},Z:function(){return C}});let i=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}};var r=n(30764),o=n(27191),s=n(68053);let a=Object.keys;var l=n(78254);let c=(e,t)=>{let n=0,i=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(;i+n<e.length&&i+n<t.length&&e[e.length-i-1]===t[t.length-i-1];)i++;return{index:n,remove:e.length-n-i,insert:t.slice(n,t.length-i)}};var u=n(55924),d=n(38564),h=n(69180),p=n(36069);let f=Math.random,m=e=>e[s.GW(f()*e.length)];var x=n(12023);let g="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser,g.ELEMENT_NODE,g.TEXT_NODE,g.CDATA_SECTION_NODE,g.COMMENT_NODE,g.DOCUMENT_NODE,g.DOCUMENT_TYPE_NODE,g.DOCUMENT_FRAGMENT_NODE;var v=n(59474);let j=(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!h.uY(t.ds,e.id),b=[{light:"#ecd44433",dark:"#ecd444"}],y=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){let n=l.Ue();e.forEach(e=>n.add(e)),t=t.filter(e=>!n.has(e))}e.set(n,m(t))}return e.get(n)},C=(e,{colors:t=b,colorMapping:n=new Map,permanentUserData:i=null,onFirstRender:r=()=>{}}={})=>{let s,a=!1,l=new o.Sy({props:{editable:e=>{let t=d.Gt.getState(e);return null==t.snapshot&&null==t.prevSnapshot}},key:d.Gt,state:{init:(r,o)=>({type:e,doc:e.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:i}),apply:(e,t)=>{let n=e.getMeta(d.Gt);if(void 0!==n)for(let e in t=Object.assign({},t),n)t[e]=n[e];return t.addToHistory=!1!==e.getMeta("addToHistory"),t.isChangeOrigin=void 0!==n&&!!n.isChangeOrigin,t.isUndoRedoOperation=void 0!==n&&!!n.isChangeOrigin&&!!n.isUndoRedoOperation,null!==t.binding&&void 0!==n&&(null!=n.snapshot||null!=n.prevSnapshot)&&v.Vs(0,()=>{null==t.binding||t.binding.isDestroyed||(null==n.restore?t.binding._renderSnapshot(n.snapshot,n.prevSnapshot,t):(t.binding._renderSnapshot(n.snapshot,n.snapshot,t),delete t.restore,delete t.snapshot,delete t.prevSnapshot,t.binding.mux(()=>{t.binding._prosemirrorChanged(t.binding.prosemirrorView.state.doc)})))}),t}},view:t=>{let n=new D(e,t);return null!=s&&s.destroy(),s=v.Vs(0,()=>{n._forceRerender(),t.dispatch(t.state.tr.setMeta(d.Gt,{binding:n})),r()}),{update:()=>{let e=l.getState(t.state);if(null==e.snapshot&&null==e.prevSnapshot&&(a||null!==t.state.doc.content.findDiffStart(t.state.doc.type.createAndFill().content))){if(a=!0,!1===e.addToHistory&&!e.isChangeOrigin){let e=d.Gk.getState(t.state),n=e&&e.undoManager;n&&n.stopCapturing()}n.mux(()=>{e.doc.transact(i=>{i.meta.set("addToHistory",e.addToHistory),n._prosemirrorChanged(t.state.doc)},d.Gt)})}},destroy:()=>{s.destroy(),n.destroy()}}}});return l},k=(e,t,n)=>{if(null!==t&&null!==t.anchor&&null!==t.head){let i=(0,p.SF)(n.doc,n.type,t.anchor,n.mapping),r=(0,p.SF)(n.doc,n.type,t.head,n.mapping);if(null!==i&&null!==r){let n;if("node"===t.type)try{n=o.qv.create(e.doc,Math.min(i,r))}catch(e){console.error("[@gamma-app/y-prosemirror][sync-plugin] restoreRelativeSelection NodeSelection error - pos:",i,r,"error:",e)}try{if(n)e.setSelection(n);else{let t=e.doc.resolve(i),n=e.doc.resolve(r),s=o.Bs.between(t,n);e.setSelection(s)}}catch(e){console.error("[@gamma-app/y-prosemirror][sync-plugin] restoreRelativeSelection setSelection error - pos:",i,r,"error:",e)}}}},w=(e,t)=>({anchor:(0,p.JR)(t.selection.anchor,e.type,e.mapping),head:(0,p.JR)(t.selection.head,e.type,e.mapping),type:t.selection.jsonID});class D{constructor(e,t){this.type=e,this.prosemirrorView=t,this.mux=i(),this.isDestroyed=!1,this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{null===this.beforeTransactionSelection&&(this.beforeTransactionSelection=w(this,t.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),e.observeDeep(this._observeFunction),this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return!!this.prosemirrorView.hasFocus()&&(x.jU&&null===this._domSelectionInView&&(v.Vs(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView)}_isDomSelectionInView(){let e=this.prosemirrorView._root.getSelection(),t=this.prosemirrorView._root.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);let n=t.getClientRects();0===n.length&&t.startContainer&&t.collapsed&&t.selectNodeContents(t.startContainer);let i=t.getBoundingClientRect(),r=g.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||r.clientWidth||0)&&i.top<=(window.innerHeight||r.clientHeight||0)}renderSnapshot(e,t){t||(t=h.Ox(h.VG(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(d.Gt,{snapshot:e,prevSnapshot:t}))}unrenderSnapshot(){this.mapping=new Map,this.mux(()=>{let e=this.type.toArray().map(e=>E(e,this.prosemirrorView.state.schema,this.mapping)).filter(e=>null!==e),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new r.p2(r.HY.from(e),0,0));t.setMeta(d.Gt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(t)})}_forceRerender(){this.mapping=new Map,this.mux(()=>{let e=this.type.toArray().map(e=>E(e,this.prosemirrorView.state.schema,this.mapping)).filter(e=>null!==e),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new r.p2(r.HY.from(e),0,0));this.prosemirrorView.dispatch(t.setMeta(d.Gt,{isChangeOrigin:!0}))})}_renderSnapshot(e,t,n){e||(e=h.CO(this.doc)),this.mapping=new Map,this.mux(()=>{this.doc.transact(i=>{let o=n.permanentUserData;o&&o.dss.forEach(e=>{h.UQ(i,e,e=>{})});let s=(e,t)=>{let i="added"===e?o.getUserByClientId(t.client):o.getUserByDeletedId(t);return{user:i,type:e,color:y(n.colorMapping,n.colors,i)}},a=h.ud(this.type,new h.aC(t.ds,e.sv)).map(n=>!n._item.deleted||j(n._item,e)||j(n._item,t)?E(n,this.prosemirrorView.state.schema,new Map,e,t,s):null).filter(e=>null!==e),l=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new r.p2(r.HY.from(a),0,0));this.prosemirrorView.dispatch(l.setMeta(d.Gt,{isChangeOrigin:!0}))},d.Gt)})}_typeChanged(e,t){let n=d.Gt.getState(this.prosemirrorView.state);if(0===e.length||null!=n.snapshot||null!=n.prevSnapshot){this.renderSnapshot(n.snapshot,n.prevSnapshot);return}this.mux(()=>{let e=(e,t)=>this.mapping.delete(t);h.UQ(t,t.deleteSet,e=>{if(e.constructor===h.ck){let t=e.content.type;t&&this.mapping.delete(t)}}),t.changed.forEach(e),t.changedParentTypes.forEach(e);let n=this.type.toArray().map(e=>_(e,this.prosemirrorView.state.schema,this.mapping)).filter(e=>null!==e),i=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new r.p2(r.HY.from(n),0,0));k(i,this.beforeTransactionSelection,this),i=i.setMeta(d.Gt,{isChangeOrigin:!0,isUndoRedoOperation:t.origin instanceof h.H6}),null!==this.beforeTransactionSelection&&this._isLocalCursorInView()&&i.scrollIntoView(),this.prosemirrorView.dispatch(i)})}_prosemirrorChanged(e){this.doc.transact(()=>{B(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=w(this,this.prosemirrorView.state)},d.Gt)}destroy(){this.isDestroyed=!0,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}let _=(e,t,n,i,r,o)=>{let s=n.get(e);if(void 0===s){if(e instanceof h.lt)return E(e,t,n,i,r,o);throw u.Nw()}return s},E=(e,t,n,i,r,o)=>{let s=[],a=e=>{if(e.constructor===h.lt){let a=_(e,t,n,i,r,o);null!==a&&s.push(a)}else{let a=S(e,t,n,i,r,o);null!==a&&a.forEach(e=>{null!==e&&s.push(e)})}};void 0===i||void 0===r?e.toArray().forEach(a):h.ud(e,new h.aC(r.ds,i.sv)).forEach(a);try{let a=e.getAttributes(i);void 0===i||(j(e._item,i)?j(e._item,r)||(a.ychange=o?o("added",e._item.id):{type:"added"}):a.ychange=o?o("removed",e._item.id):{type:"removed"});let l=t.node(e.nodeName,a,s);return n.set(e,l),l}catch(t){try{let n=e.getAttributes(i);console.error("[@gamma-app/y-prosemirror][sync-plugin] createNodeFromYElement error:",{message:t.message,el:JSON.stringify(e),attrs:JSON.stringify(n),children:JSON.stringify(s)})}catch(e){console.error("[@gamma-app/y-prosemirror][sync-plugin] createNodeFromYElement error forming error message:",e)}return e.doc.transact(t=>{e._item.delete(t)},d.Gt),n.delete(e),null}},S=(e,t,n,i,r,o)=>{let s=[],a=e.toDelta(i,r,o);try{for(let e=0;e<a.length;e++){let n=a[e],i=[];for(let e in n.attributes)i.push(t.mark(e,n.attributes[e]));s.push(t.text(n.insert,i))}}catch(t){return console.error("[@gamma-app/y-prosemirror][sync-plugin] createTextNodesFromYText error:",{message:t.message,text:e}),e.doc.transact(t=>{e._item.delete(t)},d.Gt),null}return s},A=(e,t)=>{let n=new h.eI,i=e.map(e=>({insert:e.text,attributes:U(e.marks)}));return n.applyDelta(i),t.set(n,e),n},T=(e,t)=>{let n=new h.lt(e.type.name);for(let t in e.attrs){let i=e.attrs[t];null!==i&&"ychange"!==t&&n.setAttribute(t,i)}return n.insert(0,F(e).map(e=>I(e,t))),t.set(n,e),n},I=(e,t)=>e instanceof Array?A(e,t):T(e,t),O=e=>"object"==typeof e&&null!==e,M=(e,t)=>{let n=Object.keys(e).filter(t=>null!==e[t]),i=n.length===Object.keys(t).filter(e=>null!==t[e]).length;for(let r=0;r<n.length&&i;r++){let o=n[r],s=e[o],a=t[o];i="ychange"===o||s===a||O(s)&&O(a)&&M(s,a)}return i},F=e=>{let t=e.content.content,n=[];for(let e=0;e<t.length;e++){let i=t[e];if(i.isText){let i=[];for(let n=t[e];e<t.length&&n.isText;n=t[++e])i.push(n);e--,n.push(i)}else n.push(i)}return n},R=(e,t)=>{let n=e.toDelta();return n.length===t.length&&n.every((e,n)=>e.insert===t[n].text&&a(e.attributes||{}).length===t[n].marks.length&&t[n].marks.every(t=>M(e.attributes[t.type.name]||{},t.attrs)))},N=(e,t)=>{if(e instanceof h.lt&&!(t instanceof Array)&&H(e,t)){let n=F(t);return e._length===n.length&&M(e.getAttributes(),t.attrs)&&e.toArray().every((e,t)=>N(e,n[t]))}return e instanceof h.eI&&t instanceof Array&&R(e,t)},P=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((e,n)=>t[n]===e),L=(e,t,n)=>{let i=e.toArray(),r=F(t),o=r.length,a=i.length,l=s.VV(a,o),c=0,u=0,d=!1;for(;c<l;c++){let e=i[c],t=r[c];if(P(n.get(e),t))d=!0;else if(!N(e,t))break}for(;c+u<l;u++){let e=i[a-u-1],t=r[o-u-1];if(P(n.get(e),t))d=!0;else if(!N(e,t))break}return{equalityFactor:c+u,foundMappedChild:d}},z=e=>{let t="",n=e._start,i={};for(;null!==n;)!n.deleted&&(n.countable&&n.content instanceof h.$_?t+=n.content.str:n.content instanceof h.MM&&(i[n.content.key]=null)),n=n.right;return{str:t,nAttrs:i}},G=(e,t,n)=>{n.set(e,t);let{nAttrs:i,str:r}=z(e),o=t.map(e=>({insert:e.text,attributes:Object.assign({},i,U(e.marks))})),{insert:s,remove:a,index:l}=c(r,o.map(e=>e.insert).join(""));e.delete(l,a),e.insert(l,s),e.applyDelta(o.map(e=>({retain:e.insert.length,attributes:e.attributes})))},U=e=>{let t={};return e.forEach(e=>{"ychange"!==e.type.name&&(t[e.type.name]=e.attrs)}),t},B=(e,t,n,i)=>{if(t instanceof h.lt&&t.nodeName!==n.type.name)throw Error("node name mismatch!");if(i.set(t,n),t instanceof h.lt){let e=t.getAttributes(),i=n.attrs;for(let n in i)null!==i[n]?e[n]!==i[n]&&"ychange"!==n&&t.setAttribute(n,i[n]):t.removeAttribute(n);for(let n in e)void 0===i[n]&&t.removeAttribute(n)}let r=F(n),o=r.length,a=t.toArray(),l=a.length,c=s.VV(o,l),u=0,p=0;for(;u<c;u++){let e=a[u],t=r[u];if(!P(i.get(e),t)){if(N(e,t))i.set(e,t);else break}}for(;p+u+1<c;p++){let e=a[l-p-1],t=r[o-p-1];if(!P(i.get(e),t)){if(N(e,t))i.set(e,t);else break}}e.transact(()=>{for(;l-u-p>0&&o-u-p>0;){let n=a[u],s=r[u],c=a[l-p-1],d=r[o-p-1];if(n instanceof h.eI&&s instanceof Array)R(n,s)||G(n,s,i),u+=1;else{let r=n instanceof h.lt&&H(n,s),o=c instanceof h.lt&&H(c,d);if(r&&o){let e=L(n,s,i),t=L(c,d,i);e.foundMappedChild&&!t.foundMappedChild?o=!1:!e.foundMappedChild&&t.foundMappedChild?r=!1:e.equalityFactor<t.equalityFactor?r=!1:o=!1}r?(B(e,n,s,i),u+=1):o?(B(e,c,d,i),p+=1):(i.delete(t.get(u)),t.delete(u,1),t.insert(u,[I(s,i)]),u+=1)}}let n=l-u-p;if(1===l&&0===o&&a[0]instanceof h.eI?(i.delete(a[0]),a[0].delete(0,a[0].length)):n>0&&(t.slice(u,u+n).forEach(e=>i.delete(e)),t.delete(u,n)),u+p<o){let e=[];for(let t=u;t<o-p;t++)e.push(I(r[t],i));t.insert(u,e)}},d.Gt)},H=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name},56143:function(e,t,n){"use strict";n.d(t,{KX:function(){return l},Yw:function(){return a},v0:function(){return d}});var i=n(27191),r=n(75487),o=n(69180),s=n(38564);let a=e=>{let t=s.Gk.getState(e).undoManager;if(null!=t)return t.undo(),!0},l=e=>{let t=s.Gk.getState(e).undoManager;if(null!=t)return t.redo(),!0},c=new Set(["paragraph"]),u=(e,t)=>!(e instanceof o.ck)||!(e.content instanceof o.zc)||!(e.content.type instanceof o.xv||e.content.type instanceof o.lt&&t.has(e.content.type.nodeName))||0===e.content.type._length,d=({protectedNodes:e=c,trackedOrigins:t=[],undoManager:n=null}={})=>new i.Sy({key:s.Gk,state:{init:(i,r)=>{let a=s.Gt.getState(r),l=n||new o.H6(a.type,{trackedOrigins:new Set([s.Gt].concat(t)),deleteFilter:t=>u(t,e),captureTransaction:e=>!1!==e.meta.get("addToHistory")});return{undoManager:l,prevSel:null,hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}},apply:(e,t,n,i)=>{let o=s.Gt.getState(i).binding,a=t.undoManager,l=a.undoStack.length>0,c=a.redoStack.length>0;return o?{undoManager:a,prevSel:(0,r.K8)(o,n),hasUndoOps:l,hasRedoOps:c}:l!==t.hasUndoOps||c!==t.hasRedoOps?Object.assign({},t,{hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}):t}},view:e=>{let t=s.Gt.getState(e.state),n=s.Gk.getState(e.state).undoManager;return n.on("stack-item-added",({stackItem:n})=>{let i=t.binding;i&&n.meta.set(i,s.Gk.getState(e.state).prevSel)}),n.on("stack-item-popped",({stackItem:e})=>{let n=t.binding;n&&(n.beforeTransactionSelection=e.meta.get(n)||n.beforeTransactionSelection)}),{destroy:()=>{n.destroy()}}}})},79609:function(e,t,n){"use strict";n.d(t,{V6:function(){return o},ZP:function(){return o}});var i=n(72338);let r=/^\s*>\s$/,o=i.NB.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,i.S0)({find:r,type:this.type})]}})},86900:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},d8:function(){return l}});var i=n(72338);let r=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,o=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,s=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,a=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,l=i.vc.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,i.Cf)({find:r,type:this.type}),(0,i.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,i.K9)({find:o,type:this.type}),(0,i.K9)({find:a,type:this.type})]}})},25059:function(e,t,n){"use strict";n.d(t,{ZP:function(){return a},dn:function(){return a}});var i=n(72338),r=n(27191);let o=/^```([a-z]+)?[\s\n]$/,s=/^~~~([a-z]+)?[\s\n]$/,a=i.NB.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;let{languageClassPrefix:n}=this.options,i=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]],r=i.filter(e=>e.startsWith(n)).map(e=>e.replace(n,"")),o=r[0];return o||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",(0,i.P1)(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!!e&&t.parent.type.name===this.name&&(!!n||!t.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:t}=e,{selection:n}=t,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;let o=i.parentOffset===i.parent.nodeSize-2,s=i.parent.textContent.endsWith("\n\n");return!!o&&!!s&&e.chain().command(({tr:e})=>(e.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;let{state:t}=e,{selection:n,doc:i}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;let s=r.parentOffset===r.parent.nodeSize-2;if(!s)return!1;let a=r.after();if(void 0===a)return!1;let l=i.nodeAt(a);return!l&&e.commands.exitCode()}}},addInputRules(){return[(0,i.zK)({find:o,type:this.type,getAttributes:e=>({language:e[1]})}),(0,i.zK)({find:s,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new r.Sy({key:new r.H$("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;let n=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,s=null==o?void 0:o.mode;if(!n||!s)return!1;let{tr:a}=e.state;return a.replaceSelectionWith(this.type.create({language:s})),a.setSelection(r.Bs.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(n.replace(/\r\n?/g,"\n")),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}})},31187:function(e,t,n){"use strict";n.d(t,{EK:function(){return s},ZP:function(){return s}});var i=n(72338);let r=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,o=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,s=i.vc.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,i.Cf)({find:r,type:this.type})]},addPasteRules(){return[(0,i.K9)({find:o,type:this.type})]}})},42626:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var i=n(72338);let r=i.NB.create({name:"doc",topNode:!0,content:"block+"})},74902:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var i=n(72338),r=n(80722);let o=i.hj.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[(0,r.q)(this.options)]}})},36518:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var i=n(72338),r=n(3027);let o=i.hj.create({name:"gapCursor",addProseMirrorPlugins:()=>[(0,r.d)()],extendNodeSchema(e){var t;let n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!==(t=(0,i.nU)((0,i.Nl)(e,"allowGapCursor",n)))&&void 0!==t?t:null}}})},39949:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var i=n(72338);let r=i.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",(0,i.P1)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:i})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:e,storedMarks:r}=n;if(e.$from.parent.type.spec.isolating)return!1;let{keepMarks:o}=this.options,{splittableMarks:s}=i.extensionManager,a=r||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&a&&o){let t=a.filter(e=>s.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},71391:function(e,t,n){"use strict";n.d(t,{X:function(){return r},Z:function(){return r}});var i=n(72338);let r=i.NB.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){let n=this.options.levels.includes(e.attrs.level),r=n?e.attrs.level:this.options.levels[0];return[`h${r}`,(0,i.P1)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>(0,i.zK)({find:RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}})},6776:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s}});var i=n(72338);let r=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,o=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,s=i.vc.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,i.Cf)({find:r,type:this.type})]},addPasteRules(){return[(0,i.K9)({find:o,type:this.type})]}})},86509:function(e,t,n){"use strict";n.d(t,{A:function(){return k},Z:function(){return k}});var i=n(72338),r=function(){};r.prototype.append=function(e){return e.length?(e=r.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},r.prototype.prepend=function(e){return e.length?r.from(e).append(this):this},r.prototype.appendInner=function(e){return new s(this,e)},r.prototype.slice=function(e,t){return(void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t)?r.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},r.prototype.get=function(e){if(!(e<0)&&!(e>=this.length))return this.getInner(e)},r.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},r.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach(function(t,n){return i.push(e(t,n))},t,n),i},r.from=function(e){return e instanceof r?e:e&&e.length?new o(e):r.empty};var o=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var r=t;r<n;r++)if(!1===e(this.values[r],i+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],i+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(r);r.empty=new o([]);var s=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var r=this.left.length;if(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),i)||n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,i+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){var r=this.left.length;if(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,i+r)||n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,i))return!1},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(r),a=n(26151),l=n(27191);class c{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){let n,i,r,o;if(0==this.eventCount)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}t&&(i=(n=this.remapping(s,this.items.length)).maps.length);let a=e.tr,l=[],d=[];return this.items.forEach((e,t)=>{if(!e.step){n||(i=(n=this.remapping(s,t+1)).maps.length),i--,d.push(e);return}if(n){d.push(new u(e.map));let t=e.step.map(n.slice(i)),r;t&&a.maybeStep(t).doc&&(r=a.mapping.maps[a.mapping.maps.length-1],l.push(new u(r,void 0,void 0,l.length+d.length))),i--,r&&n.appendMap(r,i)}else a.maybeStep(e.step);if(e.selection)return r=n?e.selection.map(n.slice(i)):e.selection,o=new c(this.items.slice(0,s).append(d.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:o,transform:a,selection:r}}addTransform(e,t,n,i){var r,o;let s,a=[],l=this.eventCount,d=this.items,p=!i&&d.length?d.get(d.length-1):null;for(let n=0;n<e.steps.length;n++){let r=e.steps[n].invert(e.docs[n]),o=new u(e.mapping.maps[n],r,t),s;(s=p&&p.merge(o))&&(o=s,n?a.pop():d=d.slice(0,d.length-1)),a.push(o),t&&(l++,t=void 0),i||(p=o)}let f=l-n.depth;return f>h&&(r=d,o=f,r.forEach((e,t)=>{if(e.selection&&0==o--)return s=t,!1}),d=r.slice(s),l-=f),new c(d.append(a),l)}remapping(e,t){let n=new a.vs;return this.items.forEach((t,i)=>{let r=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,r)},e,t),n}addMaps(e){return 0==this.eventCount?this:new c(this.items.append(e.map(e=>new u(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},i);let a=t;this.items.forEach(t=>{let i=r.getMirror(--a);if(null==i)return;o=Math.min(o,i);let l=r.maps[i];if(t.step){let o=e.steps[i].invert(e.docs[i]),c=t.selection&&t.selection.map(r.slice(a+1,i));c&&s++,n.push(new u(l,o,c))}else n.push(new u(l))},i);let l=[];for(let e=t;e<o;e++)l.push(new u(r.maps[e]));let d=this.items.slice(0,i).append(l).append(n),h=new c(d,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],o=0;return this.items.forEach((r,s)=>{if(s>=e)i.push(r),r.selection&&o++;else if(r.step){let e=r.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=r.selection&&r.selection.map(t.slice(n));a&&o++;let l=new u(s.invert(),e,a),c,d=i.length-1;(c=i.length&&i[d].merge(l))?i[d]=c:i.push(l)}}else r.map&&n--},this.items.length,0),new c(r.from(i.reverse()),o)}}c.empty=new c(r.empty,0);class u{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new u(t.getMap().invert(),t,this.selection)}}}class d{constructor(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i}}let h=20;function p(e){let t=[];return e.forEach((e,n,i,r)=>t.push(i,r)),t}function f(e,t){if(!e)return null;let n=[];for(let i=0;i<e.length;i+=2){let r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}function m(e,t,n,i){let r=v(t),o=j.get(t).spec.config,s=(i?e.undone:e.done).popEvent(t,r);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(i?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,r),c=new d(i?l:s.remaining,i?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(j,{redo:i,historyState:c}).scrollIntoView())}let x=!1,g=null;function v(e){let t=e.plugins;if(g!=t){x=!1,g=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){x=!0;break}}return x}let j=new l.H$("history"),b=new l.H$("closeHistory"),y=(e,t)=>{let n=j.getState(e);return!!n&&0!=n.done.eventCount&&(t&&m(n,e,t,!1),!0)},C=(e,t)=>{let n=j.getState(e);return!!n&&0!=n.undone.eventCount&&(t&&m(n,e,t,!0),!0)},k=i.hj.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>y(e,t),redo:()=>({state:e,dispatch:t})=>C(e,t)}),addProseMirrorPlugins(){return[function(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new l.Sy({key:j,state:{init:()=>new d(c.empty,c.empty,null,0),apply:(t,n,i)=>(function(e,t,n,i){let r=n.getMeta(j),o;if(r)return r.historyState;n.getMeta(b)&&(e=new d(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(j))return s.getMeta(j).redo?new d(e.done.addTransform(n,void 0,i,v(t)),e.undone,p(n.mapping.maps[n.steps.length-1]),e.prevTime):new d(e.done,e.undone.addTransform(n,void 0,i,v(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new d(e.done.rebased(n,o),e.undone.rebased(n,o),f(e.prevRanges,n.mapping),e.prevTime):new d(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),f(e.prevRanges,n.mapping),e.prevTime);{let r=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,i)=>{for(let r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)}),n}(n,e.prevRanges)),o=s?f(e.prevRanges,n.mapping):p(n.mapping.maps[n.steps.length-1]);return new d(e.done.addTransform(n,r?t.selection.getBookmark():void 0,i,v(t)),c.empty,o,n.time)}})(n,i,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i="historyUndo"==n?y:"historyRedo"==n?C:null;return!!i&&(t.preventDefault(),i(e.state,e.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}})},24424:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var i=n(72338);let r=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,o=i.NB.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",(0,i.P1)(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[(0,i.x2)({find:r,type:this.type,getAttributes:e=>{let[,,t,n,i]=e;return{src:n,alt:t,title:i}}})]}})},9432:function(e,t,n){"use strict";n.d(t,{Tx:function(){return l},ZP:function(){return l}});var i=n(72338);let r=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,o=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,s=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,a=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,l=i.vc.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,i.Cf)({find:r,type:this.type}),(0,i.Cf)({find:s,type:this.type})]},addPasteRules(){return[(0,i.K9)({find:o,type:this.type}),(0,i.K9)({find:a,type:this.type})]}})},70675:function(e,t,n){"use strict";n.d(t,{Z:function(){return eT}});var i=n(72338);let r=(e,t)=>{for(let n in t)e[n]=t[n];return e},o="numeric",s="ascii",a="alpha",l="asciinumeric",c="alphanumeric",u="domain",d="emoji",h="whitespace";function p(e,t,n){for(let i in t[o]&&(t[l]=!0,t[c]=!0),t[s]&&(t[l]=!0,t[a]=!0),t[l]&&(t[c]=!0),t[a]&&(t[c]=!0),t[c]&&(t[u]=!0),t[d]&&(t[u]=!0),t){let t=(i in n||(n[i]=[]),n[i]);0>t.indexOf(e)&&t.push(e)}}function f(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}f.groups={},f.prototype={accepts(){return!!this.t},go(e){let t=this.j[e];if(t)return t;for(let t=0;t<this.jr.length;t++){let n=this.jr[t][0],i=this.jr[t][1];if(i&&n.test(e))return i}return this.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,i){for(let r=0;r<e.length;r++)this.tt(e[r],t,n,i)},tr(e,t,n,i){let r;return i=i||f.groups,t&&t.j?r=t:(r=new f(t),n&&i&&p(t,n,i)),this.jr.push([e,r]),r},ts(e,t,n,i){let r=this,o=e.length;if(!o)return r;for(let t=0;t<o-1;t++)r=r.tt(e[t]);return r.tt(e[o-1],t,n,i)},tt(e,t,n,i){if(i=i||f.groups,t&&t.j)return this.j[e]=t,t;let o,s=this.go(e);if(s?(r((o=new f).j,s.j),o.jr.push.apply(o.jr,s.jr),o.jd=s.jd,o.t=s.t):o=new f,t){if(i){if(o.t&&"string"==typeof o.t){let e=r(function(e,t){let n={};for(let i in t)t[i].indexOf(e)>=0&&(n[i]=!0);return n}(o.t,i),n);p(t,e,i)}else n&&p(t,n,i)}o.t=t}return this.j[e]=o,o}};let m=(e,t,n,i,r)=>e.ta(t,n,i,r),x=(e,t,n,i,r)=>e.tr(t,n,i,r),g=(e,t,n,i,r)=>e.ts(t,n,i,r),v=(e,t,n,i,r)=>e.tt(t,n,i,r),j="WORD",b="UWORD",y="LOCALHOST",C="UTLD",k="SCHEME",w="SLASH_SCHEME",D="OPENBRACE",_="OPENBRACKET",E="OPENANGLEBRACKET",S="OPENPAREN",A="CLOSEBRACE",T="CLOSEBRACKET",I="CLOSEANGLEBRACKET",O="CLOSEPAREN",M="AMPERSAND",F="APOSTROPHE",R="ASTERISK",N="BACKSLASH",P="BACKTICK",L="CARET",z="COLON",G="COMMA",U="DOLLAR",B="EQUALS",H="EXCLAMATION",W="HYPHEN",V="PERCENT",q="PIPE",Z="PLUS",K="POUND",Y="QUERY",X="QUOTE",$="SEMI",J="SLASH",Q="TILDE",ee="UNDERSCORE",et="EMOJI";var en=Object.freeze({__proto__:null,WORD:j,UWORD:b,LOCALHOST:y,TLD:"TLD",UTLD:C,SCHEME:k,SLASH_SCHEME:w,NUM:"NUM",WS:"WS",NL:"NL",OPENBRACE:D,OPENBRACKET:_,OPENANGLEBRACKET:E,OPENPAREN:S,CLOSEBRACE:A,CLOSEBRACKET:T,CLOSEANGLEBRACKET:I,CLOSEPAREN:O,AMPERSAND:M,APOSTROPHE:F,ASTERISK:R,AT:"AT",BACKSLASH:N,BACKTICK:P,CARET:L,COLON:z,COMMA:G,DOLLAR:U,DOT:"DOT",EQUALS:B,EXCLAMATION:H,HYPHEN:W,PERCENT:V,PIPE:q,PLUS:Z,POUND:K,QUERY:Y,QUOTE:X,SEMI:$,SLASH:J,TILDE:Q,UNDERSCORE:ee,EMOJI:et,SYM:"SYM"});let ei=/[a-z]/,er=/\p{L}/u,eo=/\p{Emoji}/u,es=/\d/,ea=/\s/,el=null,ec=null;function eu(e,t,n,i,r){let o;let s=t.length;for(let n=0;n<s-1;n++){let s=t[n];e.j[s]?o=e.j[s]:((o=new f(i)).jr=r.slice(),e.j[s]=o),e=o}return(o=new f(n)).jr=r.slice(),e.j[t[s-1]]=o,o}function ed(e){let t=[],n=[],i=0;for(;i<e.length;){let r=0;for(;"0123456789".indexOf(e[i+r])>=0;)r++;if(r>0){t.push(n.join(""));let o=parseInt(e.substring(i,i+r),10);for(;o>0;o--)n.pop();i+=r}else"_"===e[i]?t.push(n.join("")):n.push(e[i]),i++}return t}let eh={defaultProtocol:"http",events:null,format:ef,formatHref:ef,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ep(e,t){void 0===t&&(t=null);let n=r({},eh);e&&(n=r(n,e instanceof ep?e.o:e));let i=n.ignoreTags,o=[];for(let e=0;e<i.length;e++)o.push(i[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function ef(e){return e}function em(e,t){this.t="token",this.v=e,this.tk=t}function ex(e,t){class n extends em{constructor(t,n){super(t,n),this.t=e}}for(let e in t)n.prototype[e]=t[e];return n.t=e,n}ep.prototype={o:eh,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){let i=null!=t,r=this.o[e];return r&&("object"==typeof r?"function"==typeof(r=n.t in r?r[n.t]:eh[e])&&i&&(r=r(t,n)):"function"==typeof r&&i&&(r=r(t,n.t,n))),r},getObj(e,t,n){let i=this.o[e];return"function"==typeof i&&null!=t&&(i=i(t,n.t,n)),i},render(e){let t=e.render(this),n=this.get("render",null,e)||this.defaultRender;return n(t,e.t,e)}},em.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){let t=this.toString(),n=e.get("truncate",t,this),i=e.get("format",t,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=eh.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){let t=this.toFormattedHref(e),n=e.get("tagName",t,this),i=this.toFormattedString(e),o={},s=e.get("className",t,this),a=e.get("target",t,this),l=e.get("rel",t,this),c=e.getObj("attributes",t,this),u=e.getObj("events",t,this);return o.href=t,s&&(o.class=s),a&&(o.target=a),l&&(o.rel=l),c&&r(o,c),{tagName:n,attributes:o,content:i,eventListeners:u}}};let eg=ex("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ev=ex("text"),ej=ex("nl"),eb=ex("url",{isLink:!0,toHref(e){return void 0===e&&(e=eh.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){let e=this.tk;return e.length>=2&&e[0].t!==y&&e[1].t===z}}),ey=e=>new f(e);function eC(e,t,n){let i=n[0].s,r=n[n.length-1].e,o=t.slice(i,r);return new e(o,n)}let ek="undefined"!=typeof console&&console&&console.warn||(()=>{}),ew={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function eD(e,t){if(void 0===t&&(t=!1),ew.initialized&&ek(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw Error('linkifyjs: incorrect scheme format.\n 1. Must only contain digits, lowercase ASCII letters or "-"\n 2. Cannot start or end with "-"\n 3. "-" cannot repeat');ew.customSchemes.push([e,t])}function e_(e){return ew.initialized||function(){ew.scanner=function(e){void 0===e&&(e=[]);let t={};f.groups=t;let n=new f;null==el&&(el=ed("aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2")),null==ec&&(ec=ed("121342632165322333335356545565555243543542246363257457433_355524444661154543332344423364211133222221212112_52232222232212222223222241112222224322321222")),v(n,"'",F),v(n,"{",D),v(n,"[",_),v(n,"<",E),v(n,"(",S),v(n,"}",A),v(n,"]",T),v(n,">",I),v(n,")",O),v(n,"&",M),v(n,"*",R),v(n,"@","AT"),v(n,"`",P),v(n,"^",L),v(n,":",z),v(n,",",G),v(n,"$",U),v(n,".","DOT"),v(n,"=",B),v(n,"!",H),v(n,"-",W),v(n,"%",V),v(n,"|",q),v(n,"+",Z),v(n,"#",K),v(n,"?",Y),v(n,'"',X),v(n,"/",J),v(n,";",$),v(n,"~",Q),v(n,"_",ee),v(n,"\\",N);let i=x(n,es,"NUM",{[o]:!0});x(i,es,i);let c=x(n,ei,j,{[s]:!0});x(c,ei,c);let m=x(n,er,b,{[a]:!0});x(m,ei),x(m,er,m);let eh=x(n,ea,"WS",{[h]:!0});v(n,"\n","NL",{[h]:!0}),v(eh,"\n"),x(eh,ea,eh);let ep=x(n,eo,et,{[d]:!0});x(ep,eo,ep),v(ep,"",ep);let ef=v(ep,"");x(ef,eo,ep);let em=[[ei,c]],ex=[[ei,null],[er,m]];for(let e=0;e<el.length;e++)eu(n,el[e],"TLD",j,em);for(let e=0;e<ec.length;e++)eu(n,ec[e],C,b,ex);p("TLD",{tld:!0,ascii:!0},t),p(C,{utld:!0,alpha:!0},t),eu(n,"file",k,j,em),eu(n,"mailto",k,j,em),eu(n,"http",w,j,em),eu(n,"https",w,j,em),eu(n,"ftp",w,j,em),eu(n,"ftps",w,j,em),p(k,{scheme:!0,ascii:!0},t),p(w,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let t=0;t<e.length;t++){let i=e[t][0],r=e[t][1],a=r?{scheme:!0}:{slashscheme:!0};i.indexOf("-")>=0?a[u]=!0:ei.test(i)?es.test(i)?a[l]=!0:a[s]=!0:a[o]=!0,g(n,i,i,a)}return g(n,"localhost",y,{ascii:!0}),n.jd=new f("SYM"),{start:n,tokens:r({groups:t},en)}}(ew.customSchemes);for(let e=0;e<ew.tokenQueue.length;e++)ew.tokenQueue[e][1]({scanner:ew.scanner});ew.parser=function(e){let{groups:t}=e,n=t.domain.concat([M,R,"AT",N,P,L,U,B,W,"NUM",V,q,Z,K,J,"SYM",Q,ee]),i=[F,I,A,T,O,z,G,"DOT",H,E,D,_,S,Y,X,$],r=[M,F,R,N,P,L,A,U,B,W,"NUM",D,V,q,Z,K,Y,J,"SYM",Q,ee],o=ey(),s=v(o,Q);m(s,r,s),m(s,t.domain,s);let a=ey(),l=ey(),c=ey();m(o,t.domain,a),m(o,t.scheme,l),m(o,t.slashscheme,c),m(a,r,s),m(a,t.domain,a);let u=v(a,"AT");v(s,"AT",u),v(l,"AT",u),v(c,"AT",u);let d=v(s,"DOT");m(d,r,s),m(d,t.domain,s);let h=ey();m(u,t.domain,h),m(h,t.domain,h);let p=v(h,"DOT");m(p,t.domain,h);let f=ey(eg);m(p,t.tld,f),m(p,t.utld,f),v(u,y,f);let x=v(h,W);m(x,t.domain,h),m(f,t.domain,h),v(f,"DOT",p),v(f,W,x);let g=v(f,z);m(g,t.numeric,eg);let j=v(a,W),b=v(a,"DOT");m(j,t.domain,a),m(b,r,s),m(b,t.domain,a);let C=ey(eb);m(b,t.tld,C),m(b,t.utld,C),m(C,t.domain,a),m(C,r,s),v(C,"DOT",b),v(C,W,j),v(C,"AT",u);let k=v(C,z),w=ey(eb);m(k,t.numeric,w);let et=ey(eb),ei=ey();m(et,n,et),m(et,i,ei),m(ei,n,et),m(ei,i,ei),v(C,J,et),v(w,J,et);let er=v(l,z),eo=v(c,z),es=v(eo,J);v(es,J,er),m(l,t.domain,a),v(l,"DOT",b),v(l,W,j),m(c,t.domain,a),v(c,"DOT",b),v(c,W,j),m(er,t.domain,et),v(er,J,et);let ea=v(et,D),el=v(et,_),ec=v(et,E),eu=v(et,S);v(ei,D,ea),v(ei,_,el),v(ei,E,ec),v(ei,S,eu),v(ea,A,et),v(el,T,et),v(ec,I,et),v(eu,O,et),v(ea,A,et);let ed=ey(eb),eh=ey(eb),ep=ey(eb),ef=ey(eb);m(ea,n,ed),m(el,n,eh),m(ec,n,ep),m(eu,n,ef);let em=ey(),ex=ey(),ev=ey(),eC=ey();return m(ea,i),m(el,i),m(ec,i),m(eu,i),m(ed,n,ed),m(eh,n,eh),m(ep,n,ep),m(ef,n,ef),m(ed,i,ed),m(eh,i,eh),m(ep,i,ep),m(ef,i,ef),m(em,n,em),m(ex,n,eh),m(ev,n,ep),m(eC,n,ef),m(em,i,em),m(ex,i,ex),m(ev,i,ev),m(eC,i,eC),v(eh,T,et),v(ep,I,et),v(ef,O,et),v(ed,A,et),v(ex,T,et),v(ev,I,et),v(eC,O,et),v(em,O,et),v(o,y,C),v(o,"NL",ej),{start:o,tokens:en}}(ew.scanner.tokens);for(let e=0;e<ew.pluginQueue.length;e++)ew.pluginQueue[e][1]({scanner:ew.scanner,parser:ew.parser});ew.initialized=!0}(),function(e,t,n){let i=n.length,r=0,o=[],s=[];for(;r<i;){let a=e,l=null,c=null,u=0,d=null,h=-1;for(;r<i&&!(l=a.go(n[r].t));)s.push(n[r++]);for(;r<i&&(c=l||a.go(n[r].t));)l=null,(a=c).accepts()?(h=0,d=a):h>=0&&h++,r++,u++;if(h<0)(r-=u)<i&&(s.push(n[r]),r++);else{s.length>0&&(o.push(eC(ev,t,s)),s=[]),r-=h,u-=h;let e=d.t,i=n.slice(r-u,r);o.push(eC(e,t,i))}}return s.length>0&&o.push(eC(ev,t,s)),o}(ew.parser.start,e,function(e,t){let n=function(e){let t=[],n=e.length,i=0;for(;i<n;){let r,o=e.charCodeAt(i),s=o<55296||o>56319||i+1===n||(r=e.charCodeAt(i+1))<56320||r>57343?e[i]:e.slice(i,i+2);t.push(s),i+=s.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),i=n.length,r=[],o=0,s=0;for(;s<i;){let a=e,l=null,c=0,u=null,d=-1,h=-1;for(;s<i&&(l=a.go(n[s]));)(a=l).accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[s].length,h++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=h,c-=d,r.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return r}(ew.scanner.start,e))}function eE(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}let i=new ep(n),r=e_(e),o=[];for(let e=0;e<r.length;e++){let n=r[e];n.isLink&&(!t||n.t===t)&&o.push(n.toFormattedObject(i))}return o}function eS(e,t){void 0===t&&(t=null);let n=e_(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)}var eA=n(27191);let eT=i.vc.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(e=>{if("string"==typeof e){eD(e);return}eD(e.scheme,e.optionalSlashes)})},onDestroy(){f.groups={},ew.scanner=null,ew.parser=null,ew.tokenQueue=[],ew.pluginQueue=[],ew.customSchemes=[],ew.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){return["a",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,i.K9)({find:e=>eE(e).filter(e=>!this.options.validate||this.options.validate(e.value)).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){var e,t,n;let r=[];return this.options.autolink&&r.push((e={type:this.type,validate:this.options.validate},new eA.Sy({key:new eA.H$("autolink"),appendTransaction:(t,n,r)=>{let o=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),s=t.some(e=>e.getMeta("preventAutolink"));if(!o||s)return;let{tr:a}=r,l=(0,i.XP)(n.doc,[...t]),{mapping:c}=l,u=(0,i.QC)(l);if(u.forEach(({oldRange:t,newRange:o})=>{let s,l;(0,i.tI)(t.from,t.to,n.doc).filter(t=>t.mark.type===e.type).forEach(t=>{let o=c.map(t.from),s=c.map(t.to),l=(0,i.tI)(o,s,r.doc).filter(t=>t.mark.type===e.type);if(!l.length)return;let u=l[0],d=n.doc.textBetween(t.from,t.to,void 0," "),h=r.doc.textBetween(u.from,u.to,void 0," "),p=eS(d),f=eS(h);p&&!f&&a.removeMark(u.from,u.to,e.type)});let u=(0,i.b5)(r.doc,o,e=>e.isTextblock);if(u.length>1?(s=u[0],l=r.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(o.from,o.to," "," ").endsWith(" ")&&(s=u[0],l=r.doc.textBetween(s.pos,o.to,void 0," ")),s&&l){let t=l.split(" ").filter(e=>""!==e);if(t.length<=0)return!1;let n=t[t.length-1],i=s.pos+l.lastIndexOf(n);if(!n)return!1;eE(n).filter(e=>e.isLink).filter(t=>!e.validate||e.validate(t.value)).map(e=>({...e,from:i+e.start+1,to:i+e.end+1})).forEach(t=>{a.addMark(t.from,t.to,e.type.create({href:t.href}))})}}),a.steps.length)return a}}))),this.options.openOnClick&&r.push((t={type:this.type},new eA.Sy({key:new eA.H$("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,s,a;let l=(0,i.u9)(e.state,t.type.name),c=null===(o=r.target)||void 0===o?void 0:o.closest("a"),u=null!==(s=null==c?void 0:c.href)&&void 0!==s?s:l.href,d=null!==(a=null==c?void 0:c.target)&&void 0!==a?a:l.target;return!!c&&!!u&&(window.open(u,d),!0)}}}))),this.options.linkOnPaste&&r.push((n={editor:this.editor,type:this.type},new eA.Sy({key:new eA.H$("handlePasteLink"),props:{handlePaste:(e,t,i)=>{let{state:r}=e,{selection:o}=r,{empty:s}=o;if(s)return!1;let a="";i.content.forEach(e=>{a+=e.textContent});let l=eE(a).find(e=>e.isLink&&e.value===a);return!!a&&!!l&&(n.editor.commands.setMark(n.type,{href:l.href}),!0)}}}))),r}})},38438:function(e,t,n){"use strict";n.d(t,{Z:function(){return r},n:function(){return r}});var i=n(72338);let r=i.NB.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})},78563:function(e,t,n){"use strict";n.d(t,{Re:function(){return s}});var i=n(72338);let r=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,o=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,s=i.vc.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,i.Cf)({find:r,type:this.type})]},addPasteRules(){return[(0,i.K9)({find:o,type:this.type})]}})},39615:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var i=n(72338);let r=i.NB.create({name:"text",group:"inline"})},39475:function(e,t,n){"use strict";n.d(t,{Z:function(){return r},v:function(){return r}});var i=n(72338);let r=i.vc.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}})},55388:function(e,t,n){"use strict";n.d(t,{fW:function(){return p},jE:function(){return f}});var i=n(2784),r=n(72338),o=n(28316);class s extends r.ML{constructor(){super(...arguments),this.contentComponent=null}}let a=({renderers:e})=>i.createElement(i.Fragment,null,Object.entries(e).map(([e,t])=>o.createPortal(t.reactElement,t.element,e)));class l extends i.Component{constructor(e){super(e),this.editorContentRef=i.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?queueMicrotask(()=>{(0,o.flushSync)(e)}):e()}setRenderer(e,t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>({renderers:{...n,[e]:t}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:t})=>{let n={...t};return delete n[e],{renderers:n}})})}componentWillUnmount(){let{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,...t}=this.props;return i.createElement(i.Fragment,null,i.createElement("div",{ref:this.editorContentRef,...t}),i.createElement(a,{renderers:this.state.renderers}))}}i.memo(l);let c=(0,i.createContext)({onDragStart:void 0}),u=()=>(0,i.useContext)(c);i.forwardRef((e,t)=>{let{onDragStart:n}=u(),r=e.as||"div";return i.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});class d{constructor(e,{editor:t,props:n={},as:i="div",className:r=""}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(i),this.element.classList.add("react-renderer"),r&&this.element.classList.add(...r.split(" ")),this.render()}render(){var e,t,n;let r=this.component,o=this.props;("function"==typeof r&&r.prototype&&r.prototype.isReactComponent||"object"==typeof r&&(null===(n=r.$$typeof)||void 0===n?void 0:n.toString())==="Symbol(react.forward_ref)")&&(o.ref=e=>{this.ref=e}),this.reactElement=i.createElement(r,{...o}),null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,t;null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.removeRenderer(this.id)}}class h extends r.DK{mount(){let e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){var t;this.component.displayName=(t=this.extension.name).charAt(0).toUpperCase()+t.substring(1)}let n=e=>{let t=this.component,n=this.onDragStart.bind(this);return i.createElement(i.Fragment,null,i.createElement(c.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}}},i.createElement(t,{...e})))};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);let{className:o=""}=this.options;this.renderer=new d(n,{editor:this.editor,props:e,as:r,className:`node-${this.node.type.name} ${o}`.trim()})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null===(e=this.renderer.element.firstElementChild)||void 0===e?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let i=this.node,r=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:i,oldDecorations:r,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function p(e,t){return n=>n.editor.contentComponent?new h(e,n,t):{}}let f=(e={},t=[])=>{let[n,r]=(0,i.useState)(null),o=function(){let[,e]=(0,i.useState)(0);return()=>e(e=>e+1)}();return(0,i.useEffect)(()=>{let t=!0,n=new s(e);return r(n),n.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t&&o()})})}),()=>{n.destroy(),t=!1}},t),n}},30541:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var i=n(72338),r=n(79609),o=n(86900);let s=i.NB.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",(0,i.P1)(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),a=i.vc.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>{let t=e.hasAttribute("style");return!!t&&{}}}],renderHTML({HTMLAttributes:e}){return["span",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{let n=(0,i.Jo)(e,this.type),r=Object.entries(n).some(([,e])=>!!e);return!!r||t.unsetMark(this.name)}}}}),l=/^\s*([-+*])\s$/,c=i.NB.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(s.name,this.editor.getAttributes(a.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=(0,i.S0)({find:l,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=(0,i.S0)({find:l,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(a.name),editor:this.editor})),[e]}});var u=n(31187),d=n(25059),h=n(42626),p=n(80722);let f=i.hj.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[(0,p.q)(this.options)]}});var m=n(36518),x=n(39949),g=n(71391),v=n(86509),j=n(27191);let b=i.NB.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",(0,i.P1)(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{var n;if(t){let{$to:t}=e.selection,i=t.end();if(t.nodeAfter)e.setSelection(j.Bs.create(e.doc,t.pos));else{let r=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(e.insert(i,r),e.setSelection(j.Bs.create(e.doc,i)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[(0,i.x2)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}});var y=n(9432);let C=i.NB.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",(0,i.P1)(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),k=i.NB.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",(0,i.P1)(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),w=i.vc.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>{let t=e.hasAttribute("style");return!!t&&{}}}],renderHTML({HTMLAttributes:e}){return["span",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{let n=(0,i.Jo)(e,this.type),r=Object.entries(n).some(([,e])=>!!e);return!!r||t.unsetMark(this.name)}}}}),D=/^(\d+)\.\s$/,_=i.NB.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){let{start:t,...n}=e;return 1===t?["ol",(0,i.P1)(this.options.HTMLAttributes,n),0]:["ol",(0,i.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(k.name,this.editor.getAttributes(w.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=(0,i.S0)({find:D,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=(0,i.S0)({find:D,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(w.name),editor:this.editor})),[e]}});var E=n(38438),S=n(78563),A=n(39615);let T=i.hj.create({name:"starterKit",addExtensions(){var e,t,n,i,s,a,l,p,j,k,w,D,T,I,O,M,F,R;let N=[];return!1!==this.options.blockquote&&N.push(r.V6.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&N.push(o.d8.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&N.push(c.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&N.push(u.EK.configure(null===(i=this.options)||void 0===i?void 0:i.code)),!1!==this.options.codeBlock&&N.push(d.dn.configure(null===(s=this.options)||void 0===s?void 0:s.codeBlock)),!1!==this.options.document&&N.push(h.B.configure(null===(a=this.options)||void 0===a?void 0:a.document)),!1!==this.options.dropcursor&&N.push(f.configure(null===(l=this.options)||void 0===l?void 0:l.dropcursor)),!1!==this.options.gapcursor&&N.push(m.f.configure(null===(p=this.options)||void 0===p?void 0:p.gapcursor)),!1!==this.options.hardBreak&&N.push(x.U.configure(null===(j=this.options)||void 0===j?void 0:j.hardBreak)),!1!==this.options.heading&&N.push(g.X.configure(null===(k=this.options)||void 0===k?void 0:k.heading)),!1!==this.options.history&&N.push(v.A.configure(null===(w=this.options)||void 0===w?void 0:w.history)),!1!==this.options.horizontalRule&&N.push(b.configure(null===(D=this.options)||void 0===D?void 0:D.horizontalRule)),!1!==this.options.italic&&N.push(y.Tx.configure(null===(T=this.options)||void 0===T?void 0:T.italic)),!1!==this.options.listItem&&N.push(C.configure(null===(I=this.options)||void 0===I?void 0:I.listItem)),!1!==this.options.orderedList&&N.push(_.configure(null===(O=this.options)||void 0===O?void 0:O.orderedList)),!1!==this.options.paragraph&&N.push(E.n.configure(null===(M=this.options)||void 0===M?void 0:M.paragraph)),!1!==this.options.strike&&N.push(S.Re.configure(null===(F=this.options)||void 0===F?void 0:F.strike)),!1!==this.options.text&&N.push(A.x.configure(null===(R=this.options)||void 0===R?void 0:R.text)),N}})},3517:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var i=n(2784),r=n(62519),o=n(23993);function s(){o.O.current||(0,r.A)();let[e]=(0,i.useState)(o.n.current);return e}},49431:function(e,t,n){"use strict";n.d(t,{kZ:function(){return d}});var i=n(48834).lW;let r="function"==typeof btoa,o="function"==typeof i;"function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder;let s=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="];(e=>{let t={};e.forEach((e,n)=>t[e]=n)})(s);let a=String.fromCharCode.bind(String);"function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array);let l=e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),c=r?e=>btoa(e):o?e=>i.from(e,"binary").toString("base64"):e=>{let t,n,i,r,o="",a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255)throw TypeError("invalid character found");o+=s[(t=n<<16|i<<8|r)>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},u=o?e=>i.from(e).toString("base64"):e=>{let t=[];for(let n=0,i=e.length;n<i;n+=4096)t.push(a.apply(null,e.subarray(n,n+4096)));return c(t.join(""))},d=(e,t=!1)=>t?l(u(e)):u(e)},12023:function(e,t,n){"use strict";let i;n.d(t,{jU:function(){return p}});var r,o,s=n(22395),a=n(62664);let l=e=>void 0===e?null:e,c=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}};try{"undefined"!=typeof localStorage&&(c=localStorage)}catch(e){}let u=c;var d=n(34406);let h=void 0!==d&&d.release&&/node|io\.js/.test(d.release.name),p="undefined"!=typeof window&&!h;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let f=[];r="--"+(o="production"),(()=>{if(void 0===i){if(h){i=s.Ue();let e=d.argv,t=null;for(let n=0;n<e.length;n++){let r=e[n];"-"===r[0]?(null!==t&&i.set(t,""),t=r):null!==t?(i.set(t,r),t=null):f.push(r)}null!==t&&i.set(t,"")}else"object"==typeof location?(i=s.Ue(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){let[t,n]=e.split("=");i.set(`--${a.NF(t,"-")}`,n),i.set(`-${a.NF(t,"-")}`,n)}})):i=s.Ue()}return i})().has(r)||l(h?d.env[o.toUpperCase()]:u.getItem(o))},55924:function(e,t,n){"use strict";n.d(t,{Nw:function(){return r},Ue:function(){return i},zR:function(){return o}});let i=e=>Error(e),r=()=>{throw i("Method unimplemented")},o=()=>{throw i("Unexpected case")}},59474:function(e,t,n){"use strict";n.d(t,{Vs:function(){return o}});let i=e=>class{constructor(e){this._=e}destroy(){e(this._)}},r=i(clearTimeout),o=(e,t)=>new r(setTimeout(t,e));i(clearInterval),i(e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e)),i(e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e))},22395:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i},Yu:function(){return r}});let i=()=>new Map,r=(e,t,n)=>{let i=e.get(t);return void 0===i&&e.set(t,i=n()),i}},68053:function(e,t,n){"use strict";n.d(t,{Fp:function(){return o},GW:function(){return i},VV:function(){return r}});let i=Math.floor,r=(e,t)=>e<t?e:t,o=(e,t)=>e>t?e:t},78254:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i}});let i=()=>new Set},62664:function(e,t,n){"use strict";n.d(t,{IK:function(){return i},NF:function(){return l}});let i=String.fromCharCode,r=e=>e.toLowerCase(),o=/^\s*/g,s=e=>e.replace(o,""),a=/([A-Z])/g,l=(e,t)=>s(e.replace(a,e=>`${t}${r(e)}`));"undefined"!=typeof TextEncoder&&new TextEncoder;let c="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});c&&1===c.decode(new Uint8Array).length&&(c=null)},19870:function(e,t,n){"use strict";function i(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.d(t,{TU:function(){return G}});let r=i(),o=/[&<>"']/,s=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=e=>c[e];function d(e,t){if(t){if(o.test(e))return e.replace(s,u)}else if(a.test(e))return e.replace(l,u);return e}let h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function p(e){return e.replace(h,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}let f=/(^|[^\[])\^/g;function m(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,i)=>(i=(i=i.source||i).replace(f,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}let x=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(e,t,n){if(e){let e;try{e=decodeURIComponent(p(n)).replace(x,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){j[" "+e]||(b.test(e)?j[" "+e]=e+"/":j[" "+e]=_(e,"/",!0)),e=j[" "+e];let n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(y,"$1")+t:"/"!==t.charAt(0)?e+t:n?t:e.replace(C,"$1")+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}let j={},b=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/,k={exec:function(){}};function w(e){let t=1,n,i;for(;t<arguments.length;t++)for(i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}function D(e,t){let n=e.replace(/\|/g,(e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}),i=n.split(/ \|/),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function _(e,t,n){let i=e.length;if(0===i)return"";let r=0;for(;r<i;){let o=e.charAt(i-r-1);if(o!==t||n){if(o!==t&&n)r++;else break}else r++}return e.slice(0,i-r)}function E(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function S(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function A(e,t,n,i){let r=t.href,o=t.title?d(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;let e={type:"link",raw:n,href:r,title:o,text:s,tokens:i.inlineTokens(s,[])};return i.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:o,text:d(s)}}class T{constructor(e){this.options=e||r}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:_(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let i=n[1];return t.split("\n").map(e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=_(e,"#");this.options.pedantic?e=t.trim():(!t||/ $/.test(t))&&(e=t.trim())}let n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,o,s,a,l,c,u,d,h,p;let f=t[1].trim(),m=f.length>1,x={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");let g=RegExp(`^( {0,3}${f})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=g.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(o=2,h=c.trimLeft()):(o=(o=t[2].search(/[^ ]/))>4?1:o,h=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){let t=RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),i=RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),s=RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(c=d=e.split("\n",1)[0],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(r.test(c)||s.test(c)||t.test(c)||i.test(e)));){if(c.search(/[^ ]/)>=o||!c.trim())h+="\n"+c.slice(o);else if(a)break;else h+="\n"+c;a||c.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1)}}!x.loose&&(l?x.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h))&&(r="[ ] "!==i[0],h=h.replace(/^\[[ xX]\] +/,"")),x.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:h}),x.raw+=n}x.items[x.items.length-1].raw=n.trimRight(),x.items[x.items.length-1].text=h.trimRight(),x.raw=x.raw.trimRight();let v=x.items.length;for(s=0;s<v;s++){this.lexer.state.top=!1,x.items[s].tokens=this.lexer.blockTokens(x.items[s].text,[]);let e=x.items[s].tokens.filter(e=>"space"===e.type),t=e.every(e=>{let t=e.raw.split(""),n=0;for(let e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1});!x.loose&&e.length&&t&&(x.loose=!0,x.items[s].loose=!0)}return x}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):d(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){let t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));let e=t[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:e,raw:t[0],href:t[2],title:t[3]}}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:D(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let n,i,r,o;e.raw=t[0];let s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(n=0,s=e.rows.length;n<s;n++)e.rows[n]=D(e.rows[n],e.header.length).map(e=>({text:e}));for(i=0,s=e.header.length;i<s;i++)e.header[i].tokens=[],this.lexer.inline(e.header[i].text,e.header[i].tokens);for(i=0,s=e.rows.length;i<s;i++)for(r=0,o=e.rows[i];r<o.length;r++)o[r].tokens=[],this.lexer.inline(o[r].text,o[r].tokens);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t){let e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){let t=this.rules.block.text.exec(e);if(t){let e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:d(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):d(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=_(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return -1;let n=e.length,i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return -1}(t[2],"()");if(e>-1){let n=0===t[0].indexOf("!")?5:4,i=n+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,i).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),A(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(!(e=t[e.toLowerCase()])||!e.href){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return A(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;let r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){let n=i[0].length-1,r,o,s=n,a=0,l="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(!(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6]))continue;if(o=r.length,i[3]||i[4]){s+=o;continue}if((i[5]||i[6])&&n%3&&!((n+o)%3)){a+=o;continue}if((s-=o)>0)continue;if(Math.min(n,o=Math.min(o,o+s+a))%2){let t=e.slice(1,n+i.index+o);return{type:"em",raw:e.slice(0,n+i.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}let t=e.slice(2,n+i.index+o-1);return{type:"strong",raw:e.slice(0,n+i.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=d(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,i;return i="@"===n[2]?"mailto:"+(e=d(this.options.mangle?t(n[1]):n[1])):e=d(n[1]),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])i="mailto:"+(e=d(this.options.mangle?t(n[0]):n[0]));else{let t;do t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(t!==n[0]);e=d(n[0]),i="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):d(n[0]):n[0]:d(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}let I={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:k,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};I._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,I._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,I.def=m(I.def).replace("label",I._label).replace("title",I._title).getRegex(),I.bullet=/(?:[*+-]|\d{1,9}[.)])/,I.listItemStart=m(/^( *)(bull) */).replace("bull",I.bullet).getRegex(),I.list=m(I.list).replace(/bull/g,I.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+I.def.source+")").getRegex(),I._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",I._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,I.html=m(I.html,"i").replace("comment",I._comment).replace("tag",I._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),I.paragraph=m(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.blockquote=m(I.blockquote).replace("paragraph",I.paragraph).getRegex(),I.normal=w({},I),I.gfm=w({},I.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),I.gfm.table=m(I.gfm.table).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.gfm.paragraph=m(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",I.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.pedantic=w({},I.normal,{html:m("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",I._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:k,paragraph:m(I.normal._paragraph).replace("hr",I.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",I.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});let O={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:k,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:k,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function M(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function F(e){let t="",n,i,r=e.length;for(n=0;n<r;n++)i=e.charCodeAt(n),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t}O._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",O.punctuation=m(O.punctuation).replace(/punctuation/g,O._punctuation).getRegex(),O.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,O.escapedEmSt=/\\\*|\\_/g,O._comment=m(I._comment).replace("(?:-->|$)","-->").getRegex(),O.emStrong.lDelim=m(O.emStrong.lDelim).replace(/punct/g,O._punctuation).getRegex(),O.emStrong.rDelimAst=m(O.emStrong.rDelimAst,"g").replace(/punct/g,O._punctuation).getRegex(),O.emStrong.rDelimUnd=m(O.emStrong.rDelimUnd,"g").replace(/punct/g,O._punctuation).getRegex(),O._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,O._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,O._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,O.autolink=m(O.autolink).replace("scheme",O._scheme).replace("email",O._email).getRegex(),O._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,O.tag=m(O.tag).replace("comment",O._comment).replace("attribute",O._attribute).getRegex(),O._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,O._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,O._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,O.link=m(O.link).replace("label",O._label).replace("href",O._href).replace("title",O._title).getRegex(),O.reflink=m(O.reflink).replace("label",O._label).replace("ref",I._label).getRegex(),O.nolink=m(O.nolink).replace("ref",I._label).getRegex(),O.reflinkSearch=m(O.reflinkSearch,"g").replace("reflink",O.reflink).replace("nolink",O.nolink).getRegex(),O.normal=w({},O),O.pedantic=w({},O.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",O._label).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",O._label).getRegex()}),O.gfm=w({},O.normal,{escape:m(O.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),O.gfm.url=m(O.gfm.url,"i").replace("email",O.gfm._extended_email).getRegex(),O.breaks=w({},O.gfm,{br:m(O.br).replace("{2,}","*").getRegex(),text:m(O.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class R{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||r,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:I.normal,inline:O.normal};this.options.pedantic?(t.block=I.pedantic,t.inline=O.pedantic):this.options.gfm&&(t.block=I.gfm,this.options.breaks?t.inline=O.breaks:t.inline=O.gfm),this.tokenizer.rules=t}static get rules(){return{block:I,inline:O}}static lex(e,t){let n=new R(t);return n.lex(e)}static lexInline(e,t){let n=new R(t);return n.inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,r,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),(i=t[t.length-1])&&("paragraph"===i.type||"text"===i.type)?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if((n=this.tokenizer.fences(e))||(n=this.tokenizer.heading(e))||(n=this.tokenizer.hr(e))||(n=this.tokenizer.blockquote(e))||(n=this.tokenizer.list(e))||(n=this.tokenizer.html(e))){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),(i=t[t.length-1])&&("paragraph"===i.type||"text"===i.type)?(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if((n=this.tokenizer.table(e))||(n=this.tokenizer.lheading(e))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,i=e.slice(1);this.options.extensions.startBlock.forEach(function(e){"number"==typeof(t=e.call({lexer:this},i))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r))){i=t[t.length-1],o&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),o=r.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),(i=t[t.length-1])&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,o,s,a;let l=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+S("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+S("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),(i=t[t.length-1])&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),(i=t[t.length-1])&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if((n=this.tokenizer.emStrong(e,l,a))||(n=this.tokenizer.codespan(e))||(n=this.tokenizer.br(e))||(n=this.tokenizer.del(e))||(n=this.tokenizer.autolink(e,F))||!this.state.inLink&&(n=this.tokenizer.url(e,F))){e=e.substring(n.raw.length),t.push(n);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,i=e.slice(1);this.options.extensions.startInline.forEach(function(e){"number"==typeof(t=e.call({lexer:this},i))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(r,M)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,(i=t[t.length-1])&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return t}}class N{constructor(e){this.options=e||r}code(e,t,n){let i=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return(e=e.replace(/\n$/,"")+"\n",i)?'<pre><code class="'+this.options.langPrefix+d(i,!0)+'">'+(n?e:d(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:d(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){let r=this.options.headerPrefix+i.slug(n);return`<h${t} id="${r}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let n=t.header?"th":"td",i=t.align?`<${n} align="${t.align}">`:`<${n}>`;return i+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+d(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"}image(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">"}text(e){return e}}class P{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class L{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do n=e+"-"+ ++i;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class z{constructor(e){this.options=e||r,this.options.renderer=this.options.renderer||new N,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new P,this.slugger=new L}static parse(e,t){let n=new z(t);return n.parse(e)}static parseInline(e,t){let n=new z(t);return n.parseInline(e)}parse(e,t=!0){let n="",i,r,o,s,a,l,c,u,d,h,f,m,x,g,v,j,b,y,C,k=e.length;for(i=0;i<k;i++){if(h=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(!1!==(C=this.options.extensions.renderers[h.type].call({parser:this},h))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){n+=C||"";continue}switch(h.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":n+=this.renderer.heading(this.parseInline(h.tokens),h.depth,p(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":n+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(r=0,u="",c="",s=h.header.length;r<s;r++)c+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(u+=this.renderer.tablerow(c),d="",s=h.rows.length,r=0;r<s;r++){for(o=0,l=h.rows[r],c="",a=l.length;o<a;o++)c+=this.renderer.tablecell(this.parseInline(l[o].tokens),{header:!1,align:h.align[o]});d+=this.renderer.tablerow(c)}n+=this.renderer.table(u,d);continue;case"blockquote":d=this.parse(h.tokens),n+=this.renderer.blockquote(d);continue;case"list":for(r=0,f=h.ordered,m=h.start,x=h.loose,s=h.items.length,d="";r<s;r++)j=(v=h.items[r]).checked,b=v.task,g="",v.task&&(y=this.renderer.checkbox(j),x?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=y+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=y+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:y}):g+=y),g+=this.parse(v.tokens,x),d+=this.renderer.listitem(g,b,j);n+=this.renderer.list(d,f,m);continue;case"html":n+=this.renderer.html(h.text);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(d=h.tokens?this.parseInline(h.tokens):h.text;i+1<k&&"text"===e[i+1].type;)d+="\n"+((h=e[++i]).tokens?this.parseInline(h.tokens):h.text);n+=t?this.renderer.paragraph(d):d;continue;default:{let e='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(e);return}throw Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,r,o,s=e.length;for(i=0;i<s;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(!1!==(o=this.options.extensions.renderers[r.type].call({parser:this},r))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){n+=o||"";continue}switch(r.type){case"escape":case"text":n+=t.text(r.text);break;case"html":n+=t.html(r.text);break;case"link":n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":n+=t.image(r.href,r.title,r.text);break;case"strong":n+=t.strong(this.parseInline(r.tokens,t));break;case"em":n+=t.em(this.parseInline(r.tokens,t));break;case"codespan":n+=t.codespan(r.text);break;case"br":n+=t.br();break;case"del":n+=t.del(this.parseInline(r.tokens,t));break;default:{let e='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(e);return}throw Error(e)}}}return n}}function G(e,t,n){if(null==e)throw Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),E(t=w({},G.defaults,t||{})),n){let i;let r=t.highlight;try{i=R.lex(e,t)}catch(e){return n(e)}let o=function(e){let o;if(!e)try{t.walkTokens&&G.walkTokens(i,t.walkTokens),o=z.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3||(delete t.highlight,!i.length))return o();let s=0;return G.walkTokens(i,function(e){"code"===e.type&&(s++,setTimeout(()=>{r(e.text,e.lang,function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--s&&o()})},0))}),void(0===s&&o())}try{let n=R.lex(e,t);return t.walkTokens&&G.walkTokens(n,t.walkTokens),z.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}}G.options=G.setOptions=function(e){return w(G.defaults,e),r=G.defaults,G},G.getDefaults=i,G.defaults=r,G.use=function(...e){let t;let n=w({},...e),i=G.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(e=>{if(e.extensions&&(t=!0,e.extensions.forEach(e=>{if(!e.name)throw Error("extension name required");if(e.renderer){let t=i.renderers?i.renderers[e.name]:null;t?i.renderers[e.name]=function(...n){let i=e.renderer.apply(this,n);return!1===i&&(i=t.apply(this,n)),i}:i.renderers[e.name]=e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw Error("extension level must be 'block' or 'inline'");i[e.level]?i[e.level].unshift(e.tokenizer):i[e.level]=[e.tokenizer],e.start&&("block"===e.level?i.startBlock?i.startBlock.push(e.start):i.startBlock=[e.start]:"inline"===e.level&&(i.startInline?i.startInline.push(e.start):i.startInline=[e.start]))}e.childTokens&&(i.childTokens[e.name]=e.childTokens)})),e.renderer){let t=G.defaults.renderer||new N;for(let n in e.renderer){let i=t[n];t[n]=(...r)=>{let o=e.renderer[n].apply(t,r);return!1===o&&(o=i.apply(t,r)),o}}n.renderer=t}if(e.tokenizer){let t=G.defaults.tokenizer||new T;for(let n in e.tokenizer){let i=t[n];t[n]=(...r)=>{let o=e.tokenizer[n].apply(t,r);return!1===o&&(o=i.apply(t,r)),o}}n.tokenizer=t}if(e.walkTokens){let t=G.defaults.walkTokens;n.walkTokens=function(n){e.walkTokens.call(this,n),t&&t.call(this,n)}}t&&(n.extensions=i),G.setOptions(n)})},G.walkTokens=function(e,t){for(let n of e)switch(t.call(G,n),n.type){case"table":for(let e of n.header)G.walkTokens(e.tokens,t);for(let e of n.rows)for(let n of e)G.walkTokens(n.tokens,t);break;case"list":G.walkTokens(n.items,t);break;default:G.defaults.extensions&&G.defaults.extensions.childTokens&&G.defaults.extensions.childTokens[n.type]?G.defaults.extensions.childTokens[n.type].forEach(function(e){G.walkTokens(n[e],t)}):n.tokens&&G.walkTokens(n.tokens,t)}},G.parseInline=function(e,t){if(null==e)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");E(t=w({},G.defaults,t||{}));try{let n=R.lexInline(e,t);return t.walkTokens&&G.walkTokens(n,t.walkTokens),z.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}},G.Parser=z,G.parser=z.parse,G.Renderer=N,G.TextRenderer=P,G.Lexer=R,G.lexer=R.lex,G.Tokenizer=T,G.Slugger=L,G.parse=G,G.options,G.setOptions,G.use,G.walkTokens,G.parseInline,z.parse,R.lex},80722:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var i=n(27191),r=n(26151);function o(e={}){return new i.Sy({view:t=>new s(t,e)})}class s{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t,n=this.editorView.state.doc.resolve(this.cursorPos),i=!n.parent.inlineContent,r;if(i){let e=n.nodeBefore,t=n.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(n){let i=n.getBoundingClientRect(),o=e?i.bottom:i.top;e&&t&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!r){let e=this.editorView.coordsAtPos(this.cursorPos);r={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",i),this.element.classList.toggle("prosemirror-dropcursor-inline",!i),o&&(o!=document.body||"static"!=getComputedStyle(o).position)){let n=o.getBoundingClientRect();e=n.left-o.scrollLeft,t=n.top-o.scrollTop}else e=-pageXOffset,t=-pageYOffset;this.element.style.left=r.left-e+"px",this.element.style.top=r.top-t+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=n&&n.type.spec.disableDropCursor,o="function"==typeof i?i(this.editorView,t,e):i;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(e=(0,r.nj)(this.editorView.state.doc,e,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}},3027:function(e,t,n){"use strict";n.d(t,{Q:function(){return a},d:function(){return c}});var i=n(17890),r=n(27191),o=n(30764),s=n(52780);class a extends r.Y1{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return a.valid(n)?new a(n):r.Y1.near(n)}content(){return o.p2.empty}eq(e){return e instanceof a&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new a(e.resolve(t.pos))}getBookmark(){return new l(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),i=e.node(t);if(0==n){if(i.type.spec.isolating)return!0;continue}for(let e=i.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),i=e.node(t);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let e=i.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,n=!1){t:for(;;){if(!n&&a.valid(e))return e;let i=e.pos,o=null;for(let n=e.depth;;n--){let r=e.node(n);if(t>0?e.indexAfter(n)<r.childCount:e.index(n)>0){o=r.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;i+=t;let s=e.doc.resolve(i);if(a.valid(s))return s}for(;;){let s=t>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!r.qv.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),n=!1;continue t}break}o=s,i+=t;let l=e.doc.resolve(i);if(a.valid(l))return l}return null}}}a.prototype.visible=!1,a.findFrom=a.findGapCursorFrom,r.Y1.jsonID("gapcursor",a);class l{constructor(e){this.pos=e}map(e){return new l(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return a.valid(t)?new a(t):r.Y1.near(t)}}function c(){return new r.Sy({props:{decorations:f,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&a.valid(n)?new a(n):null,handleClick:h,handleKeyDown:u,handleDOMEvents:{beforeinput:p}}})}let u=(0,i.$)({ArrowLeft:d("horiz",-1),ArrowRight:d("horiz",1),ArrowUp:d("vert",-1),ArrowDown:d("vert",1)});function d(e,t){let n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,i,o){let s=e.selection,l=t>0?s.$to:s.$from,c=s.empty;if(s instanceof r.Bs){if(!o.endOfTextblock(n)||0==l.depth)return!1;c=!1,l=e.doc.resolve(t>0?l.after():l.before())}let u=a.findGapCursorFrom(l,t,c);return!!u&&(i&&i(e.tr.setSelection(new a(u))),!0)}}function h(e,t,n){if(!e||!e.editable)return!1;let i=e.state.doc.resolve(t);if(!a.valid(i))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&r.qv.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new a(i))),!0)}function p(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof a))return!1;let{$from:n}=e.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;let s=o.HY.empty;for(let e=i.length-1;e>=0;e--)s=o.HY.from(i[e].createAndFill(null,s));let l=e.state.tr.replace(n.pos,n.pos,new o.p2(s,0,0));return l.setSelection(r.Bs.near(l.doc.resolve(n.pos+1))),e.dispatch(l),!1}function f(e){if(!(e.selection instanceof a))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",s.EH.create(e.doc,[s.p.widget(e.selection.head,t,{key:"gapcursor"})])}},88892:function(e,t,n){"use strict";n.d(t,{Hw:function(){return o},VK:function(){return r}});var i=n(27191);class r{constructor(e,t){this.match=e,this.match=e,this.handler="string"==typeof t?function(e,n,i,r){let o=t;if(n[1]){let e=n[0].lastIndexOf(n[1]);o+=n[0].slice(e+n[1].length);let t=(i+=e)-r;t>0&&(o=n[0].slice(e-t,e)+o,i=r)}return e.tr.insertText(o,i,r)}:t}}function o({rules:e}){let t=new i.Sy({state:{init:()=>null,apply(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(n,i,r,o)=>s(n,i,r,o,e,t),handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:i}=n.state.selection;i&&s(n,i.pos,i.pos,"",e,t)})}}},isInputRules:!0});return t}function s(e,t,n,i,r,o){if(e.composing)return!1;let s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"")+i;for(let a=0;a<r.length;a++){let c=r[a].match.exec(l),u=c&&r[a].handler(s,c,t-(c[0].length-i.length),n);if(u)return e.dispatch(u.setMeta(o,{transform:u,from:t,to:n,text:i})),!0}return!1}new r(/--$/,""),new r(/\.\.\.$/,""),new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new r(/"$/,""),new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new r(/'$/,"")},60561:function(e,t,n){"use strict";n.d(t,{Dp:function(){return o},G:function(){return s},Z$:function(){return i},kJ:function(){return a},s7:function(){return r}});let i=e=>e[e.length-1],r=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},o=Array.from,s=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},a=Array.isArray},81372:function(e,t,n){"use strict";n.d(t,{$2:function(){return d},CY:function(){return o},Ko:function(){return s},Qn:function(){return r},RP:function(){return p},Tg:function(){return f},Vw:function(){return i},cq:function(){return a},jS:function(){return h},kr:function(){return u},rc:function(){return l},x1:function(){return c}});let i=1,r=2,o=4,s=8,a=32,l=64,c=128,u=31,d=63,h=127,p=2147483647,f=4294967295},96877:function(e,t,n){"use strict";n.d(t,{f9:function(){return a}}),n(76042);var i=n(59124),r=n(48834).lW;let o=e=>new Uint8Array(e),s=(e,t,n)=>new Uint8Array(e,t,n);i.jU||(e=>r.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")),i.jU||(e=>{let t=r.from(e,"base64");return s(t.buffer,t.byteOffset,t.byteLength)});let a=e=>{let t=o(e.byteLength);return t.set(e),t}},52321:function(e,t,n){"use strict";n.d(t,{HN:function(){return f},UF:function(){return k},XW:function(){return C},dD:function(){return w},kf:function(){return v},kj:function(){return m},l1:function(){return d},sO:function(){return D},v_:function(){return y},yg:function(){return x}});var i=n(81372),r=n(84130),o=n(37093),s=n(76042),a=n(30838);let l=a.Ue("Unexpected end of array"),c=a.Ue("Integer out of Range");class u{constructor(e){this.arr=e,this.pos=0}}let d=e=>new u(e),h=e=>e.pos!==e.arr.length,p=(e,t)=>{let n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},f=e=>p(e,x(e)),m=e=>e.arr[e.pos++],x=e=>{let t=0,n=1,r=e.arr.length;for(;e.pos<r;){let r=e.arr[e.pos++];if(t+=(r&i.jS)*n,n*=128,r<i.x1)return t;if(t>o.YM)throw c}throw l},g=e=>{let t=e.arr[e.pos++],n=t&i.$2,r=64,s=(t&i.rc)>0?-1:1;if((t&i.x1)==0)return s*n;let a=e.arr.length;for(;e.pos<a;){if(n+=((t=e.arr[e.pos++])&i.jS)*r,r*=128,t<i.x1)return s*n;if(n>o.YM)throw c}throw l},v=s.CO?e=>s.CO.decode(f(e)):e=>{let t=x(e);if(0===t)return"";{let n=String.fromCodePoint(m(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(m(e));else for(;t>0;){let i=t<1e4?t:1e4,r=e.arr.subarray(e.pos,e.pos+i);e.pos+=i,n+=String.fromCodePoint.apply(null,r),t-=i}return decodeURIComponent(escape(n))}},j=(e,t)=>{let n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},b=[e=>void 0,e=>null,g,e=>j(e,4).getFloat32(0,!1),e=>j(e,8).getFloat64(0,!1),e=>j(e,8).getBigInt64(0,!1),e=>!1,e=>!0,v,e=>{let t=x(e),n={};for(let i=0;i<t;i++){let t=v(e);n[t]=y(e)}return n},e=>{let t=x(e),n=[];for(let i=0;i<t;i++)n.push(y(e));return n},f],y=e=>b[127-m(e)](e);class C extends u{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),h(this)?this.count=x(this)+1:this.count=-1),this.count--,this.s}}class k extends u{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=g(this);let e=r.GR(this.s);this.count=1,e&&(this.s=-this.s,this.count=x(this)+2)}return this.count--,this.s}}class w extends u{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){let e=g(this),t=1&e;this.diff=r.GW(e/2),this.count=1,t&&(this.count=x(this)+2)}return this.s+=this.diff,this.count--,this.s}}class D{constructor(e){this.decoder=new k(e),this.str=v(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},8758:function(e,t,n){"use strict";n.d(t,{$F:function(){return f},EM:function(){return S},GF:function(){return A},HE:function(){return I},HK:function(){return b},Mf:function(){return c},TS:function(){return F},_f:function(){return d},mP:function(){return y},sX:function(){return M},uE:function(){return m},uw:function(){return j}});var i=n(84130),r=n(37093),o=n(81372),s=n(76042),a=n(60561);class l{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}let c=()=>new l,u=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},d=e=>{let t=new Uint8Array(u(e)),n=0;for(let i=0;i<e.bufs.length;i++){let r=e.bufs[i];t.set(r,n),n+=r.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},h=(e,t)=>{let n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*i.Fp(n,t)),e.cpos=0)},p=(e,t)=>{let n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},f=p,m=(e,t)=>{for(;t>o.jS;)p(e,o.x1|o.jS&t),t=i.GW(t/128);p(e,o.jS&t)},x=(e,t)=>{let n=i.GR(t);for(n&&(t=-t),p(e,(t>o.$2?o.x1:0)|(n?o.rc:0)|o.$2&t),t=i.GW(t/64);t>0;)p(e,(t>o.jS?o.x1:0)|o.jS&t),t=i.GW(t/128)},g=new Uint8Array(3e4),v=g.length/3,j=s.YZ&&s.YZ.encodeInto?(e,t)=>{if(t.length<v){let n=s.YZ.encodeInto(t,g).written||0;m(e,n);for(let t=0;t<n;t++)p(e,g[t])}else y(e,s.lz(t))}:(e,t)=>{let n=unescape(encodeURIComponent(t)),i=n.length;m(e,i);for(let t=0;t<i;t++)p(e,n.codePointAt(t))},b=(e,t)=>{let n=e.cbuf.length,r=e.cpos,o=i.VV(n-r,t.length),s=t.length-o;e.cbuf.set(t.subarray(0,o),r),e.cpos+=o,s>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(i.Fp(2*n,s)),e.cbuf.set(t.subarray(o)),e.cpos=s)},y=(e,t)=>{m(e,t.byteLength),b(e,t)},C=(e,t)=>{h(e,t);let n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},k=(e,t)=>C(e,4).setFloat32(0,t,!1),w=(e,t)=>C(e,8).setFloat64(0,t,!1),D=(e,t)=>C(e,8).setBigInt64(0,t,!1),_=new DataView(new ArrayBuffer(4)),E=e=>(_.setFloat32(0,e),_.getFloat32(0)===e),S=(e,t)=>{switch(typeof t){case"string":p(e,119),j(e,t);break;case"number":r.U(t)&&i.Wn(t)<=o.RP?(p(e,125),x(e,t)):E(t)?(p(e,124),k(e,t)):(p(e,123),w(e,t));break;case"bigint":p(e,122),D(e,t);break;case"object":if(null===t)p(e,126);else if(a.kJ(t)){p(e,117),m(e,t.length);for(let n=0;n<t.length;n++)S(e,t[n])}else if(t instanceof Uint8Array)p(e,116),y(e,t);else{p(e,118);let n=Object.keys(t);m(e,n.length);for(let i=0;i<n.length;i++){let r=n[i];j(e,r),S(e,t[r])}}break;case"boolean":p(e,t?120:121);break;default:p(e,127)}};class A extends l{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&m(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}let T=e=>{e.count>0&&(x(e.encoder,1===e.count?e.s:-e.s),e.count>1&&m(e.encoder,e.count-2))};class I{constructor(){this.encoder=new l,this.s=0,this.count=0}write(e){this.s===e?this.count++:(T(this),this.count=1,this.s=e)}toUint8Array(){return T(this),d(this.encoder)}}let O=e=>{if(e.count>0){let t=2*e.diff+(1===e.count?0:1);x(e.encoder,t),e.count>1&&m(e.encoder,e.count-2)}};class M{constructor(){this.encoder=new l,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(O(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return O(this),d(this.encoder)}}class F{constructor(){this.sarr=[],this.s="",this.lensE=new I}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new l;return this.sarr.push(this.s),this.s="",j(e,this.sarr.join("")),b(e,this.lensE.toUint8Array()),d(e)}}},59124:function(e,t,n){"use strict";let i;n.d(t,{jU:function(){return p},hH:function(){return j}});var r,o=n(47455),s=n(76042);let a=e=>void 0===e?null:e,l=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}};try{"undefined"!=typeof localStorage&&localStorage&&(l=localStorage)}catch(e){}let c=l;var u=n(83564),d=n(34406);let h=void 0!==d&&d.release&&/node|io\.js/.test(d.release.name)&&"[object process]"===Object.prototype.toString.call(void 0!==d?d:0),p="undefined"!=typeof window&&"undefined"!=typeof document&&!h;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let f=[],m=()=>{if(void 0===i){if(h){i=o.Ue();let e=d.argv,t=null;for(let n=0;n<e.length;n++){let r=e[n];"-"===r[0]?(null!==t&&i.set(t,""),t=r):null!==t?(i.set(t,r),t=null):f.push(r)}null!==t&&i.set(t,"")}else"object"==typeof location?(i=o.Ue(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){let[t,n]=e.split("=");i.set(`--${s.NF(t,"-")}`,n),i.set(`-${s.NF(t,"-")}`,n)}})):i=o.Ue()}return i},x=e=>m().has(e),g=e=>h?a(d.env[e.toUpperCase()]):a(c.getItem(e));x("--"+(r="production"))||g(r);let v=h&&u.gB(d.env.FORCE_COLOR,["true","1","2"]),j=!x("no-colors")&&(!h||d.stdout.isTTY||v)&&(!h||x("color")||v||null!==g("COLORTERM")||(g("TERM")||"").includes("color"))},30838:function(e,t,n){"use strict";n.d(t,{Nw:function(){return r},Ue:function(){return i},zR:function(){return o}});let i=e=>Error(e),r=()=>{throw i("Method unimplemented")},o=()=>{throw i("Unexpected case")}},83564:function(e,t,n){"use strict";n.d(t,{PP:function(){return r},gB:function(){return s},id:function(){return o}});var i=n(60561);let r=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&r(e,t,n+1)}},o=e=>e,s=(e,t)=>t.includes(e);i.kJ},71094:function(e,t,n){"use strict";n.d(t,{BG:function(){return r},CA:function(){return o}});let i=e=>({[Symbol.iterator](){return this},next:e}),r=(e,t)=>i(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),o=(e,t)=>i(()=>{let{done:n,value:i}=e.next();return{done:n,value:n?void 0:t(i)}})},5053:function(e,t,n){"use strict";n.d(t,{Ej:function(){return a},Pl:function(){return o},ZA:function(){return c},s7:function(){return l},ud:function(){return h},Wd:function(){return d},hM:function(){return u},YW:function(){return s},WO:function(){return p},_X:function(){return f}});let i=Symbol;var r=n(78593);let o=i(),s=i(),a=i(),l=i(),c=i(),u=i(),d=i(),h=i(),p=i(),f=e=>{let t=[],n=[],i=0;for(;i<e.length;i++){let r=e[i];r.constructor===String||r.constructor===Number?t.push(r):r.constructor===Object&&n.push(JSON.stringify(r))}return n};r.ZG()},42902:function(e,t,n){"use strict";n.d(t,{S0:function(){return p},ZK:function(){return f}});var i=n(59124),r=n(30759);class o{constructor(e,t){this.left=e,this.right=t}}let s=(e,t)=>new o(e,t);var a=n(47455);let l="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser;let c=e=>a.UI(e,(e,t)=>`${t}:${e};`).join("");l.ELEMENT_NODE,l.TEXT_NODE,l.CDATA_SECTION_NODE,l.COMMENT_NODE,l.DOCUMENT_NODE,l.DOCUMENT_TYPE_NODE,l.DOCUMENT_FRAGMENT_NODE;var u=n(5053);let d={[u.Pl]:s("font-weight","bold"),[u.YW]:s("font-weight","normal"),[u.Ej]:s("color","blue"),[u.ZA]:s("color","green"),[u.s7]:s("color","grey"),[u.hM]:s("color","red"),[u.Wd]:s("color","purple"),[u.ud]:s("color","orange"),[u.WO]:s("color","black")},h=i.hH?e=>{let t=[],n=[],i=a.Ue(),r=[],o=0;for(;o<e.length;o++){let r=e[o],s=d[r];if(void 0!==s)i.set(s.left,s.right);else if(r.constructor===String||r.constructor===Number){let e=c(i);o>0||e.length>0?(t.push("%c"+r),n.push(e)):t.push(r)}else break}for(o>0&&(r=n).unshift(t.join(""));o<e.length;o++){let t=e[o];t instanceof Symbol||r.push(t)}return r}:u._X,p=(...e)=>{console.log(...h(e)),m.forEach(t=>t.print(e))},f=(...e)=>{console.warn(...h(e)),e.unshift(u.ud),m.forEach(t=>t.print(e))},m=r.Ue()},47455:function(e,t,n){"use strict";n.d(t,{JG:function(){return r},UI:function(){return s},Ue:function(){return i},Yj:function(){return a},Yu:function(){return o}});let i=()=>new Map,r=e=>{let t=i();return e.forEach((e,n)=>{t.set(n,e)}),t},o=(e,t,n)=>{let i=e.get(t);return void 0===i&&e.set(t,i=n()),i},s=(e,t)=>{let n=[];for(let[i,r]of e)n.push(t(r,i));return n},a=(e,t)=>{for(let[n,i]of e)if(t(i,n))return!0;return!1}},84130:function(e,t,n){"use strict";n.d(t,{Fp:function(){return s},GR:function(){return a},GW:function(){return i},VV:function(){return o},Wn:function(){return r}});let i=Math.floor,r=Math.abs,o=(e,t)=>e<t?e:t,s=(e,t)=>e>t?e:t,a=e=>0!==e?e<0:1/e<0},37093:function(e,t,n){"use strict";n.d(t,{U:function(){return s},YM:function(){return o}});var i=n(84130),r=n(81372);let o=Number.MAX_SAFE_INTEGER;r.RP,r.Tg;let s=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&i.GW(e)===e)},66392:function(e,t,n){"use strict";n.d(t,{$m:function(){return u},Ed:function(){return o},f0:function(){return i},xb:function(){return a}});let i=Object.assign,r=Object.keys,o=(e,t)=>{for(let n in e)t(e[n],n)},s=e=>r(e).length,a=e=>{for(let t in e)return!1;return!0},l=(e,t)=>{for(let n in e)if(!t(e[n],n))return!1;return!0},c=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u=(e,t)=>e===t||s(e)===s(t)&&l(e,(e,n)=>(void 0!==e||c(t,n))&&t[n]===e)},42108:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var i=n(47455),r=n(30759),o=n(60561);class s{constructor(){this._observers=i.Ue()}on(e,t){i.Yu(this._observers,e,r.Ue).add(t)}once(e,t){let n=(...i)=>{this.off(e,n),t(...i)};this.on(e,n)}off(e,t){let n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return o.Dp((this._observers.get(e)||i.Ue()).values()).forEach(e=>e(...t))}destroy(){this._observers=i.Ue()}}},4018:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i}});let i=e=>new Promise(e);Promise.all.bind(Promise)},82003:function(e,t,n){"use strict";n.d(t,{U7:function(){return r},k$:function(){return o}}),crypto.subtle;let i=crypto.getRandomValues.bind(crypto),r=()=>i(new Uint32Array(1))[0],o=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^r()&15>>e/4).toString(16))},30759:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i}});let i=()=>new Set},76042:function(e,t,n){"use strict";n.d(t,{CO:function(){return d},IK:function(){return i},NF:function(){return l},YZ:function(){return c},lz:function(){return u}});let i=String.fromCharCode;i(65535);let r=e=>e.toLowerCase(),o=/^\s*/g,s=e=>e.replace(o,""),a=/([A-Z])/g,l=(e,t)=>s(e.replace(a,e=>`${t}${r(e)}`)),c="undefined"!=typeof TextEncoder?new TextEncoder:null,u=c?e=>c.encode(e):e=>{let t=unescape(encodeURIComponent(e)),n=t.length,i=new Uint8Array(n);for(let e=0;e<n;e++)i[e]=t.codePointAt(e);return i},d="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});d&&1===d.decode(new Uint8Array).length&&(d=null)},78593:function(e,t,n){"use strict";n.d(t,{ZG:function(){return i}});let i=Date.now},19521:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);
//# sourceMappingURL=624-35ca9325f12440dc.js.map