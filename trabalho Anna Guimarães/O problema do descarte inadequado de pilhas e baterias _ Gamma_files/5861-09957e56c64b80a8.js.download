"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5861],{60510:function(e,n,i){i.d(n,{r:function(){return j},h:function(){return O}});var t=i(52322),a=i(38035),r=i(17993),d=i(77533),o=i(62614),l=i(81672),s=i(42946),u=i(49929),c=i(2784),g=i(90221),p=i(90439),v=i(93441),m=i(89458),_=i(90383),y=i(18733),f=i(5879),C=i(42111),b=i(78462),h=i(94199),E=i(11082),A=i(64173),I=i(31807),x=i(6912),P=i(48832),w=i(11050),N=i(36651),k=i(81640),T=i(12265),U=i(11942),S=i(88640);let R=[{Component:()=>{let e=(0,C.ye)("outageButterbar");if(!e.enabled)return null;let{header:n,text:i,buttonLink:a,buttonText:r,key:d,pathnameRegexp:o}=e;return(0,t.jsx)(O,{definition:{key:d,header:n,text:i,buttonText:r,buttonLink:a,conditions:()=>!o||null!==window.location.pathname.match(new RegExp(o))}})},key:"outage-butterbar"},{Component:()=>{let e=(0,C.ye)("openAiStatus");return"NORMAL"===e?null:(0,t.jsx)(O,{definition:{key:"ai-service-status",header:(0,t.jsx)(f.cC,{id:"1Agl06"}),text:(0,t.jsx)(f.cC,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,b._r)(window.location.pathname)}})},key:"ai-service-status-butterbar"},{Component:()=>{var e,n,i;let{user:a,currentWorkspace:r}=(0,N.SE)(),{subscription:d,product:o}=(0,k.z)(),{launchFailedPaymentFlow:l,failedPaymentFlowEnabled:s}=(0,x.ET)({subscription:d,workspace:r,autoLaunch:!1});if(!d||!o)return null;let u=(0,T.KL)(),{name:c,dontChurnMessage:g}=u[o],{status:p,expirationTime:v,id:m}=d,_=(0,P.p6)(v,"MMMM do, yyyy"),y=(null==d?void 0:null===(e=d.createdByUser)||void 0===e?void 0:e.id)===(null==a?void 0:a.id),C=(0,U._8)(),b=v>Date.now();if(!("unpaid"===p||"past_due"===p)&&!b)return null;let A=C&&(y||!(null==d?void 0:d.createdByUser))?(0,t.jsx)(f.cC,{id:"velw1T",values:{expirationFormatted:_,GAMMA_PROPER_NOUN:h.N6,productName:c},components:{0:(0,t.jsx)(E.r,{href:C,isExternal:!0,textDecoration:"underline"})}}):(0,t.jsx)(f.cC,{id:"9aBOfk",values:{expirationFormatted:_,GAMMA_PROPER_NOUN:h.N6,productName:c,0:null===(n=d.createdByUser)||void 0===n?void 0:n.displayName,1:null===(i=d.createdByUser)||void 0===i?void 0:i.email},components:{0:(0,t.jsx)("b",{}),1:(0,t.jsx)("b",{})}});return(0,t.jsx)(O,{definition:{key:"payment-overdue-".concat(m),header:(0,t.jsx)(f.cC,{id:"gosJne",values:{productName:c}}),text:(0,t.jsxs)(t.Fragment,{children:[g," ",A]}),buttonText:(0,t.jsx)(f.cC,{id:"WLvqZR"}),buttonLink:s?void 0:C,buttonOnClick:s?l:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:n}=(0,k.z)();if(!e)return null;let{status:i,expirationTime:a,id:r}=e,d=new Date>(0,I.Z)(a)&&new Date<(0,A.Z)((0,I.Z)(a),{days:10});if(!d)return null;let o=()=>n({segmentEvent:w.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),l=(0,t.jsx)(E.r,{onClick:o,isExternal:!0,textDecoration:"underline",children:(0,t.jsx)(f.cC,{id:"mj68q/"})});return(0,t.jsx)(O,{definition:{key:"subscription-expired-".concat(r),header:(0,t.jsx)(f.cC,{id:"5nhH6A"}),text:(0,t.jsxs)(t.Fragment,{children:["unpaid"===i||"past_due"===i?(0,t.jsx)(f.cC,{id:"QdgXJv"}):""," ",l]}),buttonText:(0,t.jsx)(f.cC,{id:"kwkhPe"}),buttonOnClick:o}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,n,i;let{user:a}=(0,N.SE)(),{subscription:r,product:d}=(0,k.z)();if(!r||!d)return null;let{status:o,expirationTime:l,id:s,cancellationRequestedTime:u}=r,c="canceled"!=o&&u&&new Date<(0,I.Z)(l)&&new Date>(0,A.Z)((0,I.Z)(l),{days:-7});if(!c)return null;let g=(null==r?void 0:null===(e=r.createdByUser)||void 0===e?void 0:e.id)===(null==a?void 0:a.id),p=(0,U._8)(),v=(0,P.p6)(l,"MMMM do, yyyy"),m=(0,T.KL)(),{name:_,dontChurnMessage:y}=m[d],C=!g&&(null==r?void 0:r.createdByUser)?(0,t.jsx)(f.cC,{id:"z4DeyC",values:{expirationFormatted:v,GAMMA_PROPER_NOUN:h.N6,productName:_,0:null===(n=r.createdByUser)||void 0===n?void 0:n.displayName,1:null===(i=r.createdByUser)||void 0===i?void 0:i.email},components:{0:(0,t.jsx)("b",{}),1:(0,t.jsx)("b",{})}}):(0,t.jsx)(f.cC,{id:"qP91+f",values:{expirationFormatted:v,GAMMA_PROPER_NOUN:h.N6,productName:_},components:{0:(0,t.jsx)(E.r,{href:p,isExternal:!0,textDecoration:"underline"})}});return(0,t.jsx)(O,{definition:{key:"subscription-ending-soon-".concat(s),header:(0,t.jsx)(f.cC,{id:"THJAvC",values:{productName:_}}),text:(0,t.jsxs)(t.Fragment,{children:[y," ",C]}),buttonText:(0,t.jsx)(f.cC,{id:"3jHA5d"}),buttonLink:p}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,t.jsx)(f.cC,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:h.N6}}),text:(0,t.jsx)(f.cC,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:h.N6}}),conditions:()=>(0,g.dA)(),dismissKey:S.H.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,t.jsx)(f.cC,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:h.N6}}),text:(0,t.jsx)(f.cC,{id:"Tf7VpJ"}),conditions:()=>M()&&(0,g.ds)(),dismissKey:S.H.lastDismissedPreferredBrowserMessage}],M=()=>(0,g.jP)()||!(0,g.i7)()&&!(0,g.G6)()&&!(0,g.NA)(),j=e=>{let{isViewOnly:n}=e,i=(0,v.gF)();if(n||!i||(0,g.l6)()||p.cx||(0,_.wg)())return null;let r=R.map(e=>"Component"in e?(0,t.jsx)(e.Component,{},e.key):(0,t.jsx)(O,{definition:e},e.key));return(0,t.jsx)(a.k,{"data-testid":"butterbar",direction:"column",top:0,pos:"relative",zIndex:"banner",sx:{"> *:not(:first-child)":{display:"none"}},children:r})},O=e=>{let{definition:n}=e,{key:i,dismissKey:g="butterbar-dismiss-".concat(i),header:p,text:v,buttonText:_,buttonLink:f,buttonOnClick:C=f?()=>window.open(f,"_blank"):void 0,conditions:b,ttl:h}=n,[E,A]=(0,m.I)(g,!1);return((0,c.useEffect)(()=>{if(!(h&&E))return;let e=new Date().getTime(),n=new Date(E).getTime(),i=e-n>1e3*h;i&&y.W.removeItem(g)},[g,E,h]),b&&!b()||E)?null:(0,t.jsxs)(a.k,{direction:"row",bg:"indigo.500",color:"white",py:3,px:4,align:"center",fontSize:"sm",children:[(0,t.jsxs)(r.g,{flex:"1",align:"start",spacing:0,children:[(0,t.jsx)(d.x,{fontWeight:"bold",children:p}),(0,t.jsx)(d.x,{opacity:"0.7",fontSize:"xs",children:v})]}),_&&C&&(0,t.jsx)(o.z,{variant:"plain",size:"sm",mr:4,rightIcon:f?(0,t.jsx)(u.G,{icon:s.wlW}):void 0,onClick:C,children:_}),(0,t.jsx)(l.P,{onClick:()=>{A(String(new Date))}})]})}},98518:function(e,n,i){i.d(n,{U:function(){return o}});var t=i(2784),a=i(14274),r=i(11050),d=i(42005);let o=()=>{let e=(0,t.useRef)(!1),n=(0,t.useRef)(new Map);(0,t.useEffect)(()=>{if("production"!==a.v.APPLICATION_ENVIRONMENT)return;let i=()=>{if(e.current)return;let i=n.current.get("total"),t=n.current.get("notTrusted"),a=t/i>.5;a&&i>5&&(e.current=!0,d.c.track(r.xW.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:i,notTrustedEvents:t}))},t=e=>{e.isTrusted||n.current.set("notTrusted",(n.current.get("notTrusted")||0)+1),n.current.set("total",(n.current.get("total")||0)+1),i()};return document.addEventListener("paste",t,{capture:!0}),document.addEventListener("mousedown",t,{capture:!0}),document.addEventListener("keydown",t,{capture:!0}),()=>{document.removeEventListener("paste",t,{capture:!0}),document.removeEventListener("mousedown",t,{capture:!0}),document.removeEventListener("keydown",t,{capture:!0})}},[])}},2765:function(e,n,i){i.d(n,{S:function(){return d}});var t=i(90221),a=i(93441),r=i(90383);let d=()=>{let e=!(0,t.l6)()&&!(0,r.wg)();return(0,a.GE)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},6912:function(e,n,i){i.d(n,{S1:function(){return b},B_:function(){return A},ET:function(){return h}});var t=i(2784),a=i(14274),r=i(88232),d=i(42111),o=i(49152),l=i(44663),s=i(1163),u=i(11050),c=i(90221),g=i(23284),p=i(90383),v=i(87254),m=i(82108),_=i.n(m),y=i(94199);let f=(e,n)=>{let i=_()(n);return{[e]:{next:v.ag._({id:"hXzOVo"}),back:v.ag._({id:"iH8pgl"}),nevermind:v.ag._({id:"CKyk7Q"}),goToAccount:v.ag._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:y.N6}}),getHelp:v.ag._({id:"pWsyuL"}),declineOffer:v.ag._({id:"aIFikE"}),confirmAndCancel:v.ag._({id:"G9nPRC"}),pauseSubscription:v.ag._({id:"2RgEmU"}),cancelSubscription:v.ag._({id:"dEgA5A"}),discountSubscription:v.ag._({id:"qG4Wa/"}),claimOffer:v.ag._({id:"/Gl/RK"}),discountOff:v.ag._({id:"Bdtwnw"}),discountFor:v.ag._({id:"sQv06Y"}),discountForever:v.ag._({id:"FsOOWf"}),discountOneTime:v.ag._({id:"HpXCa4"}),day:v.ag._({id:"5YWExy"}),month:v.ag._({id:"obrMay"}),year:v.ag._({id:"/Tw548"}),error:v.ag._({id:"wTrpxV"}),genericErrorDescription:v.ag._({id:"PUjJ3A"}),cancelNow:v.ag._({id:"EiakwV"}),applyingDiscount:v.ag._({id:"8kSYjw"}),applyingCancel:v.ag._({id:"VpuvNv"}),applyingResume:v.ag._({id:"eIoGiX"}),applyingPause:v.ag._({id:"UD7gOq"}),discountApplied:v.ag._({id:"jdYyiz"}),discountAppliedMessage:v.ag._({id:"DhHX6G"}),pauseApplied:v.ag._({id:"eeITvj"}),pauseAppliedMessage:v.ag._({id:"nm0VaE"}),pauseAppliedResumeMessage:v.ag._({id:"qOe0SS"}),pauseScheduledMessage:v.ag._({id:"mqRc6d"}),until:v.ag._({id:"C51N+0"}),cancelApplied:v.ag._({id:"Wcg6zu"}),cancelAppliedMessage:v.ag._({id:"8vN97Y"}),cancelAppliedDateMessage:v.ag._({id:"BS/SGu"}),howLongToPausePrompt:v.ag._({id:"HLyJ9n"}),whatCouldWeHaveDone:v.ag._({id:"fcbm8H"}),weReadEveryAnswer:v.ag._({id:"nkuKRd"}),applyingCustomerAction:v.ag._({id:"PXwF+s"}),loading:v.ag._({id:"Z3FXyt"}),pauseWallCardPunch:v.ag._({id:"iL2TQ6"}),pauseWallCta:v.ag._({id:"TvXj47"}),pauseWallCardHeading:v.ag._({id:"kHm8Fg"}),scheduledToReactivate:v.ag._({id:"aH7vi8"}),resumeApplied:v.ag._({id:"diOgYK"}),resumeAppliedMessage:v.ag._({id:"YqFvUY"}),resumeNextChargeMessage:v.ag._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:v.ag._({id:"RrvVAn"}),resumeAccountDataInfo:v.ag._({id:"dJCJXA"}),subscriptionPauseNotice:v.ag._({id:"fpxliT"}),failedPaymentNotice:v.ag._({id:"Vxg5vO"}),chargedMultipleTimeNotice:v.ag._({id:"lAlv46"}),failedPaymentCardPunch:v.ag._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:y.N6,productName:i}}),resumeHey:v.ag._({id:"hdOctW"}),invoicePaidTitle:v.ag._({id:"aJGfDL"}),logout:v.ag._({id:"W+3RJN"}),note:v.ag._({id:"ycCSuD"}),discount:v.ag._({id:"HmpVeZ"}),discountNoticeHeadline:v.ag._({id:"5P1dmt"}),discountNoticePrepend:v.ag._({id:"yjadEY"}),discountOverride:v.ag._({id:"JfBDWL"}),discountValidUntil:v.ag._({id:"uXxNua"}),updateBilling:v.ag._({id:"tQilrI"}),extendTrialCTA:v.ag._({id:"m3l7VI"}),extendTrialPunch:v.ag._({id:"s5pINo"}),extendTrialOfferTitle:v.ag._({id:"SyzXYh"}),trialExtended:v.ag._({id:"fezME2"}),trialExtendedMessage:v.ag._({id:"QE4mUs"}),applyingTrialExtension:v.ag._({id:"vI2q9R"}),switchPlanCTA:v.ag._({id:"P2mx2L"}),changePlanHighlights:v.ag._({id:"qbgW+C"}),changePlanOfferPunch:v.ag._({id:"MRkiFP"}),planChanged:v.ag._({id:"ByFtyh"}),planChangedMessage:v.ag._({id:"Pf5z1G"}),applyingPlanChange:v.ag._({id:"9vKKLI"}),surveyStepTag:v.ag._({id:"cSUBI1"}),freeFormStepTag:v.ag._({id:"cSUBI1"}),finalConfirmation:v.ag._({id:"1/oP/N"}),offerDiscountTag:v.ag._({id:"LTgtxG"}),offerChangePlanTag:v.ag._({id:"ENMJv2"}),offerExtendTrialTag:v.ag._({id:"MWKntz"}),offerRedirectTag:v.ag._({id:"cvpAvL"}),offerContactTag:v.ag._({id:"cvpAvL"}),offerPauseTag:v.ag._({id:"+T6DGl"}),completeTag:v.ag._({id:"K5c1e7"}),errorTag:v.ag._({id:"EuvbIW"}),offerAccepted:v.ag._({id:"ZU0opP"})}}},C="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(a.v.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),b=()=>{let e=!(0,c.l6)()&&!(0,p.wg)();return(0,g.G)(e,C),null},h=e=>{let{subscription:n,workspace:i,autoLaunch:u=!0}=e,c=(0,d.ye)("churnkeyFailedPaymentWallEnabled"),g=(0,o.l)(),p=(0,s.K9)(i),v=(0,l.G)(),m=(0,t.useCallback)(async()=>{if(n&&p&&c)return(0,r.d6)("churnkey").then(e=>{var i,t;if(!e||!n.billingSubscriptionId||!(null===(i=n.createdByUser)||void 0===i?void 0:i.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:n});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:a.v.CHURNKEY_APP_ID,subscriptionId:n.billingSubscriptionId,customerId:null===(t=n.createdByUser)||void 0===t?void 0:t.billingCustomerId}),E({authHash:e,subscription:n,localeKey:g,productKey:p,launchIntercomUI:v})})},[n,p,c,g,v]);return(0,t.useEffect)(()=>{u&&m()},[m,u]),{launchFailedPaymentFlow:m,failedPaymentFlowEnabled:c}},E=async e=>{var n,i;let{authHash:t,subscription:r,localeKey:d,productKey:o,launchIntercomUI:l}=e;null===(i=window.churnkey)||void 0===i||i.check("failed-payment",{subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId,authHash:t,customerAttributes:{language:d},i18n:{lang:d,messages:f(d,o)},appId:a.v.CHURNKEY_APP_ID,mode:a.v.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;l(),u.co.track(u.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var n,i;return u.co.track(u.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:r.billingSubscriptionId,customerId:null===(i=r.createdByUser)||void 0===i?void 0:i.billingCustomerId,customer:e}),I({authHash:t,subscription:r,localeKey:d,productKey:o,launchIntercomUI:l,customerAttributes:{viaFailedPayment:!0}}).catch(e=>E({authHash:t,subscription:r,localeKey:d,productKey:o,launchIntercomUI:l}))},onFailedPaymentWallActivated(){var e;u.co.track(u.AA.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;u.co.track(u.AA.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;u.co.track(u.AA.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;u.co.track(u.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,n){console.warn('Churnkey check("failed-payment", ...) error',e,n)}})},A=(e,n)=>{let i=(0,d.ye)("churnkeyCancelFlowEnabled"),a=(0,o.l)(),u=(0,s.K9)(n),c=(0,l.G)(),g=(0,t.useCallback)(()=>{if(e&&u&&i)return(0,r.d6)("churnkey").then(n=>{var i;if(!n||!e.billingSubscriptionId||!(null===(i=e.createdByUser)||void 0===i?void 0:i.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:n,subscription:e});return}return I({authHash:n,subscription:e,localeKey:a,productKey:u,launchIntercomUI:c})})},[i,a,u,e,c]);return{launchCancelFlow:g,cancelFlowEnabled:i}},I=async e=>{let{authHash:n,subscription:i,localeKey:t,productKey:r,customerAttributes:d={},launchIntercomUI:o}=e;return new Promise((e,l)=>{var c,g,p;null===(p=window.churnkey)||void 0===p||p.init("show",{subscriptionId:i.billingSubscriptionId,customerId:null===(c=i.createdByUser)||void 0===c?void 0:c.billingCustomerId,authHash:n,customerAttributes:{language:t,frequency:null===(g=(0,s.OJ)(i))||void 0===g?void 0:g.frequencyUnit,productKey:r,...d},i18n:{lang:t,messages:f(t,r)},appId:a.v.CHURNKEY_APP_ID,mode:a.v.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;o(),u.co.track(u.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(e=i.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,n,t){var a;u.co.track(u.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(a=i.createdByUser)||void 0===a?void 0:a.billingCustomerId,surveyResponse:n,freeformFeedback:t}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:n,freeformFeedback:t})},onGoToAccount(n){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:n}),e({sessionResults:n})},onClose(n){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:n}),!n||n.aborted){l("Churnkey cancel flow aborted");return}e({sessionResults:n})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),l({message:e})}})})}},48832:function(e,n,i){i.d(n,{BK:function(){return E},Dw:function(){return h},Km:function(){return b},dN:function(){return f},p6:function(){return C}});var t=i(87254),a=i(82282),r=i(32361),d=i(96740),o=i(31807),l=i(73871),s=i(57907),u=i(21346),c=i(48053),g=i(1363),p=i(49738),v=i(90535),m=i(9283),_=i(75528);let y={en:s.Z,"pt-br":u.Z,ja:c.Z,"zh-cn":g.Z,"zh-tw":p.Z,es:v.Z,fr:m.Z,ko:_.Z},f=()=>y[t.ag.locale]||void 0,C=(e,n)=>e?(0,a.Z)((0,o.Z)(e),n,{locale:f()}):"",b=(e,n)=>e?(0,d.Z)((0,o.Z)(e),n?(0,o.Z)(n):new Date,{locale:f()}):"",h=e=>e?(0,r.Z)((0,o.Z)(e),{locale:f()}):"",E=e=>e?(0,l.Z)((0,o.Z)(e),new Date,{locale:f(),addSuffix:!0,roundingMethod:"floor"}):""},58786:function(e,n,i){i.d(n,{S:function(){return y}});var t=i(52322),a=i(55478),r=i(2784),d=i(76332),o=i(6912),l=i(42111),s=i(34881),u=i(27902),c=i(21733),g=i(78462),p=i(66051),v=i(1163),m=i(2953);let _="get-gamma-pro",y=e=>{var n,i;let{children:y}=e,{currentWorkspace:f,isUserLoading:C}=(0,c.SE)(),[b,h]=(0,r.useState)(!1),E=(0,u.z$)(),A=(0,l.ye)("upsellUXEnabled_Pro"),{data:I,refetch:x}=(0,d.FaU)({variables:{workspaceId:null==f?void 0:f.id,includeExpired:!0},skip:!(null==f?void 0:f.id)}),P=null==I?void 0:I.subscription;(0,o.ET)({subscription:P,workspace:f,autoLaunch:!0});let{data:w}=(0,d.kNl)({variables:{workspaceId:null==f?void 0:f.id},skip:!f}),N=null==w?void 0:null===(n=w.products)||void 0===n?void 0:n.find(e=>"pro"===e.key),k=null==N?void 0:null===(i=N.prices)||void 0===i?void 0:i.find(e=>e.frequencyUnit===d.C_B.Year),T=(0,v.K9)(f),{isOpen:U,onOpen:S,onClose:R}=(0,a.q)({id:"upsell-modal"}),M=(0,r.useRef)(null),j=(0,r.useCallback)(e=>{let{onOpenCallback:n,onCloseCallback:i,insufficientCreditsWarning:t,segmentEvent:a}=e;A&&(h(!!t),null==n||n(),S(),null==E||E.track(a),M.current=i||null)},[E,S,A]),O=(0,r.useCallback)(()=>{var e;null==M||null===(e=M.current)||void 0===e||e.call(M),R(),M.current=null,h(!1)},[R]),[D,B]=(0,r.useState)({openUpsellModal:j,product:T,subscription:P,proYearlyProductPrice:k});return(0,r.useEffect)(()=>{let e="true"===(0,g.SJ)()[_];e&&!C&&f&&(S(),(0,s.lO)({query:{...(0,g.SJ)(),[_]:void 0},emitChange:!1}))},[S,f,C]),(0,r.useEffect)(()=>{B({openUpsellModal:j,refetchSubscription:x,product:T,subscription:P,proYearlyProductPrice:k})},[j,T,P,k,x]),(0,t.jsxs)(m.P.Provider,{value:D,children:[y,(0,t.jsx)(p.b,{insufficientCreditsWarning:b,isUpsellModalOpen:U,closeUpsellModal:O}),(0,t.jsx)(o.S1,{})]})}},93206:function(e,n,i){i.d(n,{s:function(){return a}});var t=i(54839);let a=(e,n)=>{if(e.globalToast)return;let i=(0,t.I)({theme:n});e.globalToast=i}}}]);
//# sourceMappingURL=5861-09957e56c64b80a8.js.map